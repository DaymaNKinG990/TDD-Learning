# üåç –ü–∞—Ç—Ç–µ—Ä–Ω—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –º–∏—Ä–µ: –∞–Ω–∞–ª–∏–∑ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö Python –±–∏–±–ª–∏–æ—Ç–µ–∫

## üéØ –¶–µ–ª–∏ —É—Ä–æ–∫–∞

–ü–æ—Å–ª–µ –∏–∑—É—á–µ–Ω–∏—è —ç—Ç–æ–≥–æ —É—Ä–æ–∫–∞ –≤—ã —Å–º–æ–∂–µ—Ç–µ:
- ‚úÖ –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö –∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞—Ö
- ‚úÖ –ü–æ–Ω–∏–º–∞—Ç—å –º–æ—Ç–∏–≤–∞—Ü–∏—é –≤—ã–±–æ—Ä–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –≤ production-–∫–æ–¥–µ
- ‚úÖ –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –≤ open-source –ø—Ä–æ–µ–∫—Ç–∞—Ö
- ‚úÖ –ü—Ä–∏–º–µ–Ω—è—Ç—å –Ω–∞–π–¥–µ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –≤ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö

## üìö –í–≤–µ–¥–µ–Ω–∏–µ

–ò–∑—É—á–∏–≤ —Ç–µ–æ—Ä–∏—é –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –≤–∞–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å, –∫–∞–∫ –æ–Ω–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö. –í —ç—Ç–æ–º —É—Ä–æ–∫–µ –º—ã –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –≤ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö Python –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö –∏ –ø–æ–π–º–µ–º, –ø–æ—á–µ–º—É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤—ã–±—Ä–∞–ª–∏ –∏–º–µ–Ω–Ω–æ —ç—Ç–∏ —Ä–µ—à–µ–Ω–∏—è.

### üí° –ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏

**–ê–Ω–∞–ª–æ–≥–∏—è**: –ò–∑—É—á–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∑–¥–∞–Ω–∏–π
- –¢–µ–æ—Ä–∏—è = —á–µ—Ä—Ç–µ–∂–∏ –∏ –ø—Ä–∞–≤–∏–ª–∞
- –ü—Ä–∞–∫—Ç–∏–∫–∞ = —Ä–µ–∞–ª—å–Ω—ã–µ –∑–¥–∞–Ω–∏—è (Django, FastAPI, SQLAlchemy)
- –ê–Ω–∞–ª–∏–∑ = –ø–æ–Ω–∏–º–∞–Ω–∏–µ, –ø–æ—á–µ–º—É –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä –≤—ã–±—Ä–∞–ª –∏–º–µ–Ω–Ω–æ —ç—Ç–æ —Ä–µ—à–µ–Ω–∏–µ

**–í –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏:**
- –ò–∑—É—á–∞–µ–º –∫–æ–¥ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫
- –í–∏–¥–∏–º, –∫–∞–∫ –ø–∞—Ç—Ç–µ—Ä–Ω—ã —Ä–µ—à–∞—é—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- –£—á–∏–º—Å—è –ø—Ä–∏–º–µ–Ω—è—Ç—å —Ç–µ –∂–µ —Ä–µ—à–µ–Ω–∏—è –≤ —Å–≤–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö

### üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö

```mermaid
graph TB
    A[–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏] --> B[Django<br/>Singleton, Factory]
    A --> C[FastAPI<br/>Dependency Injection]
    A --> D[SQLAlchemy<br/>Factory, Adapter]
    A --> E[Pydantic<br/>Builder, Strategy]
    A --> F[Requests<br/>Adapter, Facade]
    
    B --> G[Settings<br/>Logger]
    C --> H[Depends<br/>–†–æ—É—Ç–µ—Ä—ã]
    D --> I[Engine<br/>ORM]
    E --> J[–í–∞–ª–∏–¥–∞—Ü–∏—è<br/>–ú–æ–¥–µ–ª–∏]
    F --> K[HTTP<br/>–°–µ—Å—Å–∏–∏]
    
    style A fill:#4dabf7
```

---

## üè≠ Creational Patterns –≤ –¥–µ–π—Å—Ç–≤–∏–∏

### üîß Singleton Pattern

#### Django Settings
**–ì–¥–µ:** `django.conf.settings`
**–ó–∞—á–µ–º:** –ì–ª–æ–±–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```python
# –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –∏–∑ Django
class LazySettings:
    def __init__(self):
        self._wrapped = None

    def _setup(self):
        # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
        if self._wrapped is None:
            settings_module = os.environ.get('DJANGO_SETTINGS_MODULE')
            self._wrapped = Settings(settings_module)

    def __getattr__(self, name):
        if self._wrapped is None:
            self._setup()
        return getattr(self._wrapped, name)

# –ì–ª–æ–±–∞–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä
settings = LazySettings()
```

**–ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ Singleton:**
- **–ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏** –¥–ª—è –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —á–∏—Ç–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏
- **–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤** - –≤—Å–µ –º–æ–¥—É–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–Ω–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

#### logging.getLogger()
**–ì–¥–µ:** –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ Python
**–ó–∞—á–µ–º:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–≥–µ—Ä–∞–º–∏ –ø–æ –∏–º–µ–Ω–∞–º

```python
import logging

# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ—Ç –∂–µ —ç–∫–∑–µ–º–ø–ª—è—Ä –¥–ª—è –æ–¥–Ω–æ–≥–æ –∏–º–µ–Ω–∏
logger1 = logging.getLogger('myapp')
logger2 = logging.getLogger('myapp')
print(logger1 is logger2)  # True

# –í–Ω—É—Ç—Ä–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–ª–æ–≤–∞—Ä—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤
class LoggerDict(dict):
    def __getitem__(self, key):
        if key not in self:
            self[key] = Logger(key)
        return super().__getitem__(key)
```

**–ü–æ—á–µ–º—É Singleton –ø–æ–¥—Ö–æ–¥–∏—Ç:**
- **–ò–∑–±–µ–∂–∞–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è** –ª–æ–≥–≥–µ—Ä–æ–≤ —Å –æ–¥–Ω–∏–º –∏–º–µ–Ω–µ–º
- **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** –ª–æ–≥–≥–µ—Ä–æ–≤

### üèó Factory Pattern

#### SQLAlchemy Engine
**–ì–¥–µ:** `sqlalchemy.create_engine()`
**–ó–∞—á–µ–º:** –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∫ —Ä–∞–∑–Ω—ã–º —Ç–∏–ø–∞–º –ë–î

```python
# SQLAlchemy –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Factory –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è Engine
def create_engine(url, **kwargs):
    strategy = strategies.DefaultEngineStrategy()
    return strategy.create(*args, **kwargs)

class DefaultEngineStrategy:
    def create(self, name_or_url, **kwargs):
        # –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –ë–î –∏–∑ URL
        u = url.make_url(name_or_url)
        
        if u.drivername == 'postgresql':
            return PostgreSQLEngine(u, **kwargs)
        elif u.drivername == 'mysql':
            return MySQLEngine(u, **kwargs)
        elif u.drivername == 'sqlite':
            return SQLiteEngine(u, **kwargs)

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
engine = create_engine('postgresql://user:pass@localhost/db')
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Factory –≤ SQLAlchemy:**
- **–ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è** - –∫–ª–∏–µ–Ω—Ç –Ω–µ –∑–Ω–∞–µ—Ç –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–∞—Ö Engine
- **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –Ω–æ–≤—ã—Ö –ë–î
- **–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö

#### requests.Session
**–ì–¥–µ:** `requests.Session()`
**–ó–∞—á–µ–º:** –§–∞–±—Ä–∏–∫–∞ –¥–ª—è HTTP-—Å–µ—Å—Å–∏–π —Å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

```python
class Session:
    def __init__(self):
        self.adapters = {}
        self.mount('https://', HTTPAdapter())
        self.mount('http://', HTTPAdapter())
    
    def mount(self, prefix, adapter):
        """–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∞–¥–∞–ø—Ç–µ—Ä–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤"""
        self.adapters[prefix] = adapter
    
    def get_adapter(self, url):
        """Factory Method –¥–ª—è –≤—ã–±–æ—Ä–∞ –∞–¥–∞–ø—Ç–µ—Ä–∞"""
        for prefix, adapter in self.adapters.items():
            if url.startswith(prefix):
                return adapter

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –∞–¥–∞–ø—Ç–µ—Ä–∞
session = Session()
response = session.get('https://api.github.com')  # –ò—Å–ø–æ–ª—å–∑—É–µ—Ç HTTPS –∞–¥–∞–ø—Ç–µ—Ä
```

### üß± Builder Pattern

#### Django ORM QuerySet
**–ì–¥–µ:** Django QuerySet API
**–ó–∞—á–µ–º:** –ü–æ—à–∞–≥–æ–≤–æ–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ SQL-–∑–∞–ø—Ä–æ—Å–æ–≤

```python
# Django QuerySet –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Fluent Builder
class QuerySet:
    def __init__(self, model):
        self.model = model
        self._filters = []
        self._order_by = []
        self._limit = None
    
    def filter(self, **kwargs):
        new_qs = self._clone()
        new_qs._filters.append(kwargs)
        return new_qs
    
    def order_by(self, *fields):
        new_qs = self._clone()
        new_qs._order_by = list(fields)
        return new_qs
    
    def limit(self, n):
        new_qs = self._clone()
        new_qs._limit = n
        return new_qs

# Fluent interface –≤ –¥–µ–π—Å—Ç–≤–∏–∏
users = User.objects.filter(age__gte=18).order_by('-created_at')[:10]
```

**–ü–æ—á–µ–º—É Builder –ø–æ–¥—Ö–æ–¥–∏—Ç Django ORM:**
- **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å** - –∫–æ–¥ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —è–∑—ã–∫
- **–ì–∏–±–∫–æ—Å—Ç—å** - –º–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —É—Å–ª–æ–≤–∏—è –≤ –ª—é–±–æ–º –ø–æ—Ä—è–¥–∫–µ
- **–õ–µ–Ω–∏–≤–æ—Å—Ç—å** - SQL –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–æ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### SQLAlchemy Query Builder
**–ì–¥–µ:** SQLAlchemy Core
**–ó–∞—á–µ–º:** –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö SQL-–∑–∞–ø—Ä–æ—Å–æ–≤

```python
from sqlalchemy import select, and_, or_

# Builder –¥–ª—è SQL-–∑–∞–ø—Ä–æ—Å–æ–≤
query = (select([users.c.name, users.c.email])
         .where(and_(users.c.age >= 18, 
                     users.c.active == True))
         .order_by(users.c.name)
         .limit(10))
```

---

## üîó Structural Patterns –≤ –¥–µ–π—Å—Ç–≤–∏–∏

### üîå Adapter Pattern

#### Django Database Backends
**–ì–¥–µ:** Django database backends
**–ó–∞—á–µ–º:** –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ë–î

```python
# Django –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç —Ä–∞–∑–Ω—ã–µ DB-API –∫ –µ–¥–∏–Ω–æ–º—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
class BaseDatabaseWrapper:
    def __init__(self, settings_dict):
        self.settings_dict = settings_dict
    
    def connect(self):
        # –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∞–¥–∞–ø—Ç–µ—Ä–∞—Ö
        raise NotImplementedError()

class PostgreSQLWrapper(BaseDatabaseWrapper):
    def connect(self):
        import psycopg2
        return psycopg2.connect(**self.connection_params)

class MySQLWrapper(BaseDatabaseWrapper):
    def connect(self):
        import MySQLdb
        return MySQLdb.connect(**self.connection_params)

# Django —Å–∫—Ä—ã–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É –ë–î
connection = connections['default']  # –ú–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±–∞—è –ë–î
cursor = connection.cursor()
cursor.execute("SELECT * FROM users")
```

**–ó–∞—á–µ–º –Ω—É–∂–µ–Ω Adapter:**
- **–ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ –ë–î
- **–ò–∑–æ–ª—è—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π** - –∑–∞–º–µ–Ω–∞ –ë–î –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ DB-API –¥—Ä–∞–π–≤–µ—Ä–∞–º–∏

#### requests.adapters
**–ì–¥–µ:** HTTP –∞–¥–∞–ø—Ç–µ—Ä—ã –≤ requests
**–ó–∞—á–µ–º:** –ê–¥–∞–ø—Ç–∞—Ü–∏—è —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–≤

```python
class HTTPAdapter:
    def send(self, request, **kwargs):
        """–ê–¥–∞–ø—Ç–∏—Ä—É–µ—Ç urllib3 –∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É requests"""
        conn = self.get_connection(request.url)
        return conn.urlopen(method=request.method, 
                           url=request.url, 
                           body=request.body)

# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∞–¥–∞–ø—Ç–µ—Ä—ã
class TimeoutHTTPAdapter(HTTPAdapter):
    def send(self, request, timeout=None, **kwargs):
        # –î–æ–±–∞–≤–ª—è–µ—Ç –ª–æ–≥–∏–∫—É —Ç–∞–π–º–∞—É—Ç–æ–≤
        return super().send(request, timeout=timeout or 10, **kwargs)
```

### üé® Decorator Pattern

#### Django Middleware
**–ì–¥–µ:** Django middleware —Å–∏—Å—Ç–µ–º–∞
**–ó–∞—á–µ–º:** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∫ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞–ø—Ä–æ—Å–æ–≤

```python
# Django middleware —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ü–µ–ø–æ—á–∫–∞ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤
class SecurityMiddleware:
    def __init__(self, get_response):
        self.get_response = get_response
    
    def __call__(self, request):
        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ view
        request = self.process_request(request)
        
        response = self.get_response(request)
        
        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ—Å–ª–µ view
        response = self.process_response(request, response)
        return response
    
    def process_response(self, request, response):
        response['X-Frame-Options'] = 'DENY'
        return response

# Middleware –∫–∞–∫ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã
MIDDLEWARE = [
    'django.middleware.security.SecurityMiddleware',
    'django.middleware.common.CommonMiddleware',
    'django.middleware.csrf.CsrfViewMiddleware',
]
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Decorator –≤ Django:**
- **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** - –∫–∞–∂–¥—ã–π middleware –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ–¥–Ω—É —Ñ—É–Ω–∫—Ü–∏—é
- **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** - middleware –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –∫ –ª—é–±–æ–º—É –ø—Ä–æ–µ–∫—Ç—É
- **–ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** - –≤–∞–∂–µ–Ω –ø–æ—Ä—è–¥–æ–∫ –≤ —Å–ø–∏—Å–∫–µ MIDDLEWARE

#### Python @functools.wraps
**–ì–¥–µ:** –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ Python
**–ó–∞—á–µ–º:** –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –¥–µ–∫–æ—Ä–∏—Ä—É–µ–º—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

```python
import functools

def my_decorator(func):
    @functools.wraps(func)  # Decorator –¥–ª—è Decorator!
    def wrapper(*args, **kwargs):
        print(f"Calling {func.__name__}")
        return func(*args, **kwargs)
    return wrapper

@my_decorator
def greet(name):
    """Greets a person"""
    return f"Hello, {name}!"

print(greet.__name__)  # 'greet' (–±–µ–∑ @wraps –±—ã–ª–æ –±—ã 'wrapper')
print(greet.__doc__)   # 'Greets a person'
```

### üè¢ Facade Pattern

#### Django ORM
**–ì–¥–µ:** Django Model API
**–ó–∞—á–µ–º:** –£–ø—Ä–æ—â–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

```python
# Django ORM —Å–∫—Ä—ã–≤–∞–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å SQL –∑–∞ –ø—Ä–æ—Å—Ç—ã–º API
class User(models.Model):
    name = models.CharField(max_length=100)
    email = models.EmailField()
    
    @classmethod
    def get_active_users(cls):
        # Facade —Å–∫—Ä—ã–≤–∞–µ—Ç —Å–ª–æ–∂–Ω—ã–µ SQL-–∑–∞–ø—Ä–æ—Å—ã
        return cls.objects.filter(is_active=True).prefetch_related('profile')

# –ü—Ä–æ—Å—Ç–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–ª–æ–∂–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
users = User.get_active_users()  # –í–º–µ—Å—Ç–æ —Å–ª–æ–∂–Ω–æ–≥–æ SQL

# –í–Ω—É—Ç—Ä–∏ Django –≤—ã–ø–æ–ª–Ω—è–µ—Ç:
# SELECT * FROM users WHERE is_active = TRUE;
# SELECT * FROM profiles WHERE user_id IN (...);
```

**–ó–∞—á–µ–º Facade –≤ ORM:**
- **–°–∫—Ä—ã—Ç–∏–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ SQL** - —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å Python-–æ–±—ä–µ–∫—Ç–∞–º–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - ORM –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- **–ü–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç—å** - –æ–¥–∏–Ω –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ä–∞–∑–Ω—ã–º–∏ –ë–î

#### requests library
**–ì–¥–µ:** –ü—É–±–ª–∏—á–Ω—ã–π API requests
**–ó–∞—á–µ–º:** –£–ø—Ä–æ—â–µ–Ω–∏–µ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤

```python
# requests.get() - —ç—Ç–æ Facade –Ω–∞–¥ —Å–ª–æ–∂–Ω–æ–π HTTP-–º–∞—à–∏–Ω–µ—Ä–∏–µ–π
def get(url, **kwargs):
    # Facade —Å–æ–∑–¥–∞–µ—Ç Session, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∞–¥–∞–ø—Ç–µ—Ä—ã, 
    # –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç cookies, redirects, encoding –∏ —Ç.–¥.
    with Session() as session:
        return session.request('GET', url, **kwargs)

# –ü—Ä–æ—Å—Ç–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
response = requests.get('https://api.github.com/users/octocat')

# –í–º–µ—Å—Ç–æ:
# session = Session()
# adapter = HTTPAdapter()
# request = PreparedRequest()
# request.prepare(method='GET', url='...', headers=headers, ...)
# response = adapter.send(request)
```

---

## üé≠ Behavioral Patterns –≤ –¥–µ–π—Å—Ç–≤–∏–∏

### üëÅ Observer Pattern

#### Django Signals
**–ì–¥–µ:** Django signals —Å–∏—Å—Ç–µ–º–∞
**–ó–∞—á–µ–º:** –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Å–æ–±—ã—Ç–∏—è—Ö –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

```python
from django.db.models.signals import post_save, pre_delete
from django.dispatch import receiver

# Django –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Observer –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ —Å–æ–±—ã—Ç–∏—è—Ö –º–æ–¥–µ–ª–∏
@receiver(post_save, sender=User)
def user_created_handler(sender, instance, created, **kwargs):
    if created:
        # –û—Ç–ø—Ä–∞–≤–∫–∞ welcome email
        send_welcome_email(instance.email)
        
        # –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        Profile.objects.create(user=instance)
        
        # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
        logger.info(f"New user created: {instance.email}")

# Signals –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏
user = User.objects.create(email='test@example.com')  
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è user_created_handler
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Observer –≤ Django:**
- **–°–ª–∞–±–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å** - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–µ –∑–Ω–∞—é—Ç –æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–∏ –¥—Ä—É–≥ –¥—Ä—É–≥–∞
- **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
- **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** - –∫–∞–∂–¥—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ/–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

#### asyncio Event Loop
**–ì–¥–µ:** Python asyncio
**–ó–∞—á–µ–º:** –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π

```python
import asyncio

# asyncio.Event —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ Observer
async def waiter(event):
    print('–û–∂–∏–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è...')
    await event.wait()
    print('–°–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ!')

async def setter(event):
    await asyncio.sleep(2)
    event.set()  # –£–≤–µ–¥–æ–º–ª—è–µ—Ç –≤—Å–µ—Ö –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π
    print('–°–æ–±—ã—Ç–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ')

# –ù–µ—Å–∫–æ–ª—å–∫–æ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π –º–æ–≥—É—Ç –∂–¥–∞—Ç—å –æ–¥–Ω–æ —Å–æ–±—ã—Ç–∏–µ
async def main():
    event = asyncio.Event()
    
    await asyncio.gather(
        waiter(event),
        waiter(event),  # –í—Ç–æ—Ä–æ–π –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å
        setter(event)
    )
```

### üéØ Strategy Pattern

#### Django Storage Backends
**–ì–¥–µ:** Django file storage
**–ó–∞—á–µ–º:** –†–∞–∑–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤

```python
# Django –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Strategy –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–ø–æ—Å–æ–±–æ–≤ —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
class FileSystemStorage:
    def save(self, name, content):
        # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ª–æ–∫–∞–ª—å–Ω—É—é —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É
        with open(self.path(name), 'wb') as f:
            f.write(content.read())
        return name

class S3Storage:
    def save(self, name, content):
        # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ Amazon S3
        self.bucket.upload_fileobj(content, name)
        return name

# –í settings.py –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é
DEFAULT_FILE_STORAGE = 'myapp.storage.S3Storage'

# –ö–æ–¥ –æ—Å—Ç–∞–µ—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º
def upload_file(request):
    from django.core.files.storage import default_storage
    storage = default_storage  # Strategy –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫
    filename = storage.save('uploads/file.pdf', request.FILES['file'])
```

**–ó–∞—á–µ–º Strategy –≤ Django Storage:**
- **–ì–∏–±–∫–æ—Å—Ç—å –¥–µ–ø–ª–æ—è** - –ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞, S3 –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞** - —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

#### logging formatters
**–ì–¥–µ:** Python logging
**–ó–∞—á–µ–º:** –†–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –ª–æ–≥–æ–≤

```python
import logging

# Strategy –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–≥–æ–≤
class JSONFormatter(logging.Formatter):
    def format(self, record):
        return json.dumps({
            'timestamp': record.created,
            'level': record.levelname,
            'message': record.getMessage(),
            'module': record.module
        })

class SimpleFormatter(logging.Formatter):
    def format(self, record):
        return f"{record.levelname}: {record.getMessage()}"

# –í—ã–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
handler = logging.StreamHandler()
handler.setFormatter(JSONFormatter())  # –∏–ª–∏ SimpleFormatter()
```

### üîó Chain of Responsibility Pattern

#### Django Middleware (–æ–ø—è—Ç—å!)
**–ì–¥–µ:** Django middleware —Å–∏—Å—Ç–µ–º–∞
**–ó–∞—á–µ–º:** –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤

```python
# Middleware –≤ Django –æ–±—Ä–∞–∑—É—é—Ç —Ü–µ–ø–æ—á–∫—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
class AuthenticationMiddleware:
    def __init__(self, get_response):
        self.get_response = get_response
    
    def __call__(self, request):
        # –ü—ã—Ç–∞–µ–º—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        if self.authenticate(request):
            request.user = self.get_user(request)
        else:
            request.user = AnonymousUser()
        
        # –ü–µ—Ä–µ–¥–∞–µ–º –¥–∞–ª—å—à–µ –ø–æ —Ü–µ–ø–æ—á–∫–µ
        return self.get_response(request)

class PermissionMiddleware:
    def __init__(self, get_response):
        self.get_response = get_response
    
    def __call__(self, request):
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
        if not request.user.has_perm(request.path):
            return HttpResponseForbidden()
        
        # –ü–µ—Ä–µ–¥–∞–µ–º –¥–∞–ª—å—à–µ
        return self.get_response(request)
```

#### logging.Handler hierarchy
**–ì–¥–µ:** Python logging
**–ó–∞—á–µ–º:** –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ª–æ–≥–æ–≤

```python
# –õ–æ–≥–≥–µ—Ä—ã –æ–±—Ä–∞–∑—É—é—Ç —Ü–µ–ø–æ—á–∫—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
root_logger = logging.getLogger()  # –ö–æ—Ä–Ω–µ–≤–æ–π –ª–æ–≥–≥–µ—Ä
app_logger = logging.getLogger('myapp')  # –õ–æ–≥–≥–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
module_logger = logging.getLogger('myapp.module')  # –õ–æ–≥–≥–µ—Ä –º–æ–¥—É–ª—è

# –°–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ —Ü–µ–ø–æ—á–∫–µ: module -> app -> root
module_logger.error("Something went wrong")

# –ö–∞–∂–¥—ã–π –ª–æ–≥–≥–µ—Ä –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∏–ª–∏ –ø–µ—Ä–µ–¥–∞—Ç—å –¥–∞–ª—å—à–µ
class CustomHandler(logging.Handler):
    def emit(self, record):
        if record.levelno >= logging.ERROR:
            # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—à–∏–±–∫–∏
            send_to_monitoring(record)
        # –û—Å—Ç–∞–ª—å–Ω–æ–µ –ø–µ—Ä–µ–¥–∞–µ–º –¥–∞–ª—å—à–µ (—á–µ—Ä–µ–∑ parent logger)
```

### üèõ Template Method Pattern

#### Django Generic Views
**–ì–¥–µ:** Django Class-Based Views
**–ó–∞—á–µ–º:** –û–±—â–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º —Å –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–µ–π –¥–µ—Ç–∞–ª–µ–π

```python
class ListView:
    """Template Method –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–∏—Å–∫–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤"""
    
    def get(self, request):
        # –û–±—â–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º (Template Method)
        queryset = self.get_queryset()      # –•—É–∫ 1
        queryset = self.filter_queryset(queryset)  # –•—É–∫ 2
        context = self.get_context_data(queryset)  # –•—É–∫ 3
        return self.render_to_response(context)     # –•—É–∫ 4
    
    def get_queryset(self):
        # –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –º–µ—Ç–æ–¥ - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω
        raise NotImplementedError()
    
    def filter_queryset(self, queryset):
        # –•—É–∫ —Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        return queryset
    
    def get_context_data(self, queryset):
        return {'object_list': queryset}

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
class UserListView(ListView):
    def get_queryset(self):
        return User.objects.filter(is_active=True)
    
    def filter_queryset(self, queryset):
        # –ö–∞—Å—Ç–æ–º–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
        search = self.request.GET.get('search')
        if search:
            return queryset.filter(name__icontains=search)
        return queryset
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Template Method –≤ Django:**
- **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏** - –æ–±—â–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –≤ –±–∞–∑–æ–≤–æ–º –∫–ª–∞—Å—Å–µ
- **–ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è** - –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã—Ö —á–∞—Å—Ç–µ–π
- **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** - –≤—Å–µ view —Å–ª–µ–¥—É—é—Ç –æ–¥–Ω–æ–º—É —à–∞–±–ª–æ–Ω—É

---

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### üèó MVC –≤ Django

Django –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—é MVC - –ø–∞—Ç—Ç–µ—Ä–Ω MVT (Model-View-Template):

```python
# Model - –¥–∞–Ω–Ω—ã–µ –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
class Article(models.Model):
    title = models.CharField(max_length=200)
    content = models.TextField()
    
    def get_absolute_url(self):
        return reverse('article-detail', kwargs={'pk': self.pk})

# View - –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä (–≤ Django —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏–∏)
class ArticleDetailView(DetailView):
    model = Article
    template_name = 'article_detail.html'

# URLs - –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Å–ª–æ–π)
urlpatterns = [
    path('articles/<int:pk>/', ArticleDetailView.as_view(), name='article-detail'),
]
```

**Template - –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ** (`article_detail.html`):

```html
<h1>{{ article.title }}</h1>
<p>{{ article.content }}</p>
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ MVT –≤ Django:**
- **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π** - –¥–∞–Ω–Ω—ã–µ, –ª–æ–≥–∏–∫–∞, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
- **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** - –æ–¥–Ω–∞ –º–æ–¥–µ–ª—å, –º–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π
- **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** - –∫–∞–∂–¥—ã–π —Å–ª–æ–π —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ

### üîå Dependency Injection –≤ Flask

Flask –∏—Å–ø–æ–ª—å–∑—É–µ—Ç DI —á–µ—Ä–µ–∑ —Å–≤–æ—é —Å–∏—Å—Ç–µ–º—É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π:

```python
# Flask-SQLAlchemy –∏—Å–ø–æ–ª—å–∑—É–µ—Ç DI –ø–∞—Ç—Ç–µ—Ä–Ω
from flask import Flask
from flask_sqlalchemy import SQLAlchemy

app = Flask(__name__)
db = SQLAlchemy()  # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å

def create_app():
    app = Flask(__name__)
    db.init_app(app)  # –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
    return app

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–¥–º–µ–Ω–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
def test_create_app():
    test_db = SQLAlchemy()  # –¢–µ—Å—Ç–æ–≤–∞—è –±–∞–∑–∞
    app = Flask(__name__)
    test_db.init_app(app)   # –í–Ω–µ–¥—Ä—è–µ–º —Ç–µ—Å—Ç–æ–≤—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
```

---

## üîç –ê–Ω–∞–ª–∏–∑ –≤—ã–±–æ—Ä–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

### –ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ —ç—Ç–∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã?

#### Django –≤—ã–±—Ä–∞–ª Observer (Signals) –ø–æ—Ç–æ–º—É —á—Ç–æ:
- **–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏–π–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ** - –º–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏–π (—Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –ø–æ–∫—É–ø–∫–∞, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π)
- **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** - —Ä–∞–∑–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º–æ–≥—É—Ç —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Å–æ–±—ã—Ç–∏—è
- **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** - –ø–ª–∞–≥–∏–Ω—ã –º–æ–≥—É—Ç –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏—è

#### SQLAlchemy –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Strategy –¥–ª—è –¥–≤–∏–∂–∫–æ–≤ –ë–î –ø–æ—Ç–æ–º—É —á—Ç–æ:
- **–ú–Ω–æ–∂–µ—Å—Ç–≤–æ –°–£–ë–î** —Å —Ä–∞–∑–Ω—ã–º–∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—è–º–∏
- **–ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –±–∞–∑
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏** —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è –∫–∞–∂–¥–æ–π –°–£–ë–î

#### requests –ø—Ä–∏–º–µ–Ω—è–µ—Ç Adapter –ø–æ—Ç–æ–º—É —á—Ç–æ:
- **–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è HTTP** - —Ä–∞–∑–Ω—ã–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—ã, –æ–¥–∏–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–∏ –∞–¥–∞–ø—Ç–µ—Ä—ã
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - mock-–∞–¥–∞–ø—Ç–µ—Ä—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤

### –ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏–∑–±–µ–∂–∞–ª–∏

#### Django –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Singleton –¥–ª—è –º–æ–¥–µ–ª–µ–π –ø–æ—Ç–æ–º—É —á—Ç–æ:
- **–ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏** - —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—Å—è –º–µ–∂–¥—É —Ç–µ—Å—Ç–∞–º–∏
- **–ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å** - –ø—Ä–æ–±–ª–µ–º—ã —Å race conditions
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - —É–∑–∫–∏–µ –º–µ—Å—Ç–∞ –≤ –≤—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö

#### Flask –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ–∞–±—Ä–∏–∫–∏ –ø–æ—Ç–æ–º—É —á—Ç–æ:
- **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** - —Å–ª–æ–∂–Ω–æ –ø–æ–¥–º–µ–Ω—è—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- **–ò–∑–æ–ª—è—Ü–∏—è** - —Ä–∞–∑–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - —Ä–∞–∑–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤

---

## üéØ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ö–∞–∫ –≤—ã–±–∏—Ä–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∫–∞–∫ –≤ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö

#### 1. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –¥–æ–º–µ–Ω

–ï—Å–ª–∏ –º–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏–π - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Observer:

```python
# Django: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω, –∑–∞–∫–∞–∑ –æ–ø–ª–∞—á–µ–Ω, —Ñ–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω
from django.dispatch import Signal

user_created = Signal()
order_paid = Signal()
file_uploaded = Signal()

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–¥–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏—è
user_created.connect(send_welcome_email)
order_paid.connect(update_inventory)
```

–ï—Å–ª–∏ –º–Ω–æ–≥–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Strategy:

```python
# SQLAlchemy: PostgreSQL, MySQL, SQLite, Oracle
from sqlalchemy import create_engine

# –†–∞–∑–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ë–î
postgres_engine = create_engine('postgresql://...')
mysql_engine = create_engine('mysql://...')
sqlite_engine = create_engine('sqlite:///...')
```

–ï—Å–ª–∏ —Å–ª–æ–∂–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Factory/Builder:

```python
# requests: —Ä–∞–∑–Ω—ã–µ –∞–¥–∞–ø—Ç–µ—Ä—ã, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
from requests import Session
from requests.adapters import HTTPAdapter

session = Session()
adapter = HTTPAdapter(max_retries=3)
session.mount('https://', adapter)
```

#### 2. –î—É–º–∞–π—Ç–µ –æ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç–∏
```python
# –•–æ—Ä–æ—à–æ: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
class CustomStorage(BaseStorage):
    def save(self, name, content):
        # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –ª–æ–≥–∏–∫–∞
        pass

# –ü–ª–æ—Ö–æ: –∂–µ—Å—Ç–∫–æ –∑–∞—à–∏—Ç—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã
if storage_type == 'filesystem':
    # ...
elif storage_type == 's3':
    # ...
# –ù–µ–ª—å–∑—è –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–∏–ø
```

#### 3. –£—á–∏—Ç—ã–≤–∞–π—Ç–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```python
# –•–æ—Ä–æ—à–æ: –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –ø–æ–¥–º–µ–Ω–∏—Ç—å
def send_email(message, sender=None):
    sender = sender or get_email_sender()  # DI
    sender.send(message)

# –í —Ç–µ—Å—Ç–∞—Ö
mock_sender = MockEmailSender()
send_email("test", sender=mock_sender)

# –ü–ª–æ—Ö–æ: –∂–µ—Å—Ç–∫–æ –∑–∞—à–∏—Ç—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
def send_email(message):
    smtp = smtplib.SMTP('localhost')  # –ù–µ–ª—å–∑—è –ø–æ–¥–º–µ–Ω–∏—Ç—å –≤ —Ç–µ—Å—Ç–∞—Ö
    smtp.send(message)
```

### –ü–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

#### Web Applications (Django, Flask, FastAPI)
- **Observer** –¥–ª—è —Å–æ–±—ã—Ç–∏–π (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∑–∞–∫–∞–∑—ã)
- **Strategy** –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–ø–æ—Å–æ–±–æ–≤ –æ–ø–ª–∞—Ç—ã, —Ö—Ä–∞–Ω–µ–Ω–∏—è
- **Template Method** –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- **Decorator** –¥–ª—è middleware, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

#### CLI Applications (Click, argparse)
- **Command** –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π
- **Chain of Responsibility** –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
- **Factory** –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥

#### Data Processing (pandas, NumPy)
- **Iterator** –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- **Strategy** –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤
- **Template Method** –¥–ª—è pipelines

#### API Clients (requests, httpx)
- **Adapter** –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤
- **Facade** –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è API
- **Builder** –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

### –ö–∞–∫ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Ç–µ—Å—Ç–∏—Ä—É—é—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—ã

#### Django —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç Signals (Observer)
```python
# Django —Å–æ–∑–¥–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–æ–≤
from django.test import TestCase
from django.db.models.signals import post_save

class SignalTest(TestCase):
    def test_user_created_signal(self):
        called = []
        
        def handler(sender, **kwargs):
            called.append(kwargs['instance'])
        
        # –í—Ä–µ–º–µ–Ω–Ω–æ –ø–æ–¥–∫–ª—é—á–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
        post_save.connect(handler, sender=User)
        
        user = User.objects.create(email='test@example.com')
        
        self.assertEqual(len(called), 1)
        self.assertEqual(called[0], user)
        
        # –û—Ç–∫–ª—é—á–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
        post_save.disconnect(handler, sender=User)
```

#### requests —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç Adapters
```python
# requests –∏—Å–ø–æ–ª—å–∑—É–µ—Ç mock-–∞–¥–∞–ø—Ç–µ—Ä—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤
import requests
from requests.adapters import HTTPAdapter
from requests import Session

class MockAdapter(HTTPAdapter):
    def __init__(self, response_text):
        super().__init__()
        self.response_text = response_text
    
    def send(self, request, **kwargs):
        response = Response()
        response._content = self.response_text.encode()
        response.status_code = 200
        return response

# –í —Ç–µ—Å—Ç–∞—Ö –ø–æ–¥–º–µ–Ω—è–µ–º –∞–¥–∞–ø—Ç–µ—Ä
def test_api_call():
    session = Session()
    session.mount('http://test.com', MockAdapter('{"result": "ok"}'))
    
    response = session.get('http://test.com/api')
    assert response.json() == {"result": "ok"}
```

#### SQLAlchemy —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç Strategy (Engine)
```python
# SQLAlchemy —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç –∫–∞–∂–¥—ã–π —Ç–∏–ø Engine
class TestEngineStrategy:
    def test_postgresql_engine(self):
        engine = create_engine('postgresql://test')
        assert isinstance(engine.dialect, PostgreSQLDialect)
    
    def test_sqlite_engine(self):
        engine = create_engine('sqlite:///test.db')
        assert isinstance(engine.dialect, SQLiteDialect)
    
    def test_custom_engine(self):
        # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö Engine
        engine = create_engine('custom://test', strategy=MyCustomStrategy)
        assert isinstance(engine, MyCustomEngine)
```

---

## üìà Performance –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### –ö–∞–∫ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤–ª–∏—è—é—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

#### Observer –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–º
```python
# Django –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç signals —á–µ—Ä–µ–∑ weak references
from django.dispatch import Signal

# –ü–ª–æ—Ö–æ: –¥–µ—Ä–∂–∏–º —Å–∏–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
signal = Signal()
handlers = []  # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è –∏–∑ –ø–∞–º—è—Ç–∏

# –•–æ—Ä–æ—à–æ: weak references –≤ Django
signal.connect(handler, weak=True)  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é weak=True
```

#### Strategy –º–æ–∂–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å—Å—è
```python
# SQLAlchemy –∫—ç—à–∏—Ä—É–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
_strategies_cache = {}

def get_strategy(name):
    if name not in _strategies_cache:
        _strategies_cache[name] = create_strategy(name)
    return _strategies_cache[name]
```

#### Singleton –º–æ–∂–µ—Ç –±—ã—Ç—å —É–∑–∫–∏–º –º–µ—Å—Ç–æ–º
```python
# –ü–ª–æ—Ö–æ: –≤—Å–µ –ø–æ—Ç–æ–∫–∏ –∫–æ–Ω–∫—É—Ä–∏—Ä—É—é—Ç –∑–∞ –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç
class DatabaseConnection:  # Singleton
    def query(self, sql):
        with self._lock:  # –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å
            return self._connection.execute(sql)

# –•–æ—Ä–æ—à–æ: –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –≤–º–µ—Å—Ç–æ Singleton
class ConnectionPool:
    def get_connection(self):
        return self._pool.get()  # –ë–µ–∑ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
```

---

## üéì –ó–∞–∫–ª—é—á–µ–Ω–∏–µ –∏ –≤—ã–≤–æ–¥—ã

### –ß—Ç–æ –º—ã —É–∑–Ω–∞–ª–∏ –∏–∑ –∞–Ω–∞–ª–∏–∑–∞ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫

1. **–ü–∞—Ç—Ç–µ—Ä–Ω—ã —Ä–µ—à–∞—é—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã** - –∫–∞–∂–¥—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –≤ production-–∫–æ–¥–µ –∏–º–µ–µ—Ç —á–µ—Ç–∫—É—é –º–æ—Ç–∏–≤–∞—Ü–∏—é

2. **–ö–æ–Ω—Ç–µ–∫—Å—Ç –≤–∞–∂–Ω–µ–µ —Ç–µ–æ—Ä–∏–∏** - –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –ø–∞—Ç—Ç–µ—Ä–Ω –º–æ–∂–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è –ø–æ-—Ä–∞–∑–Ω–æ–º—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–∞–¥–∞—á

3. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –ø—Ä–µ–≤–æ—Å—Ö–æ–¥–∏—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å** - –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏–∑–±–µ–≥–∞—é—Ç over-engineering

4. **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å –∫—Ä–∏—Ç–∏—á–Ω–∞** - –≤—ã–±–æ—Ä –ø–∞—Ç—Ç–µ—Ä–Ω–∞ —á–∞—Å—Ç–æ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —É–¥–æ–±—Å—Ç–≤–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

5. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ** - –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–æ–ª–∂–Ω—ã –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å—Å—è

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –≤–∞—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

#### ‚úÖ –î–µ–ª–∞–π—Ç–µ –∫–∞–∫ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:
- **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –¥–æ–º–µ–Ω** –ø–µ—Ä–µ–¥ –≤—ã–±–æ—Ä–æ–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞
- **–î—É–º–∞–π—Ç–µ –æ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç–∏** –∏ –ø–ª–∞–≥–∏–Ω–∞—Ö
- **–ü—Ä–æ–µ–∫—Ç–∏—Ä—É–π—Ç–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**
- **–ò–∑–º–µ—Ä—è–π—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
- **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è**

#### ‚ùå –ò–∑–±–µ–≥–∞–π—Ç–µ —Ç–∏–ø–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫:
- –ù–µ –ø—Ä–∏–º–µ–Ω—è–π—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã "–ø–æ—Ç–æ–º—É —á—Ç–æ –º–æ–¥–Ω–æ"
- –ù–µ —É—Å–ª–æ–∂–Ω—è–π—Ç–µ –ø—Ä–æ—Å—Ç—ã–µ —Ä–µ—à–µ–Ω–∏—è
- –ù–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏

### –î–∞–ª—å–Ω–µ–π—à–µ–µ –∏–∑—É—á–µ–Ω–∏–µ

1. **–ß–∏—Ç–∞–π—Ç–µ –∫–æ–¥ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫** - –ª—É—á—à–∏–π —Å–ø–æ—Å–æ–± —É–≤–∏–¥–µ—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤ –¥–µ–π—Å—Ç–≤–∏–∏
2. **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –º–æ—Ç–∏–≤–∞—Ü–∏—é** - –ø–æ—á–µ–º—É –≤—ã–±—Ä–∞–Ω –∏–º–µ–Ω–Ω–æ —ç—Ç–æ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω?
3. **–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ** - –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –∫ –æ–¥–Ω–æ–π –∑–∞–¥–∞—á–µ
4. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã** - –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∫–∞–∫ –æ–Ω–∏ –≤–µ–¥—É—Ç —Å–µ–±—è –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

!!! success "–ß—Ç–æ –≤—ã —É–∑–Ω–∞–ª–∏"
    - ‚úÖ –ö–∞–∫ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤ Django, FastAPI, SQLAlchemy
    - ‚úÖ –ü–æ—á–µ–º—É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤—ã–±–∏—Ä–∞—é—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
    - ‚úÖ –ö–∞–∫ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –≤ open-source
    - ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∏–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö production-–ø—Ä–æ–µ–∫—Ç–æ–≤

!!! tip "–ü—Ä–∞–∫—Ç–∏–∫–∞"
    –û—Ç–∫—Ä–æ–π—Ç–µ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —Å–≤–æ–µ–π –ª—é–±–∏–º–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ –Ω–∞–π–¥–∏—Ç–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–Ω—è—Ç—å, –ø–æ—á–µ–º—É –±—ã–ª –≤—ã–±—Ä–∞–Ω –∏–º–µ–Ω–Ω–æ —ç—Ç–æ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω.

–¢–µ–ø–µ—Ä—å –≤—ã –≥–æ—Ç–æ–≤—ã –∫ **[–ü—Ä–∞–∫—Ç–∏–∫–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤](08-patterns-practice.md)** - —Å–æ–∑–¥–∞–¥–∏–º —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤!

!!! info "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã"
    - [Django source code](https://github.com/django/django) - –æ—Ç–ª–∏—á–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
    - [SQLAlchemy source](https://github.com/sqlalchemy/sqlalchemy) - —Å–ª–æ–∂–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
    - [Requests source](https://github.com/psf/requests) - –ø—Ä–æ—Å—Ç–æ—Ç–∞ –∏ —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ—Å—Ç—å
    - [Flask source](https://github.com/pallets/flask) - –º–∏–Ω–∏–º–∞–ª–∏–∑–º –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å








