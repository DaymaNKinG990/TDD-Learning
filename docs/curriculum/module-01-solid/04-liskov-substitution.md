# üîÑ –£—Ä–æ–∫ 4: Liskov Substitution Principle (LSP)

## üéØ –¶–µ–ª–∏ —É—Ä–æ–∫–∞

–ü–æ—Å–ª–µ –∏–∑—É—á–µ–Ω–∏—è —ç—Ç–æ–≥–æ —É—Ä–æ–∫–∞ –≤—ã —Å–º–æ–∂–µ—Ç–µ:
- ‚úÖ –ü–æ–Ω–∏–º–∞—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –ë–∞—Ä–±–∞—Ä—ã –õ–∏—Å–∫–æ–≤
- ‚úÖ –°–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
- ‚úÖ –ò–∑–±–µ–≥–∞—Ç—å —Ç–∏–ø–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫ LSP –≤ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏
- ‚úÖ –ü—Ä–∏–º–µ–Ω—è—Ç—å LSP –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö

## üöÄ –ú–æ—Ç–∏–≤–∞—Ü–∏—è: –ø—Ä–æ–±–ª–µ–º–∞ –≤ –∫–æ–¥–µ

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ: —É –≤–∞—Å –µ—Å—Ç—å —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –ø—Ç–∏—Ü, –∏ –≤–¥—Ä—É–≥ –æ–Ω–∞ –ª–æ–º–∞–µ—Ç—Å—è...

```python
class Bird:
    def fly(self) -> str:
        return "Bird is flying"

class Penguin(Bird):
    def fly(self) -> str:
        raise NotImplementedError("Penguins cannot fly!")  # üí• Boom!

def migrate_birds(birds: list[Bird]):
    for bird in birds:
        print(bird.fly())  # –ü–∞–¥–∞–µ—Ç –Ω–∞ –ø–∏–Ω–≥–≤–∏–Ω–∞—Ö!

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
birds = [Bird(), Penguin()]
migrate_birds(birds)  # ‚ùå –ö–æ–¥ –ª–æ–º–∞–µ—Ç—Å—è!
```

**–í–æ–ø—Ä–æ—Å:** –ü–æ—á–µ–º—É –∫–æ–¥ –ø–∞–¥–∞–µ—Ç? –í–µ–¥—å `Penguin` –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç `Bird`! ü§î

---

## üìñ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ LSP

!!! quote "–ü—Ä–∏–Ω—Ü–∏–ø –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –õ–∏—Å–∫–æ–≤"
    **–û–±—ä–µ–∫—Ç—ã –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–º–µ–Ω—è–µ–º—ã –∏—Ö –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞–º–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã.**

### üí° –ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏:

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ —Ä–æ–∑–µ—Ç–∫—É –∏ –≤–∏–ª–∫—É:
- ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ**: –í–∏–ª–∫–∞ –æ—Ç —Ç–µ–ª–µ—Ñ–æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ç–æ–π –∂–µ —Ä–æ–∑–µ—Ç–∫–µ, —á—Ç–æ –∏ –≤–∏–ª–∫–∞ –æ—Ç —á–∞–π–Ω–∏–∫–∞
- ‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ**: –í–∏–ª–∫–∞, –∫–æ—Ç–æ—Ä–∞—è "–≤–∑—Ä—ã–≤–∞–µ—Ç—Å—è" –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ (—Ö–æ—Ç—è –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –æ–±—ã—á–Ω–∞—è)

–í –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏:
- **–ù–∞—Å–ª–µ–¥–Ω–∏–∫ –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –í–ï–ó–î–ï, –≥–¥–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–æ–¥–∏—Ç–µ–ª—å**
- **–ó–∞–º–µ–Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—è –Ω–∞ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ –ª–æ–º–∞—Ç—å –∫–æ–¥**
- **–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥ –Ω–µ –¥–æ–ª–∂–µ–Ω "–∑–Ω–∞—Ç—å" —Å –∫–∞–∫–∏–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –∫–ª–∞—Å—Å–æ–º –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç**

### üéØ –ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è

–ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Å `Bird`, –æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –∏ —Å `Sparrow`, –∏ —Å `Penguin`:

```python
def make_bird_fly(bird: Bird):
    bird.fly()  # –î–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –¥–ª—è –õ–Æ–ë–û–ô –ø—Ç–∏—Ü—ã

sparrow = Sparrow()
penguin = Penguin()

make_bird_fly(sparrow)  # ‚úÖ OK
make_bird_fly(penguin)  # ‚ùå –ü—Ä–æ–±–ª–µ–º–∞! –ü–∏–Ω–≥–≤–∏–Ω—ã –Ω–µ –ª–µ—Ç–∞—é—Ç
```

**–í—ã–≤–æ–¥**: –ï—Å–ª–∏ `Penguin` –Ω–µ –º–æ–∂–µ—Ç –∑–∞–º–µ–Ω–∏—Ç—å `Bird` –≤–µ–∑–¥–µ, –∑–Ω–∞—á–∏—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ!

### üéØ –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ:
```python
# –ï—Å–ª–∏ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
base_object = BaseClass()
result = some_function(base_object)  # ‚úÖ OK

# –¢–æ —ç—Ç–æ —Ç–æ–∂–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å:
derived_object = DerivedClass()  # –Ω–∞—Å–ª–µ–¥–Ω–∏–∫ BaseClass
result = some_function(derived_object)  # ‚úÖ –¢–æ–∂–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å OK!
```

---

## ‚öñÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ LSP

### 1. **–ü—Ä–∞–≤–∏–ª–æ –∑–∞–º–µ—â–µ–Ω–∏—è**
```python
# ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ: –Ω–∞—Å–ª–µ–¥–Ω–∏–∫ —É—Å–∏–ª–∏–≤–∞–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ
class PaymentProcessor:
    def process(self, amount: float) -> bool:
        return amount > 0  # –ë–∞–∑–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

class PremiumProcessor(PaymentProcessor):
    def process(self, amount: float) -> bool:
        # –î–æ–±–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
        result = super().process(amount)
        if result:
            self.log_transaction(amount)
        return result

# ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ: –Ω–∞—Å–ª–µ–¥–Ω–∏–∫ –Ω–∞—Ä—É—à–∞–µ—Ç –æ–∂–∏–¥–∞–Ω–∏—è
class RestrictedProcessor(PaymentProcessor):
    def process(self, amount: float) -> bool:
        if amount < 100:  # –ù–æ–≤–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ!
            return False
        return super().process(amount)
```

### 2. **–ü—Ä–∞–≤–∏–ª–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–π**
```python
# ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ: –Ω–∞—Å–ª–µ–¥–Ω–∏–∫ –ù–ï –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
class FileReader:
    def read_file(self, filename: str) -> str:
        with open(filename, 'r') as f:  # –ú–æ–∂–µ—Ç –≤—ã–±—Ä–æ—Å–∏—Ç—å FileNotFoundError
            return f.read()

class CompressedFileReader(FileReader):
    def read_file(self, filename: str) -> str:
        content = super().read_file(filename)  # –¢–µ –∂–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
        return self.decompress(content)

# ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ: –Ω–∞—Å–ª–µ–¥–Ω–∏–∫ –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
class ValidatingFileReader(FileReader):
    def read_file(self, filename: str) -> str:
        if not self.is_valid_format(filename):
            raise ValueError("Invalid format!")  # –ù–æ–≤–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ!
        return super().read_file(filename)
```

### 3. **–ü—Ä–∞–≤–∏–ª–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è**
```python
# –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥ –æ–∂–∏–¥–∞–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:
def backup_system(processor: PaymentProcessor, transactions: list):
    successful = 0
    for amount in transactions:
        if processor.process(amount):
            successful += 1
    
    print(f"Processed: {successful}/{len(transactions)}")
    return successful

# ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å PremiumProcessor
# ‚ùå –õ–æ–º–∞–µ—Ç—Å—è —Å RestrictedProcessor (–Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ –º–∞–ª–æ —É—Å–ø–µ—à–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π)
```

---

## üìö –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: Rectangle vs Square

### ‚ùå –ü—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–¥

```python
class Rectangle:
    def __init__(self, width: float, height: float):
        self.width = width
        self.height = height
    
    def set_width(self, width: float) -> None:
        self.width = width
    
    def set_height(self, height: float) -> None:
        self.height = height
    
    def area(self) -> float:
        return self.width * self.height

class Square(Rectangle):
    def __init__(self, side: float):
        super().__init__(side, side)
    
    def set_width(self, width: float) -> None:
        # ‚ùå –ù–∞—Ä—É—à–µ–Ω–∏–µ LSP: –∏–∑–º–µ–Ω—è–µ—Ç –æ–±–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è!
        self.width = self.height = width
    
    def set_height(self, height: float) -> None:
        # ‚ùå –ù–∞—Ä—É—à–µ–Ω–∏–µ LSP: –∏–∑–º–µ–Ω—è–µ—Ç –æ–±–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è!
        self.width = self.height = height
```

### üêõ –ì–¥–µ –ª–æ–º–∞–µ—Ç—Å—è?

```python
def enlarge_rectangle(rect: Rectangle) -> None:
    """–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫: —à–∏—Ä–∏–Ω—É –Ω–∞ 10, –≤—ã—Å–æ—Ç—É –Ω–∞ 5"""
    rect.set_width(rect.width + 10)
    rect.set_height(rect.height + 5)
    print(f"Size: {rect.width}x{rect.height}")

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
rectangle = Rectangle(5, 3)
enlarge_rectangle(rectangle)  # ‚úÖ –û–∂–∏–¥–∞–µ–º: 15x8 ‚Üí –ü–æ–ª—É—á–∞–µ–º: 15x8

square = Square(5)  
enlarge_rectangle(square)  # ‚ùå –û–∂–∏–¥–∞–µ–º: 15x8 ‚Üí –ü–æ–ª—É—á–∞–µ–º: 20x20 !!!
```

**–ü—Ä–æ–±–ª–µ–º–∞:** `Square` –≤–µ–¥–µ—Ç —Å–µ–±—è –Ω–µ –∫–∞–∫ `Rectangle`!

---

## ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –ü—Ä–æ—Ç–æ–∫–æ–ª—ã

```python
from typing import Protocol

class Shape(Protocol):
    """–û–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—Å–µ—Ö —Ñ–∏–≥—É—Ä"""
    def area(self) -> float: ...

class Rectangle:
    """–ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫ —Å –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º–∏ —Å—Ç–æ—Ä–æ–Ω–∞–º–∏"""
    def __init__(self, width: float, height: float):
        self.width = width
        self.height = height
    
    def set_width(self, width: float) -> None:
        self.width = width
    
    def set_height(self, height: float) -> None:
        self.height = height
    
    def area(self) -> float:
        return self.width * self.height

class Square:
    """–ö–≤–∞–¥—Ä–∞—Ç —Å–æ —Å–≤–æ–∏–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏"""
    def __init__(self, side: float):
        self.side = side
    
    def set_side(self, side: float) -> None:
        self.side = side
    
    def area(self) -> float:
        return self.side * self.side

# –û–±—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º Shape
def calculate_total_area(shapes: list[Shape]) -> float:
    return sum(shape.area() for shape in shapes)

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
shapes = [Rectangle(5, 3), Square(4)]
print(f"Total area: {calculate_total_area(shapes)}")  # ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç!
```

### üéØ –ü–æ—á–µ–º—É —ç—Ç–æ –ª—É—á—à–µ?

1. **–ù–µ—Ç –ª–æ–∂–Ω–æ–≥–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è** - –∫–≤–∞–¥—Ä–∞—Ç –Ω–µ –ø—Ä–∏—Ç–≤–æ—Ä—è–µ—Ç—Å—è –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–æ–º
2. **–ß–µ—Ç–∫–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã** - –∫–∞–∂–¥—ã–π –∫–ª–∞—Å—Å –¥–µ–ª–∞–µ—Ç —Ç–æ, —á—Ç–æ –æ–±–µ—â–∞–µ—Ç
3. **–°—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è** - –∫–ª–∞—Å—Å—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º
4. **LSP —Å–æ–±–ª—é–¥–µ–Ω** - –º–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –∑–∞–º–µ–Ω—è—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

---

## üéÆ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è

### –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 1: –ò—Å–ø—Ä–∞–≤—å—Ç–µ –Ω–∞—Ä—É—à–µ–Ω–∏–µ LSP

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–¥:**
```python
class Bird:
    def fly(self) -> str:
        return "Flying"
    
    def make_sound(self) -> str:
        return "Chirp"

class Penguin(Bird):
    def fly(self) -> str:
        raise NotImplementedError("Penguins cannot fly")  # ‚ùå LSP –Ω–∞—Ä—É—à–µ–Ω

def bird_show(birds: list[Bird]):
    for bird in birds:
        print(f"{bird.make_sound()} - {bird.fly()}")  # –ü–∞–¥–∞–µ—Ç –Ω–∞ –ø–∏–Ω–≥–≤–∏–Ω–∞—Ö!
```

**–í–∞—à–∞ –∑–∞–¥–∞—á–∞:**
1. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã `SoundMaker` –∏ `Flyable`
2. –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–π—Ç–µ –∫–ª–∞—Å—Å—ã –±–µ–∑ –ª–æ–∂–Ω–æ–≥–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
3. –ò—Å–ø—Ä–∞–≤—å—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `bird_show`

**üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è:**
> **–ê–Ω–∞–ª–∏–∑:** Penguin –Ω–∞—Ä—É—à–∞–µ—Ç LSP, –≤—ã–±—Ä–∞—Å—ã–≤–∞—è –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –≤ –º–µ—Ç–æ–¥–µ fly()
>
> **–ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å:**
> - üìã **2 Protocol**: `SoundMaker` –∏ `Flyable` 
> - üîß **2 –∫–ª–∞—Å—Å–∞**: `Sparrow` (–æ–±–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞) –∏ `Penguin` (—Ç–æ–ª—å–∫–æ `SoundMaker`)
> - üéØ **2 —Ñ—É–Ω–∫—Ü–∏–∏**: `bird_sounds(sound_makers)` –∏ `bird_migration(flyers)`
>
> **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** –†–∞–∑–¥–µ–ª–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—è–º, –∞ –Ω–µ –ø–æ —Ç–∏–ø–∞–º –∂–∏–≤–æ—Ç–Ω—ã—Ö

### –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 2: –ë–∞–Ω–∫–æ–≤—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ë–∞–∑–æ–≤—ã–π `BaseBankAccount` —Å –º–µ—Ç–æ–¥–æ–º `withdraw(amount) -> bool`
- `PremiumAccount` —Å –∫—Ä–µ–¥–∏—Ç–Ω—ã–º –ª–∏–º–∏—Ç–æ–º (—Ä–∞—Å—à–∏—Ä—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- `SavingsAccount` —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –±–∞–ª–∞–Ω—Å–æ–º

**–ó–∞–¥–∞—á–∞:** –°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É, –≥–¥–µ –≤—Å–µ —Å—á–µ—Ç–∞ —Å–æ–±–ª—é–¥–∞—é—Ç LSP

**üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è:**
> **–ü—Ä–æ–±–ª–µ–º–∞ LSP:** `SavingsAccount` –º–æ–∂–µ—Ç –Ω–∞—Ä—É—à–∏—Ç—å LSP, —É—Å–∏–ª–∏–≤–∞—è –ø—Ä–µ–¥—É—Å–ª–æ–≤–∏—è (—Ç—Ä–µ–±—É—è min_balance)
>
> **–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**
> - üìã **1 –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å** `BaseBankAccount` —Å —á–µ—Ç–∫–∏–º –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º
> - üîß **2 –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞**: `PremiumAccount` (–æ—Å–ª–∞–±–ª—è–µ—Ç –ø—Ä–µ–¥—É—Å–ª–æ–≤–∏—è ‚úÖ) –∏ `SafeSavingsAccount` (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç ‚úÖ)
> - üéØ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: —Ñ—É–Ω–∫—Ü–∏—è `process_withdrawals(accounts, amounts)` –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ –≤—Å–µ–º–∏ —Ç–∏–ø–∞–º–∏
>
> **–ö–ª—é—á:** –ù–∞—Å–ª–µ–¥–Ω–∏–∫–∏ –º–æ–≥—É—Ç –æ—Å–ª–∞–±–ª—è—Ç—å –ø—Ä–µ–¥—É—Å–ª–æ–≤–∏—è, –Ω–æ –ù–ï —É—Å–∏–ª–∏–≤–∞—Ç—å –∏—Ö

### –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 3: –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**–°–æ–∑–¥–∞–π—Ç–µ:**
- –ü—Ä–æ—Ç–æ–∫–æ–ª `BaseNotificationSender`
- –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏: `EmailSender`, `SMSSender`, `PushSender`
- –§—É–Ω–∫—Ü–∏—é `send_bulk_notifications(senders: list[BaseNotificationSender], message: str)`

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ:** –í—Å–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã

**üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è:**
> **–¶–µ–ª—å LSP:** –í—Å–µ —Å–µ–Ω–¥–µ—Ä—ã –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤–æ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `send_bulk_notifications`
>
> **–ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å:**
> - üìã **1 Protocol** `BaseNotificationSender` —Å –º–µ—Ç–æ–¥–æ–º `send(message: str) -> bool`
> - üîß **3 —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**: –∫–∞–∂–¥–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `True` –ø—Ä–∏ —É—Å–ø–µ—Ö–µ, `False` –ø—Ä–∏ –æ—à–∏–±–∫–µ
> - üéØ **1 —Ñ—É–Ω–∫—Ü–∏—è** `send_bulk_notifications` —Ä–∞–±–æ—Ç–∞—é—â–∞—è —Å–æ –≤—Å–µ–º–∏ —Å–µ–Ω–¥–µ—Ä–∞–º–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ
>
> **–¢–µ—Å—Ç LSP:** –ó–∞–º–µ–Ω–∞ –ª—é–±–æ–≥–æ —Å–µ–Ω–¥–µ—Ä–∞ –Ω–∞ –¥—Ä—É–≥–æ–π –Ω–µ –¥–æ–ª–∂–Ω–∞ –ª–æ–º–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é

---

## üéØ –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã

1. **LSP = –ø—Ä–∏–Ω—Ü–∏–ø –∑–∞–º–µ—â–µ–Ω–∏—è** - –Ω–∞—Å–ª–µ–¥–Ω–∏–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ, –≥–¥–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–æ–¥–∏—Ç–µ–ª—å
2. **–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ ‚â† IS-A –æ—Ç–Ω–æ—à–µ–Ω–∏–µ** - –∏–Ω–æ–≥–¥–∞ –ª—É—á—à–µ –∫–æ–º–ø–æ–∑–∏—Ü–∏—è –∏–ª–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã  
3. **–ü—Ä–æ—Ç–æ–∫–æ–ª—ã —Ä–µ—à–∞—é—Ç –º–Ω–æ–≥–∏–µ –ø—Ä–æ–±–ª–µ–º—ã LSP** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—É—é —Ç–∏–ø–∏–∑–∞—Ü–∏—é
4. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∑–∞–º–µ—â–µ–Ω–∏–µ** - –µ—Å–ª–∏ –Ω—É–∂–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ `isinstance()`, LSP –Ω–∞—Ä—É—à–µ–Ω
5. **–ü—Ä–æ–µ–∫—Ç–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã** - —á–µ—Ç–∫–æ –æ–ø—Ä–µ–¥–µ–ª—è–π—Ç–µ –æ–∂–∏–¥–∞–Ω–∏—è –æ—Ç –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

!!! success "–ß—Ç–æ –≤—ã —É–∑–Ω–∞–ª–∏"
    - ‚úÖ –ù–∞—Å–ª–µ–¥–Ω–∏–∫ –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –≤–µ–∑–¥–µ, –≥–¥–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–æ–¥–∏—Ç–µ–ª—å
    - ‚úÖ –ü—Ä–æ—Ç–æ–∫–æ–ª—ã –ø–æ–º–æ–≥–∞—é—Ç –∏–∑–±–µ–∂–∞—Ç—å –ª–æ–∂–Ω–æ–≥–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
    - ‚úÖ –ï—Å–ª–∏ –Ω—É–∂–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ `isinstance()`, LSP –Ω–∞—Ä—É—à–µ–Ω

!!! tip "–ü—Ä–∞–∫—Ç–∏–∫–∞"
    –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–∏ –∫–ª–∞—Å—Å—ã: –º–æ–∂–Ω–æ –ª–∏ –∑–∞–º–µ–Ω–∏—Ç—å –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–º –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã?

–¢–µ–ø–µ—Ä—å –≤—ã –≥–æ—Ç–æ–≤—ã –∏–∑—É—á–∏—Ç—å **[–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤](05-interface-segregation.md)** - –∫–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã!

---

!!! tip "–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Å–æ–≤–µ—Ç"
    –í—Å–µ–≥–¥–∞ –∑–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å: "–ú–æ–≥—É –ª–∏ —è –∑–∞–º–µ–Ω–∏—Ç—å –æ–±—ä–µ–∫—Ç –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ –æ–±—ä–µ–∫—Ç–æ–º –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã?" –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç "–Ω–µ—Ç" - –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–∏—Ç–µ –∏–µ—Ä–∞—Ä—Ö–∏—é.

## üß™ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è: LSP

<div class="quiz-container" id="lsp-quiz">
<script type="application/json">
{
  "title": "Liskov Substitution Principle",
  "description": "–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –õ–∏—Å–∫–æ–≤",
  "icon": "üîÑ",
  "questions": [
    {
      "question": "–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –õ–∏—Å–∫–æ–≤ (LSP)?",
      "type": "single",
      "points": 1,
      "options": [
        {"text": "–ù–∞—Å–ª–µ–¥–Ω–∏–∫–∏ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å —Ç–µ –∂–µ –º–µ—Ç–æ–¥—ã, —á—Ç–æ –∏ –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å", "correct": false},
        {"text": "–û–±—ä–µ–∫—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–º–µ–Ω—è–µ–º—ã –∏—Ö –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞–º–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã", "correct": true},
        {"text": "–ù–∞—Å–ª–µ–¥–Ω–∏–∫–∏ –¥–æ–ª–∂–Ω—ã —Ä–∞—Å—à–∏—Ä—è—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞", "correct": false},
        {"text": "–í—Å–µ –∫–ª–∞—Å—Å—ã –¥–æ–ª–∂–Ω—ã –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç –æ–¥–Ω–æ–≥–æ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞", "correct": false}
      ],
      "explanation": "LSP –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏ –≤–µ–¥—É—Ç —Å–µ–±—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ —Å –±–∞–∑–æ–≤—ã–º –∫–ª–∞—Å—Å–æ–º"
    },
    {
      "question": "–ö–∞–∫–æ–π –∫–æ–¥ –Ω–∞—Ä—É—à–∞–µ—Ç LSP?",
      "type": "single",
      "points": 1,
      "options": [
        {"text": "–ù–∞—Å–ª–µ–¥–Ω–∏–∫ –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥", "correct": false},
        {"text": "–ù–∞—Å–ª–µ–¥–Ω–∏–∫ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –≤ –º–µ—Ç–æ–¥–µ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞", "correct": true},
        {"text": "–ù–∞—Å–ª–µ–¥–Ω–∏–∫ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –º–µ—Ç–æ–¥ —Å —Ç–æ–π –∂–µ –ª–æ–≥–∏–∫–æ–π", "correct": false},
        {"text": "–ù–∞—Å–ª–µ–¥–Ω–∏–∫ –∏–º–µ–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è", "correct": false}
      ],
      "explanation": "–ò—Å–∫–ª—é—á–µ–Ω–∏—è –≤ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞—Ö –Ω–∞—Ä—É—à–∞—é—Ç –æ–∂–∏–¥–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –∫–æ–¥–∞"
    },
    {
      "question": "–ü–æ—á–µ–º—É Square(Rectangle) –Ω–∞—Ä—É—à–∞–µ—Ç LSP?",
      "type": "single", 
      "points": 1,
      "options": [
        {"text": "–ö–≤–∞–¥—Ä–∞—Ç –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–æ–º –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏", "correct": false},
        {"text": "set_width() –∏–∑–º–µ–Ω—è–µ—Ç –∏ —à–∏—Ä–∏–Ω—É, –∏ –≤—ã—Å–æ—Ç—É, –Ω–∞—Ä—É—à–∞—è –æ–∂–∏–¥–∞–Ω–∏—è", "correct": true},
        {"text": "–£ –∫–≤–∞–¥—Ä–∞—Ç–∞ –º–µ–Ω—å—à–µ –º–µ—Ç–æ–¥–æ–≤ —á–µ–º —É –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞", "correct": false},
        {"text": "–ö–≤–∞–¥—Ä–∞—Ç –Ω–µ –º–æ–∂–µ—Ç –≤—ã—á–∏—Å–ª–∏—Ç—å –ø–ª–æ—â–∞–¥—å", "correct": false}
      ],
      "explanation": "–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥ –æ–∂–∏–¥–∞–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–æ—Ä–æ–Ω –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞"
    },
    {
      "question": "–ö–∞–∫ –ª—É—á—à–µ —Ä–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Å Rectangle/Square?",
      "type": "single",
      "points": 1, 
      "options": [
        {"text": "–î–æ–±–∞–≤–∏—Ç—å —Ñ–ª–∞–≥ is_square –≤ Rectangle", "correct": false},
        {"text": "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ", "correct": false},
        {"text": "–°–æ–∑–¥–∞—Ç—å –æ–±—â–∏–π –ø—Ä–æ—Ç–æ–∫–æ–ª Shape –∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã", "correct": true},
        {"text": "–ó–∞–ø—Ä–µ—Ç–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ Square", "correct": false}
      ],
      "explanation": "–ü—Ä–æ—Ç–æ–∫–æ–ª—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –∏–∑–±–µ–∂–∞—Ç—å –ª–æ–∂–Ω–æ–≥–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏ —Å–æ–±–ª—é—Å—Ç–∏ LSP"
    },
    {
      "question": "–ß—Ç–æ —Ç–∞–∫–æ–µ –ø—Ä–∏–∑–Ω–∞–∫ –Ω–∞—Ä—É—à–µ–Ω–∏—è LSP –≤ –∫–æ–¥–µ?",
      "type": "single",
      "points": 1,
      "options": [
        {"text": "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è", "correct": false}, 
        {"text": "–ü—Ä–æ–≤–µ—Ä–∫–∏ isinstance() –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä–∞–∑–Ω—ã—Ö –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–≤", "correct": true},
        {"text": "–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ –≤ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞—Ö", "correct": false},
        {"text": "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤", "correct": false}
      ],
      "explanation": "–ï—Å–ª–∏ –Ω—É–∂–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤, –∑–Ω–∞—á–∏—Ç –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏ –≤–µ–¥—É—Ç —Å–µ–±—è –ø–æ-—Ä–∞–∑–Ω–æ–º—É"
    }
  ]
}
</script>
</div>