{"config":{"lang":["ru"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"TDD Learning - \u041f\u043e\u043b\u043d\u044b\u0439 \u043a\u0443\u0440\u0441 \u043f\u043e Test-Driven Development","text":"<p>\u041e \u043a\u0443\u0440\u0441\u0435</p> <p>\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0441\u043d\u044b\u0439 \u043a\u0443\u0440\u0441 \u043f\u043e \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0447\u0435\u0440\u0435\u0437 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 (Test-Driven Development, TDD) \u043d\u0430 Python. \u042d\u0442\u043e\u0442 \u043a\u0443\u0440\u0441 \u043e\u0445\u0432\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0432\u0441\u0435 \u0430\u0441\u043f\u0435\u043a\u0442\u044b TDD \u043e\u0442 \u043e\u0441\u043d\u043e\u0432 \u0434\u043e \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0445 \u0442\u0435\u0445\u043d\u0438\u043a.</p>"},{"location":"#_1","title":"\ud83c\udfaf \u0426\u0435\u043b\u0438 \u043a\u0443\u0440\u0441\u0430","text":"<p>\u041f\u043e\u0441\u043b\u0435 \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u044d\u0442\u043e\u0433\u043e \u043a\u0443\u0440\u0441\u0430 \u0432\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435:</p> <ul> <li>\u041f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c TDD \u0432 \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u0445</li> <li>\u041f\u0438\u0441\u0430\u0442\u044c \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f unittest \u0438 pytest</li> <li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0438\u0437\u043e\u043b\u044f\u0446\u0438\u0438 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432</li> <li>\u041f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c TDD \u0432 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0441 Flask \u0438 FastAPI</li> <li>\u0420\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0441 Legacy Code \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u044f TDD \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438</li> <li>\u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0442\u044c CI/CD \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f</li> </ul>"},{"location":"#_2","title":"\ud83d\udcda \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043a\u0443\u0440\u0441\u0430","text":"\u0420\u0430\u0437\u0434\u0435\u043b \u0422\u0435\u043c\u0430 \u0413\u043b\u0430\u0432\u044b \u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u0438 1 \u041e\u0441\u043d\u043e\u0432\u044b TDD 3 \u0433\u043b\u0430\u0432\u044b \u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439 2 \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 Python 3 \u0433\u043b\u0430\u0432\u044b \u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439 3 \u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 TDD 3 \u0433\u043b\u0430\u0432\u044b \u0421\u0440\u0435\u0434\u043d\u0438\u0439 4 \u0420\u0435\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u044b 2 \u0433\u043b\u0430\u0432\u044b \u0421\u0440\u0435\u0434\u043d\u0438\u0439 5 \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438 3 \u0433\u043b\u0430\u0432\u044b \u0421\u0440\u0435\u0434\u043d\u0438\u0439 6 \u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 \u0442\u0435\u043c\u044b 5 \u0433\u043b\u0430\u0432 \u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0439 <p>\u041e\u0431\u0449\u0430\u044f \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c: 19 \u0433\u043b\u0430\u0432 \u0441 \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u043c\u0438 \u043f\u0440\u0438\u043c\u0435\u0440\u0430\u043c\u0438</p>"},{"location":"#1-tdd","title":"\u2705 \u0420\u0430\u0437\u0434\u0435\u043b 1: \u041e\u0441\u043d\u043e\u0432\u044b TDD","text":"<p>\u0418\u0437\u0443\u0447\u0435\u043d\u0438\u0435 \u0444\u0438\u043b\u043e\u0441\u043e\u0444\u0438\u0438 TDD, \u0442\u0440\u0435\u0445 \u0437\u0430\u043a\u043e\u043d\u043e\u0432 \u043e\u0442 Uncle Bob, \u0446\u0438\u043a\u043b\u0430 Red-Green-Refactor.</p>"},{"location":"#2-python","title":"\u2705 \u0420\u0430\u0437\u0434\u0435\u043b 2: \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 Python","text":"<p>\u041e\u0441\u0432\u043e\u0435\u043d\u0438\u0435 unittest \u0438 pytest - \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0445 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432 Python.</p>"},{"location":"#3-tdd","title":"\u2705 \u0420\u0430\u0437\u0434\u0435\u043b 3: \u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 TDD","text":"<p>\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b, \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435, \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435.</p>"},{"location":"#4","title":"\u2705 \u0420\u0430\u0437\u0434\u0435\u043b 4: \u0420\u0435\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u044b","text":"<p>\u041f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 TDD \u0432 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435, \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 \u0442\u0435\u0445\u043d\u0438\u043a\u0438.</p>"},{"location":"#5","title":"\u2705 \u0420\u0430\u0437\u0434\u0435\u043b 5: \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438","text":"<p>\u041b\u0443\u0447\u0448\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438, \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b, CI/CD \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u044f.</p>"},{"location":"#6","title":"\u2705 \u0420\u0430\u0437\u0434\u0435\u043b 6: \u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 \u0442\u0435\u043c\u044b","text":"<p>\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043e\u0448\u0438\u0431\u043e\u043a, \u043c\u0435\u0442\u0440\u0438\u043a\u0438 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f, \u0440\u0430\u0431\u043e\u0442\u0430 \u0441 Legacy Code, \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430.</p>"},{"location":"#_3","title":"\ud83d\ude80 \u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u0441\u0442\u0430\u0440\u0442","text":"<ol> <li> <p>\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 uv (\u0431\u044b\u0441\u0442\u0440\u044b\u0439 \u043f\u0430\u043a\u0435\u0442\u043d\u044b\u0439 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 Python):    <pre><code># Windows (PowerShell)\npowershell -ExecutionPolicy ByPass -c \"irm https://astral.sh/uv/install.ps1 | iex\"\n\n# macOS/Linux\ncurl -LsSf https://astral.sh/uv/install.sh | sh\n</code></pre></p> </li> <li> <p>\u041a\u043b\u043e\u043d\u0438\u0440\u0443\u0439\u0442\u0435 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439:    <pre><code>git clone https://github.com/tdd-learning/tdd-learning.git\ncd tdd-learning\n</code></pre></p> </li> <li> <p>\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438:    <pre><code># \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0445 \u043f\u0430\u043a\u0435\u0442\u043e\u0432\nuv sync\n\n# \u0418\u043b\u0438 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438\nuv sync --extra docs\n</code></pre></p> </li> <li> <p>\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0435\u0440:    <pre><code>uv run mkdocs serve\n# \u041e\u0442\u043a\u0440\u043e\u0439\u0442\u0435 http://127.0.0.1:8000\n</code></pre></p> </li> <li> <p>\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0441 \u041e\u0441\u043d\u043e\u0432 TDD</p> </li> </ol>"},{"location":"#_4","title":"\ud83d\udca1 \u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u043a\u043e\u043d\u0446\u0435\u043f\u0446\u0438\u0438","text":"<p>\u0422\u0440\u0438 \u0437\u0430\u043a\u043e\u043d\u0430 TDD</p> <ol> <li>\u041d\u0435 \u043f\u0438\u0448\u0438\u0442\u0435 \u043a\u043e\u0434 \u0431\u0435\u0437 \u0442\u0435\u0441\u0442\u0430 - \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u0442\u0435\u0441\u0442, \u043f\u043e\u0442\u043e\u043c \u043a\u043e\u0434</li> <li>\u041d\u0435 \u043f\u0438\u0448\u0438\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u0442\u0435\u0441\u0442\u0430 - \u0442\u043e\u043b\u044c\u043a\u043e \u0442\u043e, \u0447\u0442\u043e \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f</li> <li>\u041d\u0435 \u043f\u0438\u0448\u0438\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043a\u043e\u0434\u0430 - \u0442\u043e\u043b\u044c\u043a\u043e \u0442\u043e, \u0447\u0442\u043e \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u0442\u0435\u0441\u0442\u0430</li> </ol> <p>\u0426\u0438\u043a\u043b Red-Green-Refactor</p> <pre><code># 1. RED - \u043f\u0438\u0448\u0435\u043c \u043f\u0430\u0434\u0430\u044e\u0449\u0438\u0439 \u0442\u0435\u0441\u0442\ndef test_add():\n    assert add(2, 3) == 5\n\n# 2. GREEN - \u043f\u0438\u0448\u0435\u043c \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u0434 \u0434\u043b\u044f \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f\ndef add(a, b):\n    return a + b\n\n# 3. REFACTOR - \u0443\u043b\u0443\u0447\u0448\u0430\u0435\u043c \u043a\u043e\u0434, \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u044f \u0442\u0435\u0441\u0442\u044b \u0437\u0435\u043b\u0435\u043d\u044b\u043c\u0438\n# (\u0432 \u0434\u0430\u043d\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043a\u043e\u0434 \u0443\u0436\u0435 \u043e\u043f\u0442\u0438\u043c\u0430\u043b\u0435\u043d)\n</code></pre>"},{"location":"#_5","title":"\ud83d\udee0 \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b","text":"<ul> <li>Python 3.12+ - \u0431\u0430\u0437\u043e\u0432\u0430\u044f \u0441\u0440\u0435\u0434\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f</li> <li>uv - \u0431\u044b\u0441\u0442\u0440\u044b\u0439 \u043f\u0430\u043a\u0435\u0442\u043d\u044b\u0439 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 Python (\u0437\u0430\u043c\u0435\u043d\u0430 pip + venv)</li> <li>pytest - \u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0439 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f</li> <li>unittest - \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u0439 \u043c\u043e\u0434\u0443\u043b\u044c \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f</li> <li>IDE \u0441 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u043e\u0439 Python (VS Code, PyCharm)</li> </ul> <p>\u041f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430 uv</p> <p>uv \u0432 ~10-100 \u0440\u0430\u0437 \u0431\u044b\u0441\u0442\u0440\u0435\u0435 \u0442\u0440\u0430\u0434\u0438\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e pip \u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u043c\u0438 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f\u043c\u0438. \u042d\u0442\u043e \u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0439 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442 \u0434\u043b\u044f Python \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432.</p>"},{"location":"#_6","title":"\ud83d\udcd6 \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u044b","text":""},{"location":"#_7","title":"\u041a\u043d\u0438\u0433\u0438","text":"<ul> <li>\"Test-Driven Development: By Example\" - Kent Beck</li> <li>\"Refactoring: Improving the Design of Existing Code\" - Martin Fowler</li> <li>\"Clean Code: A Handbook of Agile Software Craftsmanship\" - Robert C. Martin</li> <li>\"Working Effectively with Legacy Code\" - Michael Feathers</li> </ul>"},{"location":"#_8","title":"\u041e\u043d\u043b\u0430\u0439\u043d \u0440\u0435\u0441\u0443\u0440\u0441\u044b","text":"<ul> <li>pytest Documentation</li> <li>Python unittest Documentation</li> <li>Test-Driven Development Wikipedia</li> <li>Martin Fowler on TDD</li> </ul>"},{"location":"#_9","title":"\u0421\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 \u0438 \u043a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u0438","text":"<ul> <li>PyCon - \u043a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u0438 Python \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430</li> <li>Test &amp; Code Podcast - \u043f\u043e\u0434\u043a\u0430\u0441\u0442 \u043e \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0438</li> <li>Python Testing - \u0440\u0435\u0441\u0443\u0440\u0441\u044b \u043f\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044e</li> </ul>"},{"location":"#_10","title":"\ud83c\udf93 \u0414\u043b\u044f \u043a\u043e\u0433\u043e \u044d\u0442\u043e\u0442 \u043a\u0443\u0440\u0441","text":"<ul> <li>\u041d\u0430\u0447\u0438\u043d\u0430\u044e\u0449\u0438\u0435 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0438 Python, \u0436\u0435\u043b\u0430\u044e\u0449\u0438\u0435 \u043e\u0441\u0432\u043e\u0438\u0442\u044c TDD</li> <li>\u041e\u043f\u044b\u0442\u043d\u044b\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0441\u0442\u044b, \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u043d\u0430 TDD \u043c\u0435\u0442\u043e\u0434\u043e\u043b\u043e\u0433\u0438\u044e</li> <li>QA \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u044b, \u0438\u0437\u0443\u0447\u0430\u044e\u0449\u0438\u0435 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u044e \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f</li> <li>\u041a\u043e\u043c\u0430\u043d\u0434\u044b \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438, \u0432\u043d\u0435\u0434\u0440\u044f\u044e\u0449\u0438\u0435 TDD \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438</li> <li>\u0421\u0442\u0443\u0434\u0435\u043d\u0442\u044b \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043d\u044b\u0445 \u043d\u0430\u0443\u043a \u0438 \u0441\u043c\u0435\u0436\u043d\u044b\u0445 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0435\u0439</li> </ul>"},{"location":"#_11","title":"\ud83d\udcc8 \u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u043e\u0446\u0435\u043d\u043a\u0438","text":"<p>\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0437\u043d\u0430\u043d\u0438\u0439</p> <ul> <li>\u0418\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f - \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0442\u0435\u0441\u0442\u043e\u0432 \u0438 \u043a\u043e\u0434\u0430  </li> <li>\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u044f - \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 TDD \u043d\u0430 \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0445 \u043f\u0440\u0438\u043c\u0435\u0440\u0430\u0445</li> <li>\u041a\u0432\u0438\u0437\u044b - \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043f\u043e\u043d\u0438\u043c\u0430\u043d\u0438\u044f \u043a\u043e\u043d\u0446\u0435\u043f\u0446\u0438\u0439</li> <li>\u0424\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 - \u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0441\u043d\u043e\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0432\u0441\u0435\u0445 \u043d\u0430\u0432\u044b\u043a\u043e\u0432</li> </ul>"},{"location":"#_12","title":"\ud83c\udfc6 \u0427\u0442\u043e \u0432\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435","text":"<p>\u041f\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0438 \u043a\u0443\u0440\u0441\u0430 \u0432\u044b \u043e\u0441\u0432\u043e\u0438\u0442\u0435:</p> <ul> <li>TDD \u043c\u0435\u0442\u043e\u0434\u043e\u043b\u043e\u0433\u0438\u044e - \u043f\u043e\u043b\u043d\u044b\u0439 \u0446\u0438\u043a\u043b Red-Green-Refactor</li> <li>\u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u043e\u0432 - unit, integration, e2e \u0442\u0435\u0441\u0442\u044b</li> <li>\u041c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 - \u0438\u0437\u043e\u043b\u044f\u0446\u0438\u044f \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432 \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f</li> <li>TDD \u0432 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 - \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0432 \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u0445</li> <li>\u0420\u0430\u0431\u043e\u0442\u0430 \u0441 Legacy Code - \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438 \u0440\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433\u0430 \u0447\u0435\u0440\u0435\u0437 \u0442\u0435\u0441\u0442\u044b</li> <li>CI/CD \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f - \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f</li> </ul>"},{"location":"#_13","title":"\ud83e\udd1d \u0421\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e \u0438 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430","text":""},{"location":"#_14","title":"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u044f\u0439\u0442\u0435\u0441\u044c \u043a \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0443","text":"<ul> <li>GitHub Discussions - \u043e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u043e\u0432 \u043a\u0443\u0440\u0441\u0430 \u0438 \u0432\u043e\u043f\u0440\u043e\u0441\u044b</li> <li>GitHub Issues - \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0430\u0445 \u0438 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f</li> </ul>"},{"location":"#_15","title":"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b","text":"<ul> <li>\ud83d\udce7 Email: support@tdd-learning.com</li> <li>\ud83d\udcda \u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f: GitHub Wiki</li> <li>\ud83d\udc1b Issues: GitHub Issues</li> </ul> <p>\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u0443\u0432\u043b\u0435\u043a\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435 \u043a \u043c\u0430\u0441\u0442\u0435\u0440\u0441\u0442\u0432\u0443 Test-Driven Development! \ud83d\ude80</p>"},{"location":"01_tdd_basics/","title":"\u041e\u0441\u043d\u043e\u0432\u044b Test-Driven Development","text":""},{"location":"01_tdd_basics/#_1","title":"\ud83c\udfaf \u0426\u0435\u043b\u0438 \u0433\u043b\u0430\u0432\u044b","text":"<p>\u0412 \u044d\u0442\u043e\u0439 \u0433\u043b\u0430\u0432\u0435 \u0432\u044b \u0438\u0437\u0443\u0447\u0438\u0442\u0435: - \u0424\u0438\u043b\u043e\u0441\u043e\u0444\u0438\u044e \u0438 \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u044b TDD - \u0422\u0440\u0438 \u0437\u0430\u043a\u043e\u043d\u0430 TDD \u043e\u0442 Uncle Bob - F.I.R.S.T. \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u044b \u0445\u043e\u0440\u043e\u0448\u0438\u0445 \u0442\u0435\u0441\u0442\u043e\u0432 - \u0422\u0438\u043f\u044b \u0442\u0435\u0441\u0442\u043e\u0432 \u0432 TDD (unit, integration, e2e) - \u041f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430 \u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0435 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043a\u0438 TDD</p>"},{"location":"01_tdd_basics/#tdd","title":"\ud83c\udfaf \u0424\u0438\u043b\u043e\u0441\u043e\u0444\u0438\u044f TDD","text":"<p>TDD \u2014 \u044d\u0442\u043e \u043d\u0435 \u043f\u0440\u043e\u0441\u0442\u043e \u0442\u0435\u0445\u043d\u0438\u043a\u0430 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f, \u044d\u0442\u043e \u0444\u0438\u043b\u043e\u0441\u043e\u0444\u0438\u044f \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043c\u0435\u043d\u044f\u0435\u0442 \u0432\u0435\u0441\u044c \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u043e\u0433\u043e \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f. \u0412 \u043e\u0441\u043d\u043e\u0432\u0435 TDD \u043b\u0435\u0436\u0438\u0442 \u043f\u0440\u043e\u0441\u0442\u0430\u044f, \u043d\u043e \u043c\u043e\u0449\u043d\u0430\u044f \u0438\u0434\u0435\u044f: \u043f\u043e\u0437\u0432\u043e\u043b\u044c\u0442\u0435 \u0442\u0435\u0441\u0442\u0430\u043c \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0434\u0438\u0437\u0430\u0439\u043d \u0432\u0430\u0448\u0435\u0433\u043e \u043a\u043e\u0434\u0430.</p>"},{"location":"01_tdd_basics/#tdd-uncle-bob","title":"\ud83d\udcd0 \u0417\u0430\u043a\u043e\u043d\u044b TDD \u043e\u0442 Uncle Bob","text":"<p>Robert C. Martin (Uncle Bob) \u0441\u0444\u043e\u0440\u043c\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043b \u0442\u0440\u0438 \u0444\u0443\u043d\u0434\u0430\u043c\u0435\u043d\u0442\u0430\u043b\u044c\u043d\u044b\u0445 \u0437\u0430\u043a\u043e\u043d\u0430 TDD:</p>"},{"location":"01_tdd_basics/#1","title":"\ud83d\udd34 \u0417\u0430\u043a\u043e\u043d 1: \u041d\u0435 \u043f\u0438\u0448\u0438\u0442\u0435 \u043a\u043e\u0434 \u0431\u0435\u0437 \u0442\u0435\u0441\u0442\u0430","text":"<p>\u0412\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0438\u0441\u0430\u0442\u044c \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u043a\u043e\u0434 \u0434\u043e \u0442\u0435\u0445 \u043f\u043e\u0440, \u043f\u043e\u043a\u0430 \u043d\u0435 \u043d\u0430\u043f\u0438\u0448\u0435\u0442\u0435 \u043f\u0430\u0434\u0430\u044e\u0449\u0438\u0439 unit test.</p> <pre><code># \u274c \u041d\u0415 \u0414\u0415\u041b\u0410\u0419\u0422\u0415 \u0422\u0410\u041a:\ndef calculate_discount(price, percentage):\n    return price * (1 - percentage / 100)\n\n# \u2705 \u0421\u041d\u0410\u0427\u0410\u041b\u0410 \u0422\u0415\u0421\u0422:\ndef test_calculate_discount():\n    assert calculate_discount(100, 10) == 90\n</code></pre>"},{"location":"01_tdd_basics/#2","title":"\ud83d\udfe2 \u0417\u0430\u043a\u043e\u043d 2: \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0442\u0435\u0441\u0442","text":"<p>\u0412\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c unit test \u0431\u043e\u043b\u044c\u0448\u0435, \u0447\u0435\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0434\u043b\u044f \u043f\u0430\u0434\u0435\u043d\u0438\u044f, \u0430 \u043e\u0448\u0438\u0431\u043a\u0438 \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u0438 \u0441\u0447\u0438\u0442\u0430\u044e\u0442\u0441\u044f \u043f\u0430\u0434\u0435\u043d\u0438\u044f\u043c\u0438.</p> <pre><code># \u2705 \u041c\u0418\u041d\u0418\u041c\u0410\u041b\u042c\u041d\u042b\u0419 \u0422\u0415\u0421\u0422:\ndef test_user_has_name():\n    user = User(\"John\")\n    assert user.name == \"John\"  # \u0422\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u043d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430!\n\n# \u274c \u0421\u041b\u0418\u0428\u041a\u041e\u041c \u041c\u041d\u041e\u0413\u041e \u0412 \u041e\u0414\u041d\u041e\u041c \u0422\u0415\u0421\u0422\u0415:\ndef test_user_everything():\n    user = User(\"John\")\n    assert user.name == \"John\"\n    assert user.age == 0  # \u041b\u0438\u0448\u043d\u0435\u0435 \u0434\u043b\u044f \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430\n    assert user.email is None  # \u041b\u0438\u0448\u043d\u0435\u0435 \u0434\u043b\u044f \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430\n</code></pre>"},{"location":"01_tdd_basics/#3","title":"\ud83d\udd35 \u0417\u0430\u043a\u043e\u043d 3: \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u0434","text":"<p>\u0412\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0438\u0432\u043d\u043e\u0433\u043e \u043a\u043e\u0434\u0430 \u0431\u043e\u043b\u044c\u0448\u0435, \u0447\u0435\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0434\u043b\u044f \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u043f\u0430\u0434\u0430\u044e\u0449\u0435\u0433\u043e \u0442\u0435\u0441\u0442\u0430.</p> <pre><code># \u0414\u043b\u044f \u0442\u0435\u0441\u0442\u0430: assert add(2, 3) == 5\n\n# \u2705 \u041c\u0418\u041d\u0418\u041c\u0410\u041b\u042c\u041d\u0410\u042f \u0420\u0415\u0410\u041b\u0418\u0417\u0410\u0426\u0418\u042f:\ndef add(a, b):\n    return 5  # \u0414\u0430, \u044d\u0442\u043e \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442 \u0442\u0435\u0441\u0442!\n\n# \u041f\u043e\u0441\u043b\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0442\u0435\u0441\u0442\u0430: assert add(1, 1) == 2\ndef add(a, b):\n    return a + b  # \u0422\u0435\u043f\u0435\u0440\u044c \u043d\u0443\u0436\u043d\u0430 \u043e\u0431\u0449\u0430\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f\n</code></pre>"},{"location":"01_tdd_basics/#tdd_1","title":"\ud83d\udd04 \u0414\u0435\u0442\u0430\u043b\u044c\u043d\u044b\u0439 \u0446\u0438\u043a\u043b TDD","text":""},{"location":"01_tdd_basics/#1-red","title":"\u0424\u0430\u0437\u0430 1: \ud83d\udd34 RED (\u041a\u0440\u0430\u0441\u043d\u044b\u0439)","text":"<p>\u0426\u0435\u043b\u044c: \u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0442\u0435\u0441\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0430\u0434\u0430\u0435\u0442.</p>"},{"location":"01_tdd_basics/#_2","title":"\u0427\u0442\u043e \u0434\u0435\u043b\u0430\u0442\u044c:","text":"<ol> <li>\u041f\u043e\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043e \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0438 \u2014 \u0447\u0442\u043e \u0434\u043e\u043b\u0436\u0435\u043d \u0434\u0435\u043b\u0430\u0442\u044c \u043a\u043e\u0434?</li> <li>\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0442\u0435\u0441\u0442 \u0434\u043b\u044f \u043e\u0434\u043d\u043e\u0433\u043e \u0430\u0441\u043f\u0435\u043a\u0442\u0430 \u044d\u0442\u043e\u0433\u043e \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f</li> <li>\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0442\u0435\u0441\u0442 \u2014 \u0443\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u043e\u043d \u043f\u0430\u0434\u0430\u0435\u0442</li> <li>\u041f\u0440\u043e\u0447\u0438\u0442\u0430\u0439\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0435 \u2014 \u043f\u043e\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u0432\u0430\u0436\u043d\u043e!</li> </ol>"},{"location":"01_tdd_basics/#_3","title":"\u041f\u0440\u0438\u043c\u0435\u0440:","text":"<pre><code># \u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0435: \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043b\u0430\u0441\u0441 \u0434\u043b\u044f \u0431\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u043e\u0433\u043e \u0441\u0447\u0435\u0442\u0430\ndef test_new_account_has_zero_balance():\n    account = Account()  # \u041a\u043b\u0430\u0441\u0441\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442!\n    assert account.balance == 0\n</code></pre> <p>\u0417\u0430\u043f\u0443\u0441\u043a \u0442\u0435\u0441\u0442\u0430: <pre><code>$ pytest test_account.py\nNameError: name 'Account' is not defined\n</code></pre></p>"},{"location":"01_tdd_basics/#2-green","title":"\u0424\u0430\u0437\u0430 2: \ud83d\udfe2 GREEN (\u0417\u0435\u043b\u0435\u043d\u044b\u0439)","text":"<p>\u0426\u0435\u043b\u044c: \u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u0434 \u0434\u043b\u044f \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u0442\u0435\u0441\u0442\u0430.</p>"},{"location":"01_tdd_basics/#_4","title":"\u0427\u0442\u043e \u0434\u0435\u043b\u0430\u0442\u044c:","text":"<ol> <li>\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043f\u0440\u043e\u0441\u0442\u0435\u0439\u0448\u0438\u0439 \u043a\u043e\u0434 \u0434\u043b\u044f \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u0442\u0435\u0441\u0442\u0430</li> <li>\u041d\u0435 \u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043e \u043a\u0440\u0430\u0441\u043e\u0442\u0435 \u2014 \u0442\u043e\u043b\u044c\u043a\u043e \u043e \u0440\u0430\u0431\u043e\u0442\u043e\u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u0438</li> <li>\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0442\u0435\u0441\u0442 \u2014 \u0443\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u043e\u043d \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442</li> <li>\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0432\u0441\u0435 \u0442\u0435\u0441\u0442\u044b \u2014 \u0443\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0441\u043b\u043e\u043c\u0430\u043b\u043e\u0441\u044c</li> </ol>"},{"location":"01_tdd_basics/#_5","title":"\u041f\u0440\u0438\u043c\u0435\u0440:","text":"<pre><code># account.py\nclass Account:\n    def __init__(self):\n        self.balance = 0  # \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f!\n</code></pre> <p>\u0417\u0430\u043f\u0443\u0441\u043a \u0442\u0435\u0441\u0442\u0430: <pre><code>$ pytest test_account.py\ntest_account.py::test_new_account_has_zero_balance PASSED\n</code></pre></p>"},{"location":"01_tdd_basics/#3-refactor","title":"\u0424\u0430\u0437\u0430 3: \ud83d\udd35 REFACTOR (\u0420\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433)","text":"<p>\u0426\u0435\u043b\u044c: \u0423\u043b\u0443\u0447\u0448\u0438\u0442\u044c \u043a\u043e\u0434 \u0431\u0435\u0437 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438.</p>"},{"location":"01_tdd_basics/#_6","title":"\u0427\u0442\u043e \u0434\u0435\u043b\u0430\u0442\u044c:","text":"<ol> <li>\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u043d\u0430 \u0434\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u0434\u0430</li> <li>\u0423\u043b\u0443\u0447\u0448\u0438\u0442\u0435 \u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u0439</li> <li>\u0418\u0437\u0432\u043b\u0435\u043a\u0438\u0442\u0435 \u043a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u044b \u0438 \u043c\u0430\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0447\u0438\u0441\u043b\u0430</li> <li>\u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0439\u0442\u0435 \u0442\u0435\u0441\u0442\u044b \u043f\u043e\u0441\u043b\u0435 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f</li> <li>\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435\u0441\u044c \u043a\u043e\u0433\u0434\u0430 \u043a\u043e\u0434 \u0441\u0442\u0430\u043d\u0435\u0442 \u0447\u0438\u0441\u0442\u044b\u043c</li> </ol>"},{"location":"01_tdd_basics/#_7","title":"\u041f\u0440\u0438\u043c\u0435\u0440:","text":"<pre><code># \u0411\u044b\u043b\u043e:\nclass Account:\n    def __init__(self):\n        self.balance = 0\n\n# \u0421\u0442\u0430\u043b\u043e (\u043f\u043e\u0441\u043b\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u043e\u0432\u044b\u0445 \u0442\u0435\u0441\u0442\u043e\u0432):\nclass Account:\n    def __init__(self, initial_balance: float = 0.0):\n        if initial_balance &lt; 0:\n            raise ValueError(\"Initial balance cannot be negative\")\n        self._balance = initial_balance\n\n    @property\n    def balance(self) -&gt; float:\n        return self._balance\n</code></pre>"},{"location":"01_tdd_basics/#tdd_2","title":"\ud83c\udfad \u0420\u043e\u043b\u0438 \u0432 TDD","text":"<p>\u0412 TDD \u0432\u044b \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0430\u0435\u0442\u0435\u0441\u044c \u043c\u0435\u0436\u0434\u0443 \u0442\u0440\u0435\u043c\u044f \u0440\u043e\u043b\u044f\u043c\u0438:</p>"},{"location":"01_tdd_basics/#1_1","title":"\ud83d\udc64 \u0420\u043e\u043b\u044c 1: \u041a\u043b\u0438\u0435\u043d\u0442 (\u041f\u0438\u0448\u0435\u0442 \u0442\u0435\u0441\u0442\u044b)","text":"<ul> <li>\u0414\u0443\u043c\u0430\u0435\u0442 \u043e \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f\u0445 \u0438 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430\u0445</li> <li>\u0424\u043e\u0440\u043c\u0443\u043b\u0438\u0440\u0443\u0435\u0442 \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f \u043e\u0442 \u043a\u043e\u0434\u0430</li> <li>\u041d\u0435 \u0431\u0435\u0441\u043f\u043e\u043a\u043e\u0438\u0442\u0441\u044f \u043e \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438</li> </ul>"},{"location":"01_tdd_basics/#2_1","title":"\ud83d\udc64 \u0420\u043e\u043b\u044c 2: \u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0441\u0442 (\u041f\u0438\u0448\u0435\u0442 \u043a\u043e\u0434)","text":"<ul> <li>\u0424\u043e\u043a\u0443\u0441\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043d\u0430 \u043f\u0440\u043e\u0441\u0442\u0435\u0439\u0448\u0435\u043c \u0440\u0435\u0448\u0435\u043d\u0438\u0438</li> <li>\u0418\u0433\u043d\u043e\u0440\u0438\u0440\u0443\u0435\u0442 \u0431\u0443\u0434\u0443\u0449\u0438\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f</li> <li>\u0414\u0435\u043b\u0430\u0435\u0442 \u0442\u0435\u0441\u0442\u044b \u0437\u0435\u043b\u0435\u043d\u044b\u043c\u0438 \u043b\u044e\u0431\u043e\u0439 \u0446\u0435\u043d\u043e\u0439</li> </ul>"},{"location":"01_tdd_basics/#3_1","title":"\ud83d\udc64 \u0420\u043e\u043b\u044c 3: \u0420\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0435\u0440 (\u0423\u043b\u0443\u0447\u0448\u0430\u0435\u0442 \u043a\u043e\u0434)","text":"<ul> <li>\u0423\u0441\u0442\u0440\u0430\u043d\u044f\u0435\u0442 \u0434\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435</li> <li>\u0423\u043b\u0443\u0447\u0448\u0430\u0435\u0442 \u0447\u0438\u0442\u0430\u0435\u043c\u043e\u0441\u0442\u044c</li> <li>\u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442 \u0432\u0441\u0435 \u0442\u0435\u0441\u0442\u044b \u0437\u0435\u043b\u0435\u043d\u044b\u043c\u0438</li> </ul>"},{"location":"01_tdd_basics/#_8","title":"\ud83d\udccf \u041f\u0440\u0438\u043d\u0446\u0438\u043f\u044b \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0442\u0435\u0441\u0442\u043e\u0432","text":""},{"location":"01_tdd_basics/#arrange-act-assert-aaa","title":"\ud83c\udfd7 Arrange-Act-Assert (AAA)","text":"<p>\u041a\u0430\u0436\u0434\u044b\u0439 \u0442\u0435\u0441\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u0447\u0435\u0442\u043a\u0443\u044e \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443:</p> <pre><code>def test_withdraw_money_from_account():\n    # Arrange (\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430)\n    account = Account(100)\n    withdraw_amount = 30\n\n    # Act (\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435)\n    account.withdraw(withdraw_amount)\n\n    # Assert (\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430)\n    assert account.balance == 70\n</code></pre>"},{"location":"01_tdd_basics/#first","title":"\ud83c\udfaf F.I.R.S.T. \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u044b","text":"<p>\u0425\u043e\u0440\u043e\u0448\u0438\u0435 \u0442\u0435\u0441\u0442\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c:</p>"},{"location":"01_tdd_basics/#fast","title":"Fast (\u0411\u044b\u0441\u0442\u0440\u044b\u0435)","text":"<pre><code># \u2705 \u0411\u042b\u0421\u0422\u0420\u041e:\ndef test_add():\n    assert add(2, 3) == 5\n\n# \u274c \u041c\u0415\u0414\u041b\u0415\u041d\u041d\u041e:\ndef test_database_connection():\n    db = connect_to_real_database()  # \u041c\u0435\u0434\u043b\u0435\u043d\u043d\u043e!\n    # ...\n</code></pre>"},{"location":"01_tdd_basics/#independent","title":"Independent (\u041d\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u044b\u0435)","text":"<pre><code># \u2705 \u041d\u0415\u0417\u0410\u0412\u0418\u0421\u0418\u041c\u042b\u0415:\ndef test_create_user():\n    user = User(\"John\")\n    assert user.name == \"John\"\n\ndef test_user_email():\n    user = User(\"Jane\")  # \u041d\u043e\u0432\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442!\n    user.set_email(\"jane@example.com\")\n    assert user.email == \"jane@example.com\"\n</code></pre>"},{"location":"01_tdd_basics/#repeatable","title":"Repeatable (\u041f\u043e\u0432\u0442\u043e\u0440\u044f\u0435\u043c\u044b\u0435)","text":"<pre><code># \u2705 \u041f\u041e\u0412\u0422\u041e\u0420\u042f\u0415\u041c\u042b\u0419:\ndef test_sort_numbers():\n    numbers = [3, 1, 4, 1, 5]\n    result = sort(numbers)\n    assert result == [1, 1, 3, 4, 5]\n\n# \u274c \u041d\u0415 \u041f\u041e\u0412\u0422\u041e\u0420\u042f\u0415\u041c\u042b\u0419:\ndef test_current_time():\n    now = get_current_time()\n    assert now == datetime.now()  # \u0412\u0441\u0435\u0433\u0434\u0430 \u0440\u0430\u0437\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f!\n</code></pre>"},{"location":"01_tdd_basics/#self-validating","title":"Self-validating (\u0421\u0430\u043c\u043e\u043f\u0440\u043e\u0432\u0435\u0440\u044f\u044e\u0449\u0438\u0435\u0441\u044f)","text":"<pre><code># \u2705 \u0421\u0410\u041c\u041e\u041f\u0420\u041e\u0412\u0415\u0420\u042f\u042e\u0429\u0418\u0419\u0421\u042f:\ndef test_is_even():\n    assert is_even(4) == True\n    assert is_even(3) == False\n\n# \u274c \u0422\u0420\u0415\u0411\u0423\u0415\u0422 \u0420\u0423\u0427\u041d\u041e\u0419 \u041f\u0420\u041e\u0412\u0415\u0420\u041a\u0418:\ndef test_generate_report():\n    report = generate_report()\n    print(report)  # \u041d\u0443\u0436\u043d\u043e \u0432\u0440\u0443\u0447\u043d\u0443\u044e \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0432\u044b\u0432\u043e\u0434\n</code></pre>"},{"location":"01_tdd_basics/#timely","title":"Timely (\u0421\u0432\u043e\u0435\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435)","text":"<p>\u0422\u0435\u0441\u0442\u044b \u043f\u0438\u0448\u0443\u0442\u0441\u044f \u0434\u043e \u043a\u043e\u0434\u0430, \u0430 \u043d\u0435 \u043f\u043e\u0441\u043b\u0435!</p>"},{"location":"01_tdd_basics/#tdd_3","title":"\ud83c\udfa8 \u0422\u0438\u043f\u044b \u0442\u0435\u0441\u0442\u043e\u0432 \u0432 TDD","text":""},{"location":"01_tdd_basics/#unit-tests","title":"Unit Tests (\u041c\u043e\u0434\u0443\u043b\u044c\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b)","text":"<p>90% \u0432\u0430\u0448\u0438\u0445 \u0442\u0435\u0441\u0442\u043e\u0432 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c unit \u0442\u0435\u0441\u0442\u0430\u043c\u0438.</p> <pre><code>def test_password_validation():\n    validator = PasswordValidator()\n\n    # \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c \u043e\u0434\u0438\u043d \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u0438\u0437\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\n    assert validator.is_valid(\"password123\") == False\n    assert validator.is_valid(\"StrongP@ss1\") == True\n</code></pre>"},{"location":"01_tdd_basics/#integration-tests","title":"Integration Tests (\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b)","text":"<p>\u0422\u0435\u0441\u0442\u0438\u0440\u0443\u044e\u0442 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432.</p> <pre><code>def test_user_registration_flow():\n    # \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432\n    user_service = UserService()\n    email_service = EmailService()\n\n    user = user_service.register(\"john@example.com\", \"password\")\n\n    assert user.is_active == False\n    assert email_service.was_confirmation_sent(user.email)\n</code></pre>"},{"location":"01_tdd_basics/#end-to-end-tests-e2e","title":"End-to-End Tests (E2E \u0442\u0435\u0441\u0442\u044b)","text":"<p>\u0422\u0435\u0441\u0442\u0438\u0440\u0443\u044e\u0442 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e.</p> <pre><code>def test_complete_purchase_flow():\n    # \u0418\u043c\u0438\u0442\u0438\u0440\u0443\u0435\u043c \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043e\u0442 \u043d\u0430\u0447\u0430\u043b\u0430 \u0434\u043e \u043a\u043e\u043d\u0446\u0430\n    browser.visit(\"/products\")\n    browser.click_link(\"Buy Now\")\n    browser.fill_form({\"email\": \"user@test.com\"})\n    browser.click_button(\"Complete Purchase\")\n\n    assert \"Thank you for your purchase\" in browser.html\n</code></pre>"},{"location":"01_tdd_basics/#_9","title":"\ud83d\udd27 \u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0435: \u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440","text":"<p>\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043c TDD \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u0440\u043e\u0441\u0442\u043e\u0433\u043e \u043a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440\u0430:</p>"},{"location":"01_tdd_basics/#1_2","title":"\u0428\u0430\u0433 1: \u041f\u0435\u0440\u0432\u044b\u0439 \u0442\u0435\u0441\u0442 \ud83d\udd34","text":"<pre><code># test_calculator.py\ndef test_add_two_positive_numbers():\n    calc = Calculator()  # \u041a\u043b\u0430\u0441\u0441\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442!\n    result = calc.add(2, 3)\n    assert result == 5\n</code></pre>"},{"location":"01_tdd_basics/#2_2","title":"\u0428\u0430\u0433 2: \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \ud83d\udfe2","text":"<pre><code># calculator.py\nclass Calculator:\n    def add(self, a, b):\n        return 5  # \u0425\u0430\u0440\u0434\u043a\u043e\u0434 \u0434\u043b\u044f \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u0442\u0435\u0441\u0442\u0430!\n</code></pre>"},{"location":"01_tdd_basics/#3_2","title":"\u0428\u0430\u0433 3: \u0412\u0442\u043e\u0440\u043e\u0439 \u0442\u0435\u0441\u0442 \ud83d\udd34","text":"<pre><code>def test_add_two_different_numbers():\n    calc = Calculator()\n    result = calc.add(1, 1)\n    assert result == 2  # \u0422\u0435\u043f\u0435\u0440\u044c \u0445\u0430\u0440\u0434\u043a\u043e\u0434 \u043d\u0435 \u043f\u043e\u043c\u043e\u0436\u0435\u0442!\n</code></pre>"},{"location":"01_tdd_basics/#4","title":"\u0428\u0430\u0433 4: \u041e\u0431\u0449\u0430\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \ud83d\udfe2","text":"<pre><code>class Calculator:\n    def add(self, a, b):\n        return a + b  # \u0422\u0435\u043f\u0435\u0440\u044c \u043d\u0443\u0436\u043d\u0430 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u043b\u043e\u0433\u0438\u043a\u0430\n</code></pre>"},{"location":"01_tdd_basics/#5","title":"\u0428\u0430\u0433 5: \u0420\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433 \ud83d\udd35","text":"<pre><code>class Calculator:\n    def add(self, a: float, b: float) -&gt; float:\n        \"\"\"Add two numbers and return the result.\"\"\"\n        return a + b\n</code></pre>"},{"location":"01_tdd_basics/#_10","title":"\ud83d\ude80 \u0427\u0442\u043e \u0434\u0430\u043b\u044c\u0448\u0435?","text":"<p>\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u043e \u0440\u0430\u0437\u0431\u0435\u0440\u0435\u043c: - \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0443 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f \u0434\u043b\u044f TDD \u0432 Python - \u0412\u044b\u0431\u043e\u0440 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f - \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e pytest \u0438 unittest</p>"},{"location":"01_tdd_basics/#_11","title":"\ud83d\udca1 \u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0432\u044b\u0432\u043e\u0434\u044b","text":"<ol> <li>TDD \u2014 \u044d\u0442\u043e \u0434\u0438\u0441\u0446\u0438\u043f\u043b\u0438\u043d\u0430, \u0430 \u043d\u0435 \u043f\u0440\u043e\u0441\u0442\u043e \u0442\u0435\u0445\u043d\u0438\u043a\u0430</li> <li>\u0422\u0435\u0441\u0442\u044b \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0442 \u0434\u0438\u0437\u0430\u0439\u043d \u043a\u043e\u0434\u0430</li> <li>\u041c\u0430\u043b\u0435\u043d\u044c\u043a\u0438\u0435 \u0448\u0430\u0433\u0438 \u043b\u0443\u0447\u0448\u0435 \u0431\u043e\u043b\u044c\u0448\u0438\u0445 \u043f\u0440\u044b\u0436\u043a\u043e\u0432</li> <li>\u0420\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u0435\u043d \u043f\u043e\u0434 \u0437\u0430\u0449\u0438\u0442\u043e\u0439 \u0442\u0435\u0441\u0442\u043e\u0432</li> <li>\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 \u2014 \u043a\u043b\u044e\u0447 \u043a \u043c\u0430\u0441\u0442\u0435\u0440\u0441\u0442\u0432\u0443</li> </ol>"},{"location":"01_tdd_basics/#_12","title":"\ud83e\uddea \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u0432\u043e\u0438 \u0437\u043d\u0430\u043d\u0438\u044f","text":"<p>\ud83c\udfaf \u0418\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0435: \u041e\u0441\u043d\u043e\u0432\u044b TDD</p> <p>\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430: \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f</p> <p>\ud83d\udcc8 \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0435\u043c \u043d\u0430\u0448\u0435 \u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435 \u043a \u043c\u0430\u0441\u0442\u0435\u0440\u0441\u0442\u0432\u0443 TDD!</p>"},{"location":"02_environment_setup/","title":"Macro Rendering Error","text":"<p>File: <code>02_environment_setup.md</code></p> <p>UndefinedError: 'super_collections.SuperDict object' has no attribute 'python'</p> <pre><code>Traceback (most recent call last):\n  File \"/home/runner/work/TDD-Learning/TDD-Learning/.venv/lib/python3.12/site-packages/mkdocs_macros/plugin.py\", line 703, in render\n    return md_template.render(**page_variables)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/TDD-Learning/TDD-Learning/.venv/lib/python3.12/site-packages/jinja2/environment.py\", line 1295, in render\n    self.environment.handle_exception()\n  File \"/home/runner/work/TDD-Learning/TDD-Learning/.venv/lib/python3.12/site-packages/jinja2/environment.py\", line 942, in handle_exception\n    raise rewrite_traceback_stack(source=source)\n  File \"&lt;template&gt;\", line 413, in top-level template code\njinja2.exceptions.UndefinedError: 'super_collections.SuperDict object' has no attribute 'python'\n</code></pre>"},{"location":"03_red_green_refactor/","title":"\u0426\u0438\u043a\u043b Red-Green-Refactor: \u0421\u0435\u0440\u0434\u0446\u0435 TDD","text":""},{"location":"03_red_green_refactor/#_1","title":"\ud83c\udfaf \u0412\u0432\u0435\u0434\u0435\u043d\u0438\u0435","text":"<p>\u0426\u0438\u043a\u043b Red-Green-Refactor \u2014 \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 TDD. \u042d\u0442\u043e\u0442 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u0442\u0440\u0435\u0445\u044d\u0442\u0430\u043f\u043d\u044b\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043a\u0430\u0436\u0435\u0442\u0441\u044f \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430\u0440\u043d\u044b\u043c, \u043d\u043e \u0435\u0433\u043e \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u0434\u0438\u0441\u0446\u0438\u043f\u043b\u0438\u043d\u044b \u0438 \u043f\u043e\u043d\u0438\u043c\u0430\u043d\u0438\u044f. \u0412 \u044d\u0442\u043e\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u043e \u0440\u0430\u0437\u0431\u0435\u0440\u0435\u043c \u043a\u0430\u0436\u0434\u0443\u044e \u0444\u0430\u0437\u0443 \u043d\u0430 \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u043f\u0440\u0438\u043c\u0435\u0440\u0430\u0445.</p>"},{"location":"03_red_green_refactor/#_2","title":"\ud83d\udd04 \u041e\u0431\u0437\u043e\u0440 \u0446\u0438\u043a\u043b\u0430","text":"<pre><code>\ud83d\udd34 RED \u2192 \ud83d\udfe2 GREEN \u2192 \ud83d\udd35 REFACTOR \u2192 \ud83d\udd34 RED \u2192 ...\n</code></pre>"},{"location":"03_red_green_refactor/#_3","title":"\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0440\u0430\u043c\u043a\u0438","text":"<ul> <li>\u041e\u0434\u0438\u043d \u0446\u0438\u043a\u043b: 2-10 \u043c\u0438\u043d\u0443\u0442</li> <li>RED \u0444\u0430\u0437\u0430: 30 \u0441\u0435\u043a\u0443\u043d\u0434 - 2 \u043c\u0438\u043d\u0443\u0442\u044b</li> <li>GREEN \u0444\u0430\u0437\u0430: 1-5 \u043c\u0438\u043d\u0443\u0442  </li> <li>REFACTOR \u0444\u0430\u0437\u0430: 1-3 \u043c\u0438\u043d\u0443\u0442\u044b</li> </ul>"},{"location":"03_red_green_refactor/#_4","title":"\u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u044b","text":"<ol> <li>\u041d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u0439\u0442\u0435 \u0444\u0430\u0437\u044b</li> <li>\u0414\u0435\u043b\u0430\u0439\u0442\u0435 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0435 \u0448\u0430\u0433\u0438</li> <li>\u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0439\u0442\u0435 \u0442\u0435\u0441\u0442\u044b \u043f\u043e\u0441\u043b\u0435 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f</li> <li>\u041a\u043e\u043c\u043c\u0438\u0442\u044c\u0442\u0435 \u043f\u043e\u0441\u043b\u0435 \u043a\u0430\u0436\u0434\u043e\u0433\u043e GREEN</li> </ol>"},{"location":"03_red_green_refactor/#red","title":"\ud83d\udd34 RED \u0424\u0430\u0437\u0430: \u041d\u0435\u0443\u0434\u0430\u0447\u043d\u044b\u0439 \u0442\u0435\u0441\u0442","text":""},{"location":"03_red_green_refactor/#red_1","title":"\u0426\u0435\u043b\u0438 RED \u0444\u0430\u0437\u044b:","text":"<ul> <li>\u2705 \u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0447\u0442\u043e \u0434\u043e\u043b\u0436\u0435\u043d \u0434\u0435\u043b\u0430\u0442\u044c \u043a\u043e\u0434</li> <li>\u2705 \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044e \u0432 \u0432\u0438\u0434\u0435 \u0442\u0435\u0441\u0442\u0430</li> <li>\u2705 \u0423\u0431\u0435\u0434\u0438\u0442\u044c\u0441\u044f, \u0447\u0442\u043e \u0442\u0435\u0441\u0442 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043f\u0430\u0434\u0430\u0435\u0442</li> <li>\u2705 \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u043e\u043d\u044f\u0442\u043d\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0435</li> </ul>"},{"location":"03_red_green_refactor/#red_2","title":"\u041f\u0440\u0430\u0432\u0438\u043b\u0430 RED \u0444\u0430\u0437\u044b:","text":""},{"location":"03_red_green_refactor/#1","title":"1. \u041f\u0438\u0448\u0438\u0442\u0435 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0442\u0435\u0441\u0442","text":"<pre><code># \u274c \u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0441\u0440\u0430\u0437\u0443:\ndef test_user_full_functionality():\n    user = User(\"John\", \"john@example.com\", 25)\n    user.change_email(\"new@example.com\")\n    user.add_friend(\"Jane\")\n    assert user.name == \"John\"\n    assert user.email == \"new@example.com\"  \n    assert len(user.friends) == 1\n\n# \u2705 \u041e\u0434\u0438\u043d \u0430\u0441\u043f\u0435\u043a\u0442 \u0437\u0430 \u0440\u0430\u0437:\ndef test_user_has_name():\n    user = User(\"John\")\n    assert user.name == \"John\"\n</code></pre>"},{"location":"03_red_green_refactor/#2","title":"2. \u0423\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u0442\u0435\u0441\u0442 \u043f\u0430\u0434\u0430\u0435\u0442","text":"<pre><code>def test_add_numbers():\n    result = add(2, 3)  # \u0424\u0443\u043d\u043a\u0446\u0438\u0438 \u0435\u0449\u0435 \u043d\u0435\u0442!\n    assert result == 5\n\n# \u0417\u0430\u043f\u0443\u0441\u043a: pytest test_calculator.py\n# NameError: name 'add' is not defined \u2705 \u0422\u0435\u0441\u0442 \u043f\u0430\u0434\u0430\u0435\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\n</code></pre>"},{"location":"03_red_green_refactor/#3","title":"3. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0435","text":"<pre><code>def test_divide_by_zero():\n    with pytest.raises(ZeroDivisionError):\n        divide(10, 0)  # \u0424\u0443\u043d\u043a\u0446\u0438\u0438 \u043d\u0435\u0442!\n\n# \u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043f\u043e\u043b\u0443\u0447\u0438\u043c NameError, \u0430 \u043d\u0435 ZeroDivisionError\n# \u042d\u0442\u043e \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442, \u0447\u0442\u043e \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0444\u0443\u043d\u043a\u0446\u0438\u044e\n</code></pre>"},{"location":"03_red_green_refactor/#red_3","title":"\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043f\u0440\u0438\u043c\u0435\u0440 RED: \u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0441\u0447\u0435\u0442","text":"<p>\u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0435: \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043b\u0430\u0441\u0441 \u0431\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u043e\u0433\u043e \u0441\u0447\u0435\u0442\u0430 \u0441 \u0431\u0430\u0437\u043e\u0432\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c\u044e.</p>"},{"location":"03_red_green_refactor/#1_1","title":"\u0422\u0435\u0441\u0442 1: \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0447\u0435\u0442\u0430","text":"<pre><code># test_account.py\ndef test_new_account_has_zero_balance():\n    \"\"\"\u041d\u043e\u0432\u044b\u0439 \u0441\u0447\u0435\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u043d\u0443\u043b\u0435\u0432\u043e\u0439 \u0431\u0430\u043b\u0430\u043d\u0441.\"\"\"\n    account = Account()  # \u041a\u043b\u0430\u0441\u0441\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442!\n    assert account.balance == 0\n</code></pre> <p>\u0417\u0430\u043f\u0443\u0441\u043a \u0442\u0435\u0441\u0442\u0430: <pre><code>$ uv run pytest test_account.py::test_new_account_has_zero_balance -v\n\nFAILED test_account.py::test_new_account_has_zero_balance\nNameError: name 'Account' is not defined\n</code></pre></p> <p>\u2705 \u0422\u0435\u0441\u0442 \u043f\u0430\u0434\u0430\u0435\u0442 \u0441 \u043f\u043e\u043d\u044f\u0442\u043d\u043e\u0439 \u043e\u0448\u0438\u0431\u043a\u043e\u0439 \u2014 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u043a GREEN!</p>"},{"location":"03_red_green_refactor/#red_4","title":"\ud83c\udfae \u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0435: RED \u0444\u0430\u0437\u0430","text":"<p>\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u0430\u043c\u0438! \u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0442\u0435\u0441\u0442 \u0434\u043b\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>add</code>, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0434\u043e\u043b\u0436\u043d\u0430 \u0441\u043a\u043b\u0430\u0434\u044b\u0432\u0430\u0442\u044c \u0434\u0432\u0430 \u0447\u0438\u0441\u043b\u0430:</p> \u0412\u0430\u0448 \u043a\u043e\u0434: # \u0428\u0430\u0433 1: \u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0442\u0435\u0441\u0442 (RED \u0444\u0430\u0437\u0430) # \u0422\u0435\u0441\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c, \u0447\u0442\u043e \u0444\u0443\u043d\u043a\u0446\u0438\u044f add(2, 3) \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 5  def test_add():     # \u0412\u0430\u0448 \u0442\u0435\u0441\u0442 \u0437\u0434\u0435\u0441\u044c     pass                   \ud83d\ude80 \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c                               \ud83d\udd04 \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c              \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438: <p>\u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430</p> <p>\u0412 RED \u0444\u0430\u0437\u0435 \u043c\u044b \u043f\u0438\u0448\u0435\u043c \u0442\u0435\u0441\u0442 \u0434\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u0438. \u0422\u0435\u0441\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0430\u0434\u0430\u0442\u044c, \u043f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>add</code> \u0435\u0449\u0435 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442!</p>"},{"location":"03_red_green_refactor/#green","title":"\ud83d\udfe2 GREEN \u0424\u0430\u0437\u0430: \u0420\u0430\u0431\u043e\u0442\u0430\u044e\u0449\u0438\u0439 \u043a\u043e\u0434","text":""},{"location":"03_red_green_refactor/#green_1","title":"\u0426\u0435\u043b\u0438 GREEN \u0444\u0430\u0437\u044b:","text":"<ul> <li>\u2705 \u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0442\u0435\u0441\u0442 \u0437\u0435\u043b\u0435\u043d\u044b\u043c \u043b\u044e\u0431\u043e\u0439 \u0446\u0435\u043d\u043e\u0439</li> <li>\u2705 \u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u0434</li> <li>\u2705 \u0418\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0431\u0443\u0434\u0443\u0449\u0438\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f</li> <li>\u2705 \u041d\u0435 \u0431\u0435\u0441\u043f\u043e\u043a\u043e\u0438\u0442\u044c\u0441\u044f \u043e \u043a\u0440\u0430\u0441\u043e\u0442\u0435 \u043a\u043e\u0434\u0430</li> </ul>"},{"location":"03_red_green_refactor/#green_2","title":"\u041f\u0440\u0430\u0432\u0438\u043b\u0430 GREEN \u0444\u0430\u0437\u044b:","text":""},{"location":"03_red_green_refactor/#1_2","title":"1. \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f","text":"<pre><code># account.py\nclass Account:\n    def __init__(self):\n        self.balance = 0  # \u041f\u0440\u043e\u0441\u0442\u043e \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c \u0442\u043e, \u0447\u0442\u043e \u043d\u0443\u0436\u043d\u043e \u0442\u0435\u0441\u0442\u0443!\n</code></pre> <p>\u0417\u0430\u043f\u0443\u0441\u043a \u0442\u0435\u0441\u0442\u0430: <pre><code>$ uv run pytest test_account.py::test_new_account_has_zero_balance -v\n\nPASSED test_account.py::test_new_account_has_zero_balance \u2705\n</code></pre></p>"},{"location":"03_red_green_refactor/#2_1","title":"2. \u0425\u0430\u0440\u0434\u043a\u043e\u0434 \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c!","text":"<pre><code># \u0415\u0441\u043b\u0438 \u0442\u0435\u0441\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442 add(2, 3) == 5\ndef add(a, b):\n    return 5  # \u0425\u0430\u0440\u0434\u043a\u043e\u0434! \u041d\u043e \u0442\u0435\u0441\u0442 \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442! \u2705\n</code></pre>"},{"location":"03_red_green_refactor/#green_3","title":"\ud83c\udfae \u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0435: GREEN \u0444\u0430\u0437\u0430","text":"<p>\u0420\u0435\u0430\u043b\u0438\u0437\u0443\u0439\u0442\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u044e <code>add</code>, \u0447\u0442\u043e\u0431\u044b \u0442\u0435\u0441\u0442 \u043f\u0440\u043e\u0448\u0435\u043b. \u041f\u043e\u043c\u043d\u0438\u0442\u0435: \u0432 GREEN \u0444\u0430\u0437\u0435 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0445\u0430\u0440\u0434\u043a\u043e\u0434!</p> \u0412\u0430\u0448 \u043a\u043e\u0434: # \u0428\u0430\u0433 2: \u0420\u0435\u0430\u043b\u0438\u0437\u0443\u0439\u0442\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u044e add (GREEN \u0444\u0430\u0437\u0430) # \u0426\u0435\u043b\u044c: \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0442\u0435\u0441\u0442 \u0437\u0435\u043b\u0435\u043d\u044b\u043c \u043b\u044e\u0431\u043e\u0439 \u0446\u0435\u043d\u043e\u0439!  def add(a, b):     # \u0412\u0430\u0448\u0430 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0437\u0434\u0435\u0441\u044c     # \u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430: \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0445\u0430\u0440\u0434\u043a\u043e\u0434 \u0434\u043b\u044f \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430!     pass  # \u0422\u0435\u0441\u0442 \u0438\u0437 RED \u0444\u0430\u0437\u044b def test_add():     assert add(2, 3) == 5                   \ud83d\ude80 \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c                               \ud83d\udd04 \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c              \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438: <p>\u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430</p> <p>\u0412 GREEN \u0444\u0430\u0437\u0435 \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c <code>return 5</code> - \u044d\u0442\u043e \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e! \u0413\u043b\u0430\u0432\u043d\u043e\u0435, \u0447\u0442\u043e\u0431\u044b \u0442\u0435\u0441\u0442 \u043f\u0440\u043e\u0448\u0435\u043b.</p> <pre><code># \u0415\u0441\u043b\u0438 \u0442\u0435\u0441\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442 add(2, 3) == 5\ndef add(a, b):\n    return 5  # \u0425\u0430\u0440\u0434\u043a\u043e\u0434 \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442 \u0442\u0435\u0441\u0442!\n\n# \u0422\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u0441\u043b\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u0442\u043e\u0440\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430 \u043d\u0443\u0436\u043d\u0430 \u043e\u0431\u0449\u0430\u044f \u043b\u043e\u0433\u0438\u043a\u0430\ndef test_add_different_numbers():\n    assert add(1, 1) == 2  # \u0422\u0435\u043f\u0435\u0440\u044c \u0445\u0430\u0440\u0434\u043a\u043e\u0434 \u043d\u0435 \u043f\u043e\u043c\u043e\u0436\u0435\u0442\n</code></pre>"},{"location":"03_red_green_refactor/#3-fake-it-til-you-make-it","title":"3. Fake it 'til you make it","text":"<pre><code># \u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f \"\u043f\u043e\u0434\u0434\u0435\u043b\u043a\u0438\" \u0434\u043b\u044f \u0441\u043b\u043e\u0436\u043d\u043e\u0439 \u043b\u043e\u0433\u0438\u043a\u0438\nclass UserValidator:\n    def is_valid_email(self, email):\n        # \u041d\u0430\u0447\u0438\u043d\u0430\u0435\u043c \u0441 \u043f\u0440\u043e\u0441\u0442\u043e\u0433\u043e \u0445\u0430\u0440\u0434\u043a\u043e\u0434\u0430\n        if email == \"test@example.com\":\n            return True\n        return False\n\n# \u041f\u043e\u0441\u043b\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u043e\u0432\u044b\u0445 \u0442\u0435\u0441\u0442\u043e\u0432 - \u0440\u0430\u0437\u0432\u0438\u0432\u0430\u0435\u043c \u043b\u043e\u0433\u0438\u043a\u0443\n</code></pre>"},{"location":"03_red_green_refactor/#green_4","title":"\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043f\u0440\u0438\u043c\u0435\u0440 GREEN: \u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0441\u0447\u0435\u0442","text":""},{"location":"03_red_green_refactor/#2_2","title":"\u0422\u0435\u0441\u0442 2: \u041f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0441\u0447\u0435\u0442\u0430","text":"<pre><code>def test_deposit_money():\n    \"\"\"\u041c\u043e\u0436\u043d\u043e \u043f\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0441\u0447\u0435\u0442.\"\"\"\n    account = Account()\n    account.deposit(100)\n    assert account.balance == 100\n</code></pre> <p>\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f: <pre><code>class Account:\n    def __init__(self):\n        self.balance = 0\n\n    def deposit(self, amount):\n        self.balance = 100  # \u0425\u0430\u0440\u0434\u043a\u043e\u0434 \u0434\u043b\u044f \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u0442\u0435\u0441\u0442\u0430!\n</code></pre></p>"},{"location":"03_red_green_refactor/#3_1","title":"\u0422\u0435\u0441\u0442 3: \u0420\u0430\u0437\u043d\u044b\u0435 \u0441\u0443\u043c\u043c\u044b \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f","text":"<pre><code>def test_deposit_different_amount():\n    \"\"\"\u041c\u043e\u0436\u043d\u043e \u043f\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043d\u0430 \u0440\u0430\u0437\u043d\u0443\u044e \u0441\u0443\u043c\u043c\u0443.\"\"\"\n    account = Account()\n    account.deposit(50)\n    assert account.balance == 50\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u043d\u0443\u0436\u043d\u0430 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u043b\u043e\u0433\u0438\u043a\u0430: <pre><code>class Account:\n    def __init__(self):\n        self.balance = 0\n\n    def deposit(self, amount):\n        self.balance += amount  # \u0422\u0435\u043f\u0435\u0440\u044c \u0445\u0430\u0440\u0434\u043a\u043e\u0434 \u043d\u0435 \u043f\u043e\u043c\u043e\u0436\u0435\u0442\n</code></pre></p>"},{"location":"03_red_green_refactor/#green_5","title":"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438 GREEN \u0444\u0430\u0437\u044b","text":""},{"location":"03_red_green_refactor/#1-fake-it","title":"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f 1: Fake It (\u041f\u043e\u0434\u0434\u0435\u043b\u043a\u0430)","text":"<pre><code># \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c \u043a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u0443\ndef calculate_tax(income):\n    return 1000  # \u0425\u0430\u0440\u0434\u043a\u043e\u0434\n\n# \u041f\u043e\u0441\u0442\u0435\u043f\u0435\u043d\u043d\u043e \u043e\u0431\u043e\u0431\u0449\u0430\u0435\u043c\ndef calculate_tax(income):\n    if income &lt;= 50000:\n        return income * 0.1\n    return 1000  # \u0427\u0430\u0441\u0442\u0438\u0447\u043d\u044b\u0439 \u0445\u0430\u0440\u0434\u043a\u043e\u0434\n</code></pre>"},{"location":"03_red_green_refactor/#2-use-obvious-implementation","title":"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f 2: Use Obvious Implementation","text":"<pre><code># \u0415\u0441\u043b\u0438 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043e\u0447\u0435\u0432\u0438\u0434\u043d\u0430, \u043f\u0438\u0448\u0435\u043c \u0441\u0440\u0430\u0437\u0443\ndef is_even(number):\n    return number % 2 == 0  # \u041e\u0447\u0435\u0432\u0438\u0434\u043d\u0430\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f\n</code></pre>"},{"location":"03_red_green_refactor/#3-triangulation","title":"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f 3: Triangulation (\u0422\u0440\u0438\u0430\u043d\u0433\u0443\u043b\u044f\u0446\u0438\u044f)","text":"<pre><code># \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0442\u0435\u0441\u0442\u044b \u043f\u043e\u043a\u0430 \u043d\u0435 \u0441\u0442\u0430\u043d\u0435\u0442 \u044f\u0441\u043d\u0430 \u043e\u0431\u0449\u0430\u044f \u0437\u0430\u043a\u043e\u043d\u043e\u043c\u0435\u0440\u043d\u043e\u0441\u0442\u044c\ndef test_fibonacci_0():\n    assert fibonacci(0) == 0\n\ndef test_fibonacci_1():  \n    assert fibonacci(1) == 1\n\ndef test_fibonacci_2():\n    assert fibonacci(2) == 1\n\n# \u0422\u0435\u043f\u0435\u0440\u044c \u043f\u0430\u0442\u0442\u0435\u0440\u043d \u044f\u0441\u0435\u043d - \u043c\u043e\u0436\u043d\u043e \u043f\u0438\u0441\u0430\u0442\u044c \u043e\u0431\u0449\u0443\u044e \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e\n</code></pre>"},{"location":"03_red_green_refactor/#refactor","title":"\ud83d\udd35 REFACTOR \u0424\u0430\u0437\u0430: \u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0435 \u043a\u043e\u0434\u0430","text":""},{"location":"03_red_green_refactor/#refactor_1","title":"\u0426\u0435\u043b\u0438 REFACTOR \u0444\u0430\u0437\u044b:","text":"<ul> <li>\u2705 \u0423\u0441\u0442\u0440\u0430\u043d\u0438\u0442\u044c \u0434\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u0434\u0430</li> <li>\u2705 \u0423\u043b\u0443\u0447\u0448\u0438\u0442\u044c \u0447\u0438\u0442\u0430\u0435\u043c\u043e\u0441\u0442\u044c </li> <li>\u2705 \u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0442\u0442\u0435\u0440\u043d\u044b \u043f\u0440\u043e\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f</li> <li>\u2705 \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u0435\u043b\u0435\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b</li> </ul>"},{"location":"03_red_green_refactor/#refactor_2","title":"\u041f\u0440\u0430\u0432\u0438\u043b\u0430 REFACTOR \u0444\u0430\u0437\u044b:","text":""},{"location":"03_red_green_refactor/#1_3","title":"1. \u0422\u0435\u0441\u0442\u044b \u0432\u0441\u0435\u0433\u0434\u0430 \u0437\u0435\u043b\u0435\u043d\u044b\u0435","text":"<pre><code># \u041f\u043e\u0441\u043b\u0435 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0439\u0442\u0435 \u0442\u0435\u0441\u0442\u044b!\ndef refactor_step():\n    # 1. \u0418\u0437\u043c\u0435\u043d\u044f\u0435\u043c \u043a\u043e\u0434\n    extract_method()\n\n    # 2. \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0442\u0435\u0441\u0442\u044b  \n    run_tests()  # \u0414\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0437\u0435\u043b\u0435\u043d\u044b\u0435!\n\n    # 3. \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0435\u043c \u0438\u043b\u0438 \u043e\u0442\u043a\u0430\u0442\u044b\u0432\u0430\u0435\u043c\u0441\u044f\n</code></pre>"},{"location":"03_red_green_refactor/#2_3","title":"2. \u041c\u0430\u043b\u0435\u043d\u044c\u043a\u0438\u0435 \u0448\u0430\u0433\u0438","text":"<pre><code># \u274c \u0411\u043e\u043b\u044c\u0448\u043e\u0439 \u0440\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433:\ndef calculate_total_price(items):\n    # \u041f\u0435\u0440\u0435\u043f\u0438\u0441\u0430\u043b\u0438 \u0432\u0441\u044e \u0444\u0443\u043d\u043a\u0446\u0438\u044e \u0441\u0440\u0430\u0437\u0443 - \u0440\u0438\u0441\u043a\u043e\u0432\u0430\u043d\u043d\u043e!\n\n# \u2705 \u041f\u043e\u044d\u0442\u0430\u043f\u043d\u044b\u0439 \u0440\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433:\ndef calculate_total_price(items):\n    # \u0428\u0430\u0433 1: \u0418\u0437\u0432\u043b\u0435\u043a\u043b\u0438 \u043c\u0435\u0442\u043e\u0434\n    subtotal = calculate_subtotal(items)\n    # \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u043b\u0438 \u0442\u0435\u0441\u0442\u044b \u2705\n\n    # \u0428\u0430\u0433 2: \u0414\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u043d\u0430\u043b\u043e\u0433\n    tax = calculate_tax(subtotal)  \n    # \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u043b\u0438 \u0442\u0435\u0441\u0442\u044b \u2705\n\n    return subtotal + tax\n</code></pre>"},{"location":"03_red_green_refactor/#_5","title":"\u0412\u0438\u0434\u044b \u0440\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433\u0430","text":""},{"location":"03_red_green_refactor/#1-extract-method","title":"1. \u0418\u0437\u0432\u043b\u0435\u0447\u0435\u043d\u0438\u0435 \u043c\u0435\u0442\u043e\u0434\u0430 (Extract Method)","text":"<pre><code># \u0414\u043e \u0440\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433\u0430:\nclass Account:\n    def transfer(self, amount, target_account):\n        if amount &lt;= 0:\n            raise ValueError(\"Amount must be positive\")\n        if amount &gt; self.balance:\n            raise ValueError(\"Insufficient funds\")\n        if target_account is None:\n            raise ValueError(\"Target account required\")\n\n        self.balance -= amount\n        target_account.balance += amount\n\n# \u041f\u043e\u0441\u043b\u0435 \u0440\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433\u0430:\nclass Account:\n    def transfer(self, amount, target_account):\n        self._validate_transfer(amount, target_account)\n        self._execute_transfer(amount, target_account)\n\n    def _validate_transfer(self, amount, target_account):\n        if amount &lt;= 0:\n            raise ValueError(\"Amount must be positive\")\n        if amount &gt; self.balance:\n            raise ValueError(\"Insufficient funds\") \n        if target_account is None:\n            raise ValueError(\"Target account required\")\n\n    def _execute_transfer(self, amount, target_account):\n        self.balance -= amount\n        target_account.balance += amount\n</code></pre>"},{"location":"03_red_green_refactor/#2-extract-class","title":"2. \u0418\u0437\u0432\u043b\u0435\u0447\u0435\u043d\u0438\u0435 \u043a\u043b\u0430\u0441\u0441\u0430 (Extract Class)","text":"<pre><code># \u0414\u043e \u0440\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433\u0430:\nclass User:\n    def __init__(self, name, street, city, postal_code):\n        self.name = name\n        self.street = street\n        self.city = city  \n        self.postal_code = postal_code\n\n    def get_full_address(self):\n        return f\"{self.street}, {self.city} {self.postal_code}\"\n\n# \u041f\u043e\u0441\u043b\u0435 \u0440\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433\u0430:\nclass Address:\n    def __init__(self, street, city, postal_code):\n        self.street = street\n        self.city = city\n        self.postal_code = postal_code\n\n    def __str__(self):\n        return f\"{self.street}, {self.city} {self.postal_code}\"\n\nclass User:\n    def __init__(self, name, address):\n        self.name = name\n        self.address = address\n\n    def get_full_address(self):\n        return str(self.address)\n</code></pre>"},{"location":"03_red_green_refactor/#3_2","title":"3. \u0417\u0430\u043c\u0435\u043d\u0430 \u0443\u0441\u043b\u043e\u0432\u0438\u0439 \u043f\u043e\u043b\u0438\u043c\u043e\u0440\u0444\u0438\u0437\u043c\u043e\u043c","text":"<pre><code># \u0414\u043e \u0440\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433\u0430:\ndef calculate_area(shape_type, **kwargs):\n    if shape_type == \"rectangle\":\n        return kwargs[\"width\"] * kwargs[\"height\"]\n    elif shape_type == \"circle\":\n        return 3.14159 * kwargs[\"radius\"] ** 2\n    elif shape_type == \"triangle\":\n        return 0.5 * kwargs[\"base\"] * kwargs[\"height\"]\n\n# \u041f\u043e\u0441\u043b\u0435 \u0440\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433\u0430:\nclass Shape:\n    def area(self):\n        raise NotImplementedError\n\nclass Rectangle(Shape):\n    def __init__(self, width, height):\n        self.width = width\n        self.height = height\n\n    def area(self):\n        return self.width * self.height\n\nclass Circle(Shape):\n    def __init__(self, radius):\n        self.radius = radius\n\n    def area(self):\n        return 3.14159 * self.radius ** 2\n</code></pre>"},{"location":"03_red_green_refactor/#refactor_3","title":"\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043f\u0440\u0438\u043c\u0435\u0440 REFACTOR: \u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0441\u0447\u0435\u0442","text":""},{"location":"03_red_green_refactor/#green_6","title":"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u043a\u043e\u0434 \u043f\u043e\u0441\u043b\u0435 GREEN:","text":"<pre><code>class Account:\n    def __init__(self):\n        self.balance = 0\n\n    def deposit(self, amount):\n        self.balance += amount\n\n    def withdraw(self, amount):\n        if amount &gt; self.balance:\n            raise ValueError(\"Insufficient funds\")\n        self.balance -= amount\n</code></pre>"},{"location":"03_red_green_refactor/#1_4","title":"\u0420\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433 1: \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044e","text":"<pre><code>class Account:\n    def __init__(self):\n        self.balance = 0\n\n    def deposit(self, amount):\n        self._validate_positive_amount(amount)\n        self.balance += amount\n\n    def withdraw(self, amount):\n        self._validate_positive_amount(amount)\n        if amount &gt; self.balance:\n            raise ValueError(\"Insufficient funds\")\n        self.balance -= amount\n\n    def _validate_positive_amount(self, amount):\n        if amount &lt;= 0:\n            raise ValueError(\"Amount must be positive\")\n</code></pre>"},{"location":"03_red_green_refactor/#2_4","title":"\u0420\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433 2: \u0423\u043b\u0443\u0447\u0448\u0430\u0435\u043c \u0442\u0438\u043f\u0438\u0437\u0430\u0446\u0438\u044e","text":"<pre><code>from decimal import Decimal\nfrom typing import Union\n\nNumber = Union[int, float, Decimal]\n\nclass Account:\n    def __init__(self, initial_balance: Number = 0):\n        self._balance = Decimal(str(initial_balance))\n\n    @property\n    def balance(self) -&gt; Decimal:\n        return self._balance\n\n    def deposit(self, amount: Number) -&gt; None:\n        \"\"\"Deposit money to account.\"\"\"\n        amount_decimal = self._validate_amount(amount)\n        self._balance += amount_decimal\n\n    def withdraw(self, amount: Number) -&gt; None:\n        \"\"\"Withdraw money from account.\"\"\"\n        amount_decimal = self._validate_amount(amount)\n        if amount_decimal &gt; self._balance:\n            raise ValueError(\"Insufficient funds\")\n        self._balance -= amount_decimal\n\n    def _validate_amount(self, amount: Number) -&gt; Decimal:\n        \"\"\"\u0412\u0430\u043b\u0438\u0434\u0438\u0440\u0443\u0435\u0442 \u0441\u0443\u043c\u043c\u0443 \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 Decimal.\"\"\"\n        amount_decimal = Decimal(str(amount))\n        if amount_decimal &lt;= 0:\n            raise ValueError(\"Amount must be positive\")\n        return amount_decimal\n</code></pre>"},{"location":"03_red_green_refactor/#_6","title":"\ud83c\udfaf \u041f\u043e\u043b\u043d\u044b\u0439 \u0446\u0438\u043a\u043b: \u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043f\u0440\u0438\u043c\u0435\u0440","text":"<p>\u0421\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0430\u043c\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e TDD:</p>"},{"location":"03_red_green_refactor/#1_5","title":"\u0426\u0438\u043a\u043b 1: \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438","text":""},{"location":"03_red_green_refactor/#red_5","title":"\ud83d\udd34 RED","text":"<pre><code># test_todo.py  \ndef test_create_task_with_title():\n    \"\"\"\u041c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 \u0441 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u043e\u043c.\"\"\"\n    task = Task(\"Buy milk\")  # \u041a\u043b\u0430\u0441\u0441\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442!\n    assert task.title == \"Buy milk\"\n</code></pre>"},{"location":"03_red_green_refactor/#green_7","title":"\ud83d\udfe2 GREEN","text":"<pre><code># todo.py\nclass Task:\n    def __init__(self, title):\n        self.title = title\n</code></pre>"},{"location":"03_red_green_refactor/#refactor_4","title":"\ud83d\udd35 REFACTOR","text":"<pre><code># \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0442\u0438\u043f\u0438\u0437\u0430\u0446\u0438\u044e\nclass Task:\n    def __init__(self, title: str) -&gt; None:\n        self.title = title\n</code></pre>"},{"location":"03_red_green_refactor/#2_5","title":"\u0426\u0438\u043a\u043b 2: \u0421\u0442\u0430\u0442\u0443\u0441 \u0437\u0430\u0434\u0430\u0447\u0438","text":""},{"location":"03_red_green_refactor/#red_6","title":"\ud83d\udd34 RED","text":"<pre><code>def test_new_task_is_not_completed():\n    \"\"\"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430 \u043d\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430.\"\"\"\n    task = Task(\"Buy milk\")\n    assert task.is_completed == False\n</code></pre>"},{"location":"03_red_green_refactor/#green_8","title":"\ud83d\udfe2 GREEN","text":"<pre><code>class Task:\n    def __init__(self, title: str) -&gt; None:\n        self.title = title\n        self.is_completed = False  # \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f\n</code></pre>"},{"location":"03_red_green_refactor/#3_3","title":"\u0426\u0438\u043a\u043b 3: \u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438","text":""},{"location":"03_red_green_refactor/#red_7","title":"\ud83d\udd34 RED","text":"<pre><code>def test_mark_task_as_completed():\n    \"\"\"\u041c\u043e\u0436\u043d\u043e \u043f\u043e\u043c\u0435\u0442\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 \u043a\u0430\u043a \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u0443\u044e.\"\"\"\n    task = Task(\"Buy milk\")\n    task.complete()  # \u041c\u0435\u0442\u043e\u0434\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442!\n    assert task.is_completed == True\n</code></pre>"},{"location":"03_red_green_refactor/#green_9","title":"\ud83d\udfe2 GREEN","text":"<pre><code>class Task:\n    def __init__(self, title: str) -&gt; None:\n        self.title = title\n        self.is_completed = False\n\n    def complete(self) -&gt; None:\n        self.is_completed = True  # \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f\n</code></pre>"},{"location":"03_red_green_refactor/#refactor_5","title":"\ud83d\udd35 REFACTOR","text":"<pre><code>class Task:\n    def __init__(self, title: str) -&gt; None:\n        self._title = title\n        self._completed = False\n\n    @property \n    def title(self) -&gt; str:\n        return self._title\n\n    @property\n    def is_completed(self) -&gt; bool:\n        return self._completed\n\n    def complete(self) -&gt; None:\n        \"\"\"Mark task as completed.\"\"\"\n        self._completed = True\n\n    def __repr__(self) -&gt; str:\n        status = \"\u2713\" if self._completed else \"\u25cb\"\n        return f\"{status} {self._title}\"\n</code></pre>"},{"location":"03_red_green_refactor/#_7","title":"\u26a0\ufe0f \u0422\u0438\u043f\u0438\u0447\u043d\u044b\u0435 \u043e\u0448\u0438\u0431\u043a\u0438 \u0432 \u0446\u0438\u043a\u043b\u0435","text":""},{"location":"03_red_green_refactor/#1-red","title":"1. \u041f\u0440\u043e\u043f\u0443\u0441\u043a RED \u0444\u0430\u0437\u044b","text":"<pre><code># \u274c \u0421\u0440\u0430\u0437\u0443 \u043f\u0438\u0448\u0435\u043c \u043a\u043e\u0434 \u0431\u0435\u0437 \u0442\u0435\u0441\u0442\u0430\ndef add(a, b):\n    return a + b\n\n# \u2705 \u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0442\u0435\u0441\u0442\ndef test_add():\n    assert add(2, 3) == 5  # \u041f\u0430\u0434\u0430\u0435\u0442 - \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u043d\u0435\u0442\n</code></pre>"},{"location":"03_red_green_refactor/#2-green","title":"2. \u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0431\u043e\u043b\u044c\u0448\u0438\u0435 \u0448\u0430\u0433\u0438 \u0432 GREEN","text":"<pre><code># \u274c \u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0441\u0440\u0430\u0437\u0443\nclass User:\n    def __init__(self, name, email, age, address):\n        self.name = name\n        self.email = email  \n        self.age = age\n        self.address = address\n        self.validate()  # \u041c\u043d\u043e\u0433\u043e \u043b\u043e\u0433\u0438\u043a\u0438 \u0441\u0440\u0430\u0437\u0443\n\n# \u2705 \u041f\u043e \u043e\u0434\u043d\u043e\u043c\u0443 \u043f\u043e\u043b\u044e \u0437\u0430 \u0440\u0430\u0437\nclass User:\n    def __init__(self, name):\n        self.name = name  # \u0422\u043e\u043b\u044c\u043a\u043e \u0442\u043e, \u0447\u0442\u043e \u043d\u0443\u0436\u043d\u043e \u0442\u0435\u0441\u0442\u0443\n</code></pre>"},{"location":"03_red_green_refactor/#3-refactor","title":"3. \u0418\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 REFACTOR","text":"<pre><code># \u274c \u041a\u043e\u0434 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442, \u043d\u043e \u0443\u0436\u0430\u0441\u0435\u043d\ndef process_order(customer_name, items, discount_type, payment_method):\n    total = 0\n    for item in items:\n        total += item[\"price\"] * item[\"quantity\"]\n    if discount_type == \"percentage\":\n        total = total * (1 - discount_type / 100)\n    elif discount_type == \"fixed\":\n        total = total - discount_type\n    # ... 50 \u0441\u0442\u0440\u043e\u043a \u043a\u043e\u0434\u0430\n\n# \u2705 \u0420\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d\nclass OrderProcessor:\n    def process(self, order: Order) -&gt; OrderResult:\n        subtotal = self._calculate_subtotal(order.items)\n        total = self._apply_discount(subtotal, order.discount)\n        return self._create_result(total, order.payment_method)\n</code></pre>"},{"location":"03_red_green_refactor/#tdd","title":"\ud83c\udfc6 \u041c\u0430\u0441\u0442\u0435\u0440\u0441\u0442\u0432\u043e TDD","text":""},{"location":"03_red_green_refactor/#tdd_1","title":"\u041f\u0440\u0438\u0437\u043d\u0430\u043a\u0438 \u043e\u043f\u044b\u0442\u043d\u043e\u0433\u043e TDD \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430:","text":"<ol> <li>\u0426\u0438\u043a\u043b\u044b \u0434\u043b\u044f\u0442\u0441\u044f 2-5 \u043c\u0438\u043d\u0443\u0442</li> <li>\u0422\u0435\u0441\u0442\u044b \u043f\u0430\u0434\u0430\u044e\u0442 \u043f\u043e \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u043c \u043f\u0440\u0438\u0447\u0438\u043d\u0430\u043c </li> <li>\u041a\u043e\u0434 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u0435\u043d \u0432 GREEN \u0444\u0430\u0437\u0435</li> <li>\u0420\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e</li> <li>\u041a\u043e\u043c\u043c\u0438\u0442\u044b \u0447\u0430\u0441\u0442\u044b\u0435 \u0438 \u043e\u0441\u043c\u044b\u0441\u043b\u0435\u043d\u043d\u044b\u0435</li> </ol>"},{"location":"03_red_green_refactor/#tdd_2","title":"\u0420\u0438\u0442\u043c TDD:","text":"<pre><code>\ud83d\udd34 RED: \"\u0427\u0442\u043e \u0434\u043e\u043b\u0436\u0435\u043d \u0434\u0435\u043b\u0430\u0442\u044c \u043a\u043e\u0434?\"\n\ud83d\udfe2 GREEN: \"\u041a\u0430\u043a \u0437\u0430\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0435\u0433\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c?\"  \n\ud83d\udd35 REFACTOR: \"\u041a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0435\u0433\u043e \u043b\u0443\u0447\u0448\u0435?\"\n</code></pre>"},{"location":"03_red_green_refactor/#_8","title":"\ud83c\udfaf \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0448\u0430\u0433\u0438","text":"<p>\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u0443\u0433\u043b\u0443\u0431\u0438\u043c\u0441\u044f \u0432 \u043e\u0441\u043d\u043e\u0432\u044b \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f Python \u0438 \u0438\u0437\u0443\u0447\u0438\u043c \u043f\u0430\u0442\u0442\u0435\u0440\u043d\u044b \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445 \u0442\u0435\u0441\u0442\u043e\u0432.</p>"},{"location":"03_red_green_refactor/#_9","title":"\ud83e\uddea \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u0432\u043e\u0438 \u0437\u043d\u0430\u043d\u0438\u044f","text":""},{"location":"03_red_green_refactor/#tdd_3","title":"\ud83c\udfaf \u0418\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0435: \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440\u0430 \u0441 TDD","text":"<p>\u041f\u0440\u0438\u0448\u043b\u043e \u0432\u0440\u0435\u043c\u044f \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0446\u0438\u043a\u043b Red-Green-Refactor \u043d\u0430 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0435! \u0421\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u043a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440, \u0441\u0442\u0440\u043e\u0433\u043e \u0441\u043b\u0435\u0434\u0443\u044f TDD \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u0430\u043c.</p>"},{"location":"03_red_green_refactor/#_10","title":"\ud83d\udccb \u0417\u0430\u0434\u0430\u043d\u0438\u0435","text":"<p>\u0420\u0435\u0430\u043b\u0438\u0437\u0443\u0439\u0442\u0435 \u043a\u043b\u0430\u0441\u0441 <code>Calculator</code> \u0441 \u043c\u0435\u0442\u043e\u0434\u0430\u043c\u0438 \u0434\u043b\u044f \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0445 \u0430\u0440\u0438\u0444\u043c\u0435\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0441\u0442\u0440\u043e\u0433\u0438\u0439 TDD \u043f\u043e\u0434\u0445\u043e\u0434.</p> <p>\u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f: - \u0421\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0434\u0432\u0443\u0445 \u0447\u0438\u0441\u0435\u043b - \u0412\u044b\u0447\u0438\u0442\u0430\u043d\u0438\u0435 \u0434\u0432\u0443\u0445 \u0447\u0438\u0441\u0435\u043b - \u0423\u043c\u043d\u043e\u0436\u0435\u043d\u0438\u0435 \u0434\u0432\u0443\u0445 \u0447\u0438\u0441\u0435\u043b - \u0414\u0435\u043b\u0435\u043d\u0438\u0435 \u0434\u0432\u0443\u0445 \u0447\u0438\u0441\u0435\u043b (\u0441 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u043e\u0439 \u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043d\u0430 \u043d\u043e\u043b\u044c)</p>"},{"location":"03_red_green_refactor/#1-red-","title":"\ud83d\udd34 \u042d\u0442\u0430\u043f 1: RED - \u041f\u0435\u0440\u0432\u044b\u0439 \u0442\u0435\u0441\u0442\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0435\u0440\u0432\u043e\u0433\u043e RED \u0442\u0435\u0441\u0442\u0430","text":"<p>\u041d\u0430\u0447\u043d\u0435\u043c \u0441 \u0441\u0430\u043c\u043e\u0433\u043e \u043f\u0440\u043e\u0441\u0442\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430 \u0434\u043b\u044f \u0441\u043b\u043e\u0436\u0435\u043d\u0438\u044f:</p> <p>\ud83d\udd34 RED \u0444\u0430\u0437\u0430: \u041f\u0438\u0448\u0435\u043c \u043f\u0430\u0434\u0430\u044e\u0449\u0438\u0439 \u0442\u0435\u0441\u0442</p>              \u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0442\u0435\u0441\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u043f\u0430\u0434\u0430\u0442\u044c, \u043f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e \u043a\u043b\u0430\u0441\u0441 Calculator \u0435\u0449\u0435 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442.          \u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435 \u0441\u043b\u0443\u0447\u0430\u0438: <ul> <li>\u0422\u0435\u0441\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440 Calculator</li><li>\u0422\u0435\u0441\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u0432\u044b\u0437\u044b\u0432\u0430\u0442\u044c \u043c\u0435\u0442\u043e\u0434 add \u0441 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438 2 \u0438 3</li><li>\u0422\u0435\u0441\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0442\u044c, \u0447\u0442\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0440\u0430\u0432\u0435\u043d 5</li> </ul> \u0412\u0430\u0448 \u043a\u043e\u0434: import pytest  def test_calculator_can_add_two_numbers():     '''\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440 \u043c\u043e\u0436\u0435\u0442 \u0441\u043b\u043e\u0436\u0438\u0442\u044c \u0434\u0432\u0430 \u0447\u0438\u0441\u043b\u0430'''     calc = Calculator()  # \u041a\u043b\u0430\u0441\u0441\u0430 \u0435\u0449\u0435 \u043d\u0435\u0442!     result = calc.add(2, 3)     assert result == 5                  \ud83d\ude80 \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c                               \ud83d\udd04 \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c              \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438: <p>\u274c \u041e\u0436\u0438\u0434\u0430\u0435\u043c\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430: <code>NameError: name 'Calculator' is not defined</code></p> <p>\u042d\u0442\u043e\u0442 \u0442\u0435\u0441\u0442 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442, \u0447\u0442\u043e \u043c\u044b \u0445\u043e\u0442\u0438\u043c \u043e\u0442 \u043d\u0430\u0448\u0435\u0433\u043e \u043a\u043e\u0434\u0430!</p>"},{"location":"03_red_green_refactor/#2-green-","title":"\ud83d\udfe2 \u042d\u0442\u0430\u043f 2: GREEN - \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0439 GREEN \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438","text":"<p>\u0422\u0435\u043f\u0435\u0440\u044c \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u0434 \u0434\u043b\u044f \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u0442\u0435\u0441\u0442\u0430:</p> <p>\ud83d\udfe2 GREEN \u0444\u0430\u0437\u0430: \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u0434 \u0434\u043b\u044f \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f</p>              \u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u0434, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0437\u0430\u0441\u0442\u0430\u0432\u0438\u0442 \u0442\u0435\u0441\u0442 \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442\u044c. \u041f\u043e\u043a\u0430 \u043d\u0435 \u0432\u0430\u0436\u043d\u043e, \u043d\u0430\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043e\u043d \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 - \u0433\u043b\u0430\u0432\u043d\u043e\u0435, \u0447\u0442\u043e\u0431\u044b \u0442\u0435\u0441\u0442 \u043f\u0440\u043e\u0448\u0435\u043b!          \u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435 \u0441\u043b\u0443\u0447\u0430\u0438: <ul> <li>\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043b\u0430\u0441\u0441 Calculator</li><li>\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0442\u043e\u0434 add</li><li>\u041c\u0435\u0442\u043e\u0434 \u0434\u043e\u043b\u0436\u0435\u043d \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0442\u044c 5 (\u043f\u043e\u043a\u0430 \u0445\u0430\u0440\u0434\u043a\u043e\u0434)</li><li>\u0422\u0435\u0441\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442\u044c</li> </ul> \u0412\u0430\u0448 \u043a\u043e\u0434: class Calculator:     def add(self, a, b):         return 5  # \u0425\u0430\u0440\u0434\u043a\u043e\u0434! \u041d\u043e \u0442\u0435\u0441\u0442 \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442!                  \ud83d\ude80 \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c                               \ud83d\udd04 \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c              \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438: <p>\u2705 \u0422\u0435\u0441\u0442 \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442!</p> <p>\u0414\u0430, \u043a\u043e\u0434 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u0443, \u043d\u043e \u044d\u0442\u043e \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e \u0432 GREEN \u0444\u0430\u0437\u0435!</p>"},{"location":"03_red_green_refactor/#3-refactor-triangulation","title":"\ud83d\udd35 \u042d\u0442\u0430\u043f 3: REFACTOR - \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432\u0442\u043e\u0440\u043e\u0439 \u0442\u0435\u0441\u0442 (Triangulation)\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432\u0442\u043e\u0440\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430 \u0434\u043b\u044f triangulation\u0420\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438","text":"<p>\u0414\u043b\u044f \u0443\u0441\u0442\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0445\u0430\u0440\u0434\u043a\u043e\u0434\u0430 \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u0432\u0442\u043e\u0440\u043e\u0439 \u0442\u0435\u0441\u0442:</p> <p>\ud83d\udd3a Triangulation: \u0412\u0442\u043e\u0440\u043e\u0439 \u0442\u0435\u0441\u0442 \u043b\u043e\u043c\u0430\u0435\u0442 \u0445\u0430\u0440\u0434\u043a\u043e\u0434</p>              \u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0432\u0442\u043e\u0440\u043e\u0439 \u0442\u0435\u0441\u0442 \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u0447\u0438\u0441\u043b\u0430\u043c\u0438, \u0447\u0442\u043e\u0431\u044b \u0441\u043b\u043e\u043c\u0430\u0442\u044c \u0445\u0430\u0440\u0434\u043a\u043e\u0434 \u0438 \u0437\u0430\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0443\u044e \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e.          \u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435 \u0441\u043b\u0443\u0447\u0430\u0438: <ul> <li>\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0432\u0442\u043e\u0440\u043e\u0439 \u0442\u0435\u0441\u0442 \u0441 \u0447\u0438\u0441\u043b\u0430\u043c\u0438 5 \u0438 7</li><li>\u041e\u0436\u0438\u0434\u0430\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 12</li><li>\u042d\u0442\u043e\u0442 \u0442\u0435\u0441\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043b\u043e\u043c\u0430\u0442\u044c \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u0445\u0430\u0440\u0434\u043a\u043e\u0434</li> </ul> \u0412\u0430\u0448 \u043a\u043e\u0434: def test_calculator_add_different_numbers():     '''\u0412\u0442\u043e\u0440\u043e\u0439 \u0442\u0435\u0441\u0442 \u0434\u043b\u044f \u0440\u0430\u0437\u043d\u044b\u0445 \u0447\u0438\u0441\u0435\u043b'''     calc = Calculator()     result = calc.add(5, 7)     assert result == 12  # \u0422\u0435\u043f\u0435\u0440\u044c \u0445\u0430\u0440\u0434\u043a\u043e\u0434 5 \u043d\u0435 \u043f\u043e\u0434\u043e\u0439\u0434\u0435\u0442!                  \ud83d\ude80 \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c                               \ud83d\udd04 \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c              \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438: <p>\ud83d\udd04 REFACTOR: \u041e\u0431\u043e\u0431\u0449\u0430\u0435\u043c \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e</p>              \u0422\u0435\u043f\u0435\u0440\u044c \u043d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0443\u044e \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0441\u043e \u0432\u0441\u0435\u043c\u0438 \u0442\u0435\u0441\u0442\u0430\u043c\u0438, \u0430 \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0441 \u0445\u0430\u0440\u0434\u043a\u043e\u0434\u043e\u043c.          \u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435 \u0441\u043b\u0443\u0447\u0430\u0438: <ul> <li>\u0417\u0430\u043c\u0435\u043d\u0438\u0442\u044c \u0445\u0430\u0440\u0434\u043a\u043e\u0434 \u043d\u0430 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0443\u044e \u043b\u043e\u0433\u0438\u043a\u0443</li><li>\u041e\u0431\u0430 \u0442\u0435\u0441\u0442\u0430 \u0434\u043e\u043b\u0436\u043d\u044b \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442\u044c</li><li>\u041a\u043e\u0434 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043e\u0431\u043e\u0431\u0449\u0435\u043d\u043d\u044b\u043c</li> </ul> \u0412\u0430\u0448 \u043a\u043e\u0434: class Calculator:     def add(self, a, b):         return a + b  # \u0422\u0435\u043f\u0435\u0440\u044c \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u043b\u043e\u0433\u0438\u043a\u0430!                  \ud83d\ude80 \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c                               \ud83d\udd04 \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c              \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438: <p>\u2705 \u041e\u0431\u0430 \u0442\u0435\u0441\u0442\u0430 \u043f\u0440\u043e\u0445\u043e\u0434\u044f\u0442!</p>"},{"location":"03_red_green_refactor/#_11","title":"\ud83c\udfae \u0418\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u0430\u044f \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430","text":"<p>\u0422\u0435\u043f\u0435\u0440\u044c \u0432\u0430\u0448\u0430 \u043e\u0447\u0435\u0440\u0435\u0434\u044c! \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0446\u0438\u043a\u043b RED-GREEN-REFACTOR \u0434\u043b\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439:</p> <pre><code># \u0418\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u0430\u044f \u0437\u043e\u043d\u0430 \u0434\u043b\u044f \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438\n\n# \u041a\u043b\u0430\u0441\u0441 \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f\nclass Calculator:\n    def add(self, a, b):\n        return a + b\n\n    def subtract(self, a, b):\n        return a - b  # \u0420\u0435\u0430\u043b\u0438\u0437\u0443\u0439\u0442\u0435 \u0447\u0435\u0440\u0435\u0437 TDD!\n\n    def multiply(self, a, b):\n        return a * b  # \u0420\u0435\u0430\u043b\u0438\u0437\u0443\u0439\u0442\u0435 \u0447\u0435\u0440\u0435\u0437 TDD!\n\n    def divide(self, a, b):\n        if b == 0:\n            raise ValueError(\"Division by zero!\")\n        return a / b  # \u0420\u0435\u0430\u043b\u0438\u0437\u0443\u0439\u0442\u0435 \u0447\u0435\u0440\u0435\u0437 TDD!\n\n# \u0422\u0435\u0441\u0442\u043e\u0432\u0430\u044f \u0437\u043e\u043d\u0430\ncalc = Calculator()\n\n# \u0418\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f\noperation = mo.ui.dropdown(\n    options=[\"add\", \"subtract\", \"multiply\", \"divide\"],\n    value=\"add\",\n    label=\"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044e:\"\n)\n\nnum1 = mo.ui.number(value=10, label=\"\u041f\u0435\u0440\u0432\u043e\u0435 \u0447\u0438\u0441\u043b\u043e:\")\nnum2 = mo.ui.number(value=5, label=\"\u0412\u0442\u043e\u0440\u043e\u0435 \u0447\u0438\u0441\u043b\u043e:\")\n\nmo.vstack([operation, num1, num2])\n</code></pre> <pre><code># \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0438 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\nglobal calc, operation, num1, num2\ntry:\n    if operation.value == \"add\":\n        result = calc.add(num1.value, num2.value)\n    elif operation.value == \"subtract\":\n        result = calc.subtract(num1.value, num2.value)\n    elif operation.value == \"multiply\":\n        result = calc.multiply(num1.value, num2.value)\n    elif operation.value == \"divide\":\n        result = calc.divide(num1.value, num2.value)\n\n    mo.md(f\"\"\"\n    ### \ud83e\uddee \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\n\n    **\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f**: {operation.value}  \n    **\u0427\u0438\u0441\u043b\u0430**: {num1.value} \u0438 {num2.value}  \n    **\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442**: {result}\n\n    \u2705 \u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e!\n    \"\"\")\n\nexcept Exception as e:\n    mo.md(f\"\"\"\n    ### \u26a0\ufe0f \u041e\u0448\u0438\u0431\u043a\u0430\n\n    **\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f**: {operation.value}  \n    **\u0427\u0438\u0441\u043b\u0430**: {num1.value} \u0438 {num2.value}  \n    **\u041e\u0448\u0438\u0431\u043a\u0430**: {str(e)}\n\n    \u274c \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0432\u0445\u043e\u0434\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435!\n    \"\"\")\n</code></pre>"},{"location":"03_red_green_refactor/#_12","title":"\ud83c\udfaf \u0423\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b","text":"<p>\u0417\u0430\u0434\u0430\u0447\u0430: \u0420\u0435\u0430\u043b\u0438\u0437\u0443\u0439\u0442\u0435 \u043c\u0435\u0442\u043e\u0434 <code>power(base, exponent)</code> \u0434\u043b\u044f \u0432\u043e\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0432 \u0441\u0442\u0435\u043f\u0435\u043d\u044c, \u0441\u0442\u0440\u043e\u0433\u043e \u0441\u043b\u0435\u0434\u0443\u044f TDD:</p> <ol> <li>\ud83d\udd34 RED: \u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0442\u0435\u0441\u0442 \u0434\u043b\u044f <code>calc.power(2, 3) == 8</code></li> <li>\ud83d\udfe2 GREEN: \u0420\u0435\u0430\u043b\u0438\u0437\u0443\u0439\u0442\u0435 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u0434 (\u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u0447\u0430\u0442\u044c \u0441 \u0445\u0430\u0440\u0434\u043a\u043e\u0434\u0430)</li> <li>\ud83d\udd3a Triangulation: \u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0432\u0442\u043e\u0440\u043e\u0439 \u0442\u0435\u0441\u0442 \u0434\u043b\u044f \u0434\u0440\u0443\u0433\u0438\u0445 \u0447\u0438\u0441\u0435\u043b</li> <li>\ud83d\udd35 REFACTOR: \u041e\u0431\u043e\u0431\u0449\u0438\u0442\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e</li> </ol> <pre><code># \u041c\u0435\u0441\u0442\u043e \u0434\u043b\u044f \u0432\u0430\u0448\u0435\u0433\u043e \u0440\u0435\u0448\u0435\u043d\u0438\u044f\nyour_test = mo.ui.text_area(\n    placeholder=\"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0437\u0434\u0435\u0441\u044c \u0432\u0430\u0448 \u0442\u0435\u0441\u0442 \u0434\u043b\u044f power()...\",\n    label=\"\u0412\u0430\u0448 \u0442\u0435\u0441\u0442:\",\n    rows=5\n)\n\nyour_implementation = mo.ui.text_area(\n    placeholder=\"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0437\u0434\u0435\u0441\u044c \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e power()...\",\n    label=\"\u0412\u0430\u0448\u0430 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f:\",\n    rows=5\n)\n\nmo.vstack([your_test, your_implementation])\n</code></pre> <pre><code># \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0440\u0435\u0448\u0435\u043d\u0438\u044f\nglobal your_test, your_implementation\nif your_test.value and your_implementation.value:\n    mo.md(f\"\"\"\n    ### \ud83d\udcdd \u0412\u0430\u0448\u0435 \u0440\u0435\u0448\u0435\u043d\u0438\u0435\n\n    **\u0422\u0435\u0441\u0442:**\n\n    {your_test.value}\n\n    **\u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f:**\n\n    {your_implementation.value}\n\n    \ud83d\udca1 **\u0421\u043e\u0432\u0435\u0442**: \u0423\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u0442\u0435\u0441\u0442 \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u043f\u0430\u0434\u0430\u0435\u0442, \u0437\u0430\u0442\u0435\u043c \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442!\n    \"\"\")\nelse:\n    mo.md(\"\u270f\ufe0f \u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0432\u0430\u0448 \u0442\u0435\u0441\u0442 \u0438 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e \u0432\u044b\u0448\u0435...\")\n</code></pre>"},{"location":"03_red_green_refactor/#_13","title":"\ud83c\udf89 \u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0432\u044b\u0432\u043e\u0434\u044b","text":"<p>\u041f\u043e\u0441\u043b\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f \u0432\u044b \u043f\u043e\u0439\u043c\u0435\u0442\u0435:</p> <p>\u2705 \u0426\u0438\u043a\u043b TDD \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043d\u0430 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0435 \u2705 RED \u0444\u0430\u0437\u0430 \u0447\u0435\u0442\u043a\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u2705 GREEN \u0444\u0430\u0437\u0430 \u0444\u043e\u043a\u0443\u0441\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u0438 \u0442\u0435\u0441\u0442\u0430 \u2705 REFACTOR \u0444\u0430\u0437\u0430 \u0443\u043b\u0443\u0447\u0448\u0430\u0435\u0442 \u043a\u043e\u0434 \u0431\u0435\u0437 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u2705 Triangulation \u043f\u043e\u043c\u043e\u0433\u0430\u0435\u0442 \u0438\u0437\u0431\u0430\u0432\u0438\u0442\u044c\u0441\u044f \u043e\u0442 \u0445\u0430\u0440\u0434\u043a\u043e\u0434\u0430</p>"},{"location":"03_red_green_refactor/#_14","title":"\ud83d\ude80 \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430","text":""},{"location":"03_red_green_refactor/#_15","title":"\ud83d\udcdd \u0412\u0430\u043b\u0438\u0434\u0430\u0442\u043e\u0440 \u0441\u0442\u0440\u043e\u043a","text":"<p>\u0413\u043e\u0442\u043e\u0432\u044b \u043a \u0431\u043e\u043b\u0435\u0435 \u0441\u043b\u043e\u0436\u043d\u043e\u043c\u0443 \u0437\u0430\u0434\u0430\u043d\u0438\u044e? \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0432\u0430\u043b\u0438\u0434\u0430\u0442\u043e\u0440 \u0434\u043b\u044f email, \u043f\u0430\u0440\u043e\u043b\u0435\u0439 \u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043e\u0432:</p> <p>\ud83c\udfaf \u0418\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0435: \u0412\u0430\u043b\u0438\u0434\u0430\u0442\u043e\u0440 \u0441\u0442\u0440\u043e\u043a \u0441 TDD</p> <p>\u0412 \u044d\u0442\u043e\u043c \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0438 \u0432\u044b: - \u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u0435 TDD \u043a \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 \u0440\u0435\u0433\u0443\u043b\u044f\u0440\u043d\u044b\u043c\u0438 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f\u043c\u0438 - \u041e\u0441\u0432\u043e\u0438\u0442\u0435 \u043d\u0435\u0433\u0430\u0442\u0438\u0432\u043d\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 - \u041f\u043e\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442\u0435 \u0441 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0435\u0439 \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 - \u0418\u0437\u0443\u0447\u0438\u0442\u0435 triangulation \u043d\u0430 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0435</p>"},{"location":"03_red_green_refactor/#_16","title":"\ud83d\udd17 \u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0442\u0435\u043c\u044b","text":"<ul> <li>\u041e\u0441\u043d\u043e\u0432\u044b TDD - \u0444\u0438\u043b\u043e\u0441\u043e\u0444\u0438\u044f \u0438 \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u044b TDD</li> <li>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f - \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0434\u043b\u044f TDD</li> <li>\u041e\u0441\u043d\u043e\u0432\u044b \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432 Python - \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0442\u0435\u0441\u0442\u043e\u0432 \u0438 assertions</li> <li>Pytest \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a - \u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0439 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0434\u043b\u044f TDD</li> <li>\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b - \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0446\u0438\u043a\u043b\u0430 \u043d\u0430 \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u0445</li> <li>\u041b\u0443\u0447\u0448\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438 - \u0442\u0438\u043f\u0438\u0447\u043d\u044b\u0435 \u043e\u0448\u0438\u0431\u043a\u0438 \u0438 \u043a\u0430\u043a \u0438\u0445 \u0438\u0437\u0431\u0435\u0436\u0430\u0442\u044c</li> </ul> <p>\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430: \u041e\u0441\u043d\u043e\u0432\u044b \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432 Python</p> <p>\ud83d\udd04 \u0426\u0438\u043a\u043b \u043e\u0441\u0432\u043e\u0435\u043d \u2014 \u043f\u043e\u0440\u0430 \u043a \u0431\u043e\u043b\u0435\u0435 \u0441\u043b\u043e\u0436\u043d\u044b\u043c \u043f\u0440\u0438\u043c\u0435\u0440\u0430\u043c!</p>"},{"location":"04_python_testing_basics/","title":"\u041e\u0441\u043d\u043e\u0432\u044b \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432 Python","text":""},{"location":"04_python_testing_basics/#_1","title":"\ud83c\udfaf \u0426\u0435\u043b\u0438 \u0433\u043b\u0430\u0432\u044b","text":"<p>\u0412 \u044d\u0442\u043e\u0439 \u0433\u043b\u0430\u0432\u0435 \u0432\u044b \u0438\u0437\u0443\u0447\u0438\u0442\u0435: - \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0442\u0438\u043f\u044b \u0442\u0435\u0441\u0442\u043e\u0432 \u0432 Python (unit, integration, e2e) - \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443 \u0445\u043e\u0440\u043e\u0448\u0435\u0433\u043e \u0442\u0435\u0441\u0442\u0430 (AAA \u043f\u0430\u0442\u0442\u0435\u0440\u043d) - \u0420\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u0442\u0438\u043f\u044b assertions - \u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0443 \u043a \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 unittest \u0438 pytest</p> <p>Python \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u043c\u043e\u0449\u043d\u044b\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \"\u0438\u0437 \u043a\u043e\u0440\u043e\u0431\u043a\u0438\". \u0412 \u044d\u0442\u043e\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u0438\u0437\u0443\u0447\u0438\u043c \u043e\u0441\u043d\u043e\u0432\u044b \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0442\u0435\u0441\u0442\u043e\u0432 \u0432 Python, \u043f\u043e\u0437\u043d\u0430\u043a\u043e\u043c\u0438\u043c\u0441\u044f \u0441\u043e \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u043c \u043c\u043e\u0434\u0443\u043b\u0435\u043c <code>unittest</code> \u0438 \u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u0438\u043c\u0441\u044f \u043a \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 \u0431\u043e\u043b\u0435\u0435 \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u043c <code>pytest</code>.</p>"},{"location":"04_python_testing_basics/#python_1","title":"\ud83e\uddea \u0422\u0438\u043f\u044b \u0442\u0435\u0441\u0442\u043e\u0432 \u0432 Python","text":""},{"location":"04_python_testing_basics/#1-unit-tests","title":"1. Unit Tests (\u041c\u043e\u0434\u0443\u043b\u044c\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b)","text":"<p>\u0422\u0435\u0441\u0442\u0438\u0440\u0443\u044e\u0442 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438/\u043c\u0435\u0442\u043e\u0434\u044b \u0438\u0437\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e</p> <pre><code>def test_calculate_tax():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u043d\u0430\u043b\u043e\u0433\u0430.\"\"\"\n    result = calculate_tax(1000)\n    assert result == 130  # 13% \u043d\u0430\u043b\u043e\u0433\n</code></pre>"},{"location":"04_python_testing_basics/#2-integration-tests","title":"2. Integration Tests (\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b)","text":"<p>\u0422\u0435\u0441\u0442\u0438\u0440\u0443\u044e\u0442 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432</p> <pre><code>def test_user_registration_sends_email():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0438 email \u0441\u0435\u0440\u0432\u0438\u0441\u0430.\"\"\"\n    user_service = UserService()\n    email_service = EmailService()\n\n    user = user_service.register(\"user@example.com\")\n\n    assert email_service.was_sent(user.email)\n</code></pre>"},{"location":"04_python_testing_basics/#3-end-to-end-tests-e2e","title":"3. End-to-End Tests (E2E \u0442\u0435\u0441\u0442\u044b)","text":"<p>\u0422\u0435\u0441\u0442\u0438\u0440\u0443\u044e\u0442 \u043f\u043e\u043b\u043d\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439</p> <pre><code>def test_complete_purchase_flow():\n    \"\"\"\u0422\u0435\u0441\u0442 \u043f\u043e\u043b\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0438.\"\"\"\n    # \u0418\u043c\u0438\u0442\u0438\u0440\u0443\u0435\u043c \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043e\u0442 \u043d\u0430\u0447\u0430\u043b\u0430 \u0434\u043e \u043a\u043e\u043d\u0446\u0430\n    response = client.post(\"/login\", data={\"email\": \"user@test.com\"})\n    response = client.post(\"/add-to-cart\", data={\"product_id\": 1})\n    response = client.post(\"/checkout\")\n\n    assert \"Payment successful\" in response.data\n</code></pre>"},{"location":"04_python_testing_basics/#_2","title":"\ud83d\udccb \u0410\u043d\u0430\u0442\u043e\u043c\u0438\u044f \u0445\u043e\u0440\u043e\u0448\u0435\u0433\u043e \u0442\u0435\u0441\u0442\u0430","text":""},{"location":"04_python_testing_basics/#aaa-arrange-act-assert","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 AAA (Arrange-Act-Assert)","text":"<pre><code>def test_bank_account_withdraw():\n    # Arrange (\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430)\n    account = Account(initial_balance=100)\n    withdraw_amount = 30\n\n    # Act (\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435)\n    account.withdraw(withdraw_amount)\n\n    # Assert (\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430)\n    assert account.balance == 70\n</code></pre>"},{"location":"04_python_testing_basics/#_3","title":"\u041f\u0440\u0438\u043d\u0446\u0438\u043f\u044b \u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u044f \u0442\u0435\u0441\u0442\u043e\u0432","text":""},{"location":"04_python_testing_basics/#_4","title":"\u2705 \u0425\u043e\u0440\u043e\u0448\u0438\u0435 \u0438\u043c\u0435\u043d\u0430:","text":"<pre><code>def test_deposit_positive_amount_increases_balance():\n    \"\"\"\u041f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0441\u0443\u043c\u043c\u043e\u0439 \u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0432\u0430\u0435\u0442 \u0431\u0430\u043b\u0430\u043d\u0441.\"\"\"\n    pass\n\ndef test_withdraw_more_than_balance_raises_exception():\n    \"\"\"\u0421\u043d\u044f\u0442\u0438\u0435 \u0441\u0443\u043c\u043c\u044b \u0431\u043e\u043b\u044c\u0448\u0435 \u0431\u0430\u043b\u0430\u043d\u0441\u0430 \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435.\"\"\"\n    pass\n\ndef test_new_user_has_empty_shopping_cart():\n    \"\"\"\u0423 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u0443\u0441\u0442\u0430\u044f \u043a\u043e\u0440\u0437\u0438\u043d\u0430.\"\"\"\n    pass\n</code></pre>"},{"location":"04_python_testing_basics/#_5","title":"\u274c \u041f\u043b\u043e\u0445\u0438\u0435 \u0438\u043c\u0435\u043d\u0430:","text":"<pre><code>def test_user():  # \u0427\u0442\u043e \u0438\u043c\u0435\u043d\u043d\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c?\n    pass\n\ndef test_1():  # \u041d\u0435\u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0432\u043d\u043e\n    pass\n\ndef test_method():  # \u041a\u0430\u043a\u043e\u0439 \u043c\u0435\u0442\u043e\u0434?\n    pass\n</code></pre>"},{"location":"04_python_testing_basics/#test_unit_scenario_expected_behavior","title":"\u0428\u0430\u0431\u043b\u043e\u043d \u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u044f: <code>test_[unit]_[scenario]_[expected_behavior]</code>","text":"<pre><code>def test_calculator_divide_by_zero_raises_exception():\n    \"\"\"calculator.divide() \u043f\u0440\u0438 \u0434\u0435\u043b\u0435\u043d\u0438\u0438 \u043d\u0430 \u043d\u043e\u043b\u044c \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435.\"\"\"\n\ndef test_user_login_with_valid_credentials_returns_token():\n    \"\"\"user.login() \u0441 \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0442\u043e\u043a\u0435\u043d.\"\"\"\n\ndef test_shopping_cart_add_item_increases_total_count():\n    \"\"\"shopping_cart.add_item() \u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0432\u0430\u0435\u0442 \u043e\u0431\u0449\u0435\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e.\"\"\"\n</code></pre>"},{"location":"04_python_testing_basics/#assertions-python","title":"\ud83d\udd27 Assertions \u0432 Python","text":""},{"location":"04_python_testing_basics/#assert","title":"\u0411\u0430\u0437\u043e\u0432\u044b\u0435 assert \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f","text":"<pre><code>def test_basic_assertions():\n    # \u0420\u0430\u0432\u0435\u043d\u0441\u0442\u0432\u043e\n    assert 2 + 2 == 4\n    assert \"hello\" == \"hello\"\n\n    # \u041d\u0435\u0440\u0430\u0432\u0435\u043d\u0441\u0442\u0432\u043e  \n    assert 3 != 4\n    assert \"cat\" != \"dog\"\n\n    # \u041b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\n    assert True\n    assert not False\n\n    # \u041f\u0440\u0438\u043d\u0430\u0434\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u044c\n    assert \"a\" in \"abc\"\n    assert 1 in [1, 2, 3]\n    assert \"key\" in {\"key\": \"value\"}\n\n    # \u0421\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f\n    assert 5 &gt; 3\n    assert 2 &lt; 10\n    assert 5 &gt;= 5\n    assert 3 &lt;= 3\n\n    # \u0422\u0438\u043f\u044b\n    assert isinstance(\"hello\", str)\n    assert isinstance(42, int)\n</code></pre>"},{"location":"04_python_testing_basics/#_6","title":"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439","text":"<pre><code>import pytest\n\ndef test_division_by_zero():\n    \"\"\"\u0414\u0435\u043b\u0435\u043d\u0438\u0435 \u043d\u0430 \u043d\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u043d\u043e \u0432\u044b\u0437\u044b\u0432\u0430\u0442\u044c ZeroDivisionError.\"\"\"\n    with pytest.raises(ZeroDivisionError):\n        10 / 0\n\ndef test_invalid_email_raises_value_error():\n    \"\"\"\u041d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 email \u0434\u043e\u043b\u0436\u0435\u043d \u0432\u044b\u0437\u044b\u0432\u0430\u0442\u044c ValueError.\"\"\"\n    with pytest.raises(ValueError, match=\"Invalid email\"):\n        User(email=\"invalid-email\")\n\ndef test_exception_message():\n    \"\"\"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f.\"\"\"\n    with pytest.raises(ValueError) as exc_info:\n        validate_age(-5)\n\n    assert \"Age cannot be negative\" in str(exc_info.value)\n</code></pre>"},{"location":"04_python_testing_basics/#_7","title":"\u041f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f","text":"<pre><code>import pytest\n\ndef test_floating_point_calculations():\n    \"\"\"\u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u0447\u0438\u0441\u043b\u0430\u043c\u0438 \u0441 \u043f\u043b\u0430\u0432\u0430\u044e\u0449\u0435\u0439 \u0442\u043e\u0447\u043a\u043e\u0439.\"\"\"\n    result = 0.1 + 0.2\n\n    # \u274c \u041c\u043e\u0436\u0435\u0442 \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0438\u0437-\u0437\u0430 \u0442\u043e\u0447\u043d\u043e\u0441\u0442\u0438\n    # assert result == 0.3\n\n    # \u2705 \u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0441\u043f\u043e\u0441\u043e\u0431\n    assert result == pytest.approx(0.3)\n\n    # \u0421 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435\u043c \u0442\u043e\u0447\u043d\u043e\u0441\u0442\u0438\n    assert result == pytest.approx(0.3, abs=1e-6)\n</code></pre>"},{"location":"04_python_testing_basics/#_8","title":"\ud83c\udfd7 \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0438 \u043e\u0447\u0438\u0441\u0442\u043a\u0430 \u0442\u0435\u0441\u0442\u043e\u0432","text":""},{"location":"04_python_testing_basics/#setup-teardown","title":"Setup \u0438 Teardown \u043f\u0430\u0442\u0442\u0435\u0440\u043d\u044b","text":"<pre><code>import pytest\nimport tempfile\nimport os\n\nclass TestFileProcessor:\n\n    def setup_method(self):\n        \"\"\"\u0412\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043f\u0435\u0440\u0435\u0434 \u043a\u0430\u0436\u0434\u044b\u043c \u0442\u0435\u0441\u0442\u043e\u043c.\"\"\"\n        self.temp_dir = tempfile.mkdtemp()\n        self.processor = FileProcessor(self.temp_dir)\n\n    def teardown_method(self):\n        \"\"\"\u0412\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u0441\u043b\u0435 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430.\"\"\"\n        shutil.rmtree(self.temp_dir)\n\n    def test_process_file_creates_output(self):\n        # \u0422\u0435\u0441\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 self.processor \u0438 self.temp_dir\n        pass\n</code></pre>"},{"location":"04_python_testing_basics/#fixtures-pytest","title":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 fixtures (pytest)","text":"<pre><code>@pytest.fixture\ndef sample_user():\n    \"\"\"\u0421\u043e\u0437\u0434\u0430\u0435\u0442 \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n    user = User(\"test@example.com\", \"Test User\")\n    yield user  # \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0430\n    # \u041a\u043e\u0434 \u043f\u043e\u0441\u043b\u0435 yield \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0441\u044f \u043f\u043e\u0441\u043b\u0435 \u0442\u0435\u0441\u0442\u0430\n    user.cleanup()\n\n@pytest.fixture\ndef database():\n    \"\"\"\u0421\u043e\u0437\u0434\u0430\u0435\u0442 \u0442\u0435\u0441\u0442\u043e\u0432\u0443\u044e \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u043d\u044b\u0445.\"\"\"\n    db = Database(\":memory:\")  # SQLite \u0432 \u043f\u0430\u043c\u044f\u0442\u0438\n    db.create_tables()\n    yield db\n    db.close()\n\ndef test_user_can_create_post(sample_user, database):\n    \"\"\"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u0441\u0442.\"\"\"\n    post = sample_user.create_post(\"Hello World!\", database)\n\n    assert post.title == \"Hello World!\"\n    assert post.author == sample_user\n</code></pre>"},{"location":"04_python_testing_basics/#_9","title":"\ud83c\udfaf \u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b","text":""},{"location":"04_python_testing_basics/#1-calculator","title":"\u041f\u0440\u0438\u043c\u0435\u0440 1: \u041a\u043b\u0430\u0441\u0441 Calculator","text":"<pre><code># calculator.py\nfrom typing import Union\n\nNumber = Union[int, float]\n\nclass Calculator:\n    \"\"\"\u041f\u0440\u043e\u0441\u0442\u043e\u0439 \u043a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440 \u0441 \u0431\u0430\u0437\u043e\u0432\u044b\u043c\u0438 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f\u043c\u0438.\"\"\"\n\n    def add(self, a: Number, b: Number) -&gt; Number:\n        \"\"\"\u0421\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0434\u0432\u0443\u0445 \u0447\u0438\u0441\u0435\u043b.\"\"\"\n        return a + b\n\n    def subtract(self, a: Number, b: Number) -&gt; Number:\n        \"\"\"\u0412\u044b\u0447\u0438\u0442\u0430\u043d\u0438\u0435 \u0432\u0442\u043e\u0440\u043e\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0438\u0437 \u043f\u0435\u0440\u0432\u043e\u0433\u043e.\"\"\"\n        return a - b\n\n    def multiply(self, a: Number, b: Number) -&gt; Number:\n        \"\"\"\u0423\u043c\u043d\u043e\u0436\u0435\u043d\u0438\u0435 \u0434\u0432\u0443\u0445 \u0447\u0438\u0441\u0435\u043b.\"\"\"\n        return a * b\n\n    def divide(self, a: Number, b: Number) -&gt; float:\n        \"\"\"\u0414\u0435\u043b\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u043d\u0430 \u0432\u0442\u043e\u0440\u043e\u0435.\"\"\"\n        if b == 0:\n            raise ZeroDivisionError(\"Cannot divide by zero\")\n        return a / b\n</code></pre> <pre><code># test_calculator.py\nimport pytest\nfrom calculator import Calculator\n\nclass TestCalculator:\n    \"\"\"\u0422\u0435\u0441\u0442\u044b \u0434\u043b\u044f \u043a\u043b\u0430\u0441\u0441\u0430 Calculator.\"\"\"\n\n    def setup_method(self):\n        \"\"\"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440 \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430.\"\"\"\n        self.calc = Calculator()\n\n    def test_add_positive_numbers(self):\n        \"\"\"\u0421\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0447\u0438\u0441\u0435\u043b.\"\"\"\n        result = self.calc.add(2, 3)\n        assert result == 5\n\n    def test_add_negative_numbers(self):\n        \"\"\"\u0421\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0447\u0438\u0441\u0435\u043b.\"\"\"\n        result = self.calc.add(-2, -3)\n        assert result == -5\n\n    def test_add_mixed_numbers(self):\n        \"\"\"\u0421\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0438 \u043e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0447\u0438\u0441\u043b\u0430.\"\"\"\n        result = self.calc.add(5, -3)\n        assert result == 2\n\n    def test_subtract_numbers(self):\n        \"\"\"\u0412\u044b\u0447\u0438\u0442\u0430\u043d\u0438\u0435 \u0447\u0438\u0441\u0435\u043b.\"\"\"\n        result = self.calc.subtract(10, 4)\n        assert result == 6\n\n    def test_multiply_numbers(self):\n        \"\"\"\u0423\u043c\u043d\u043e\u0436\u0435\u043d\u0438\u0435 \u0447\u0438\u0441\u0435\u043b.\"\"\"\n        result = self.calc.multiply(3, 4)\n        assert result == 12\n\n    def test_multiply_by_zero(self):\n        \"\"\"\u0423\u043c\u043d\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u043d\u043e\u043b\u044c.\"\"\"\n        result = self.calc.multiply(5, 0)\n        assert result == 0\n\n    def test_divide_numbers(self):\n        \"\"\"\u0414\u0435\u043b\u0435\u043d\u0438\u0435 \u0447\u0438\u0441\u0435\u043b.\"\"\"\n        result = self.calc.divide(10, 2)\n        assert result == 5.0\n\n    def test_divide_with_remainder(self):\n        \"\"\"\u0414\u0435\u043b\u0435\u043d\u0438\u0435 \u0441 \u043e\u0441\u0442\u0430\u0442\u043a\u043e\u043c.\"\"\"\n        result = self.calc.divide(10, 3)\n        assert result == pytest.approx(3.333333, rel=1e-5)\n\n    def test_divide_by_zero_raises_exception(self):\n        \"\"\"\u0414\u0435\u043b\u0435\u043d\u0438\u0435 \u043d\u0430 \u043d\u043e\u043b\u044c \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435.\"\"\"\n        with pytest.raises(ZeroDivisionError, match=\"Cannot divide by zero\"):\n            self.calc.divide(10, 0)\n</code></pre>"},{"location":"04_python_testing_basics/#2","title":"\u041f\u0440\u0438\u043c\u0435\u0440 2: \u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439","text":"<pre><code># user.py\nimport re\nfrom datetime import datetime\nfrom typing import Optional\n\nclass User:\n    \"\"\"\u041a\u043b\u0430\u0441\u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u044b.\"\"\"\n\n    def __init__(self, email: str, name: str):\n        self.email = self._validate_email(email)\n        self.name = self._validate_name(name)\n        self.created_at = datetime.now()\n        self.is_active = True\n        self._posts = []\n\n    def _validate_email(self, email: str) -&gt; str:\n        \"\"\"\u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f email \u0430\u0434\u0440\u0435\u0441\u0430.\"\"\"\n        pattern = r'^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$'\n        if not re.match(pattern, email):\n            raise ValueError(f\"Invalid email address: {email}\")\n        return email\n\n    def _validate_name(self, name: str) -&gt; str:\n        \"\"\"\u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f \u0438\u043c\u0435\u043d\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n        if not name or len(name.strip()) &lt; 2:\n            raise ValueError(\"Name must be at least 2 characters long\")\n        return name.strip()\n\n    def deactivate(self) -&gt; None:\n        \"\"\"\u0414\u0435\u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n        self.is_active = False\n\n    def create_post(self, title: str, content: str) -&gt; 'Post':\n        \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u0441\u0442\u0430.\"\"\"\n        if not self.is_active:\n            raise RuntimeError(\"Inactive user cannot create posts\")\n\n        post = Post(title, content, self)\n        self._posts.append(post)\n        return post\n\n    @property\n    def posts_count(self) -&gt; int:\n        \"\"\"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u0441\u0442\u043e\u0432 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n        return len(self._posts)\n\nclass Post:\n    \"\"\"\u041a\u043b\u0430\u0441\u0441 \u043f\u043e\u0441\u0442\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n\n    def __init__(self, title: str, content: str, author: User):\n        self.title = title\n        self.content = content\n        self.author = author\n        self.created_at = datetime.now()\n</code></pre> <pre><code># test_user.py\nimport pytest\nfrom datetime import datetime\nfrom user import User, Post\n\nclass TestUser:\n    \"\"\"\u0422\u0435\u0441\u0442\u044b \u0434\u043b\u044f \u043a\u043b\u0430\u0441\u0441\u0430 User.\"\"\"\n\n    def test_create_user_with_valid_data(self):\n        \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u043c\u0438.\"\"\"\n        user = User(\"test@example.com\", \"Test User\")\n\n        assert user.email == \"test@example.com\"\n        assert user.name == \"Test User\"\n        assert user.is_active == True\n        assert isinstance(user.created_at, datetime)\n        assert user.posts_count == 0\n\n    def test_create_user_with_invalid_email(self):\n        \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 \u043d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u044b\u043c email.\"\"\"\n        with pytest.raises(ValueError, match=\"Invalid email address\"):\n            User(\"invalid-email\", \"Test User\")\n\n    @pytest.mark.parametrize(\"invalid_email\", [\n        \"no-at-sign\",\n        \"@no-local-part.com\",\n        \"no-domain@.com\",\n        \"spaces @example.com\",\n        \"test@\",\n        \"\",\n    ])\n    def test_create_user_with_various_invalid_emails(self, invalid_email):\n        \"\"\"\u0422\u0435\u0441\u0442 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u043d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0445 email \u0430\u0434\u0440\u0435\u0441\u043e\u0432.\"\"\"\n        with pytest.raises(ValueError):\n            User(invalid_email, \"Test User\")\n\n    def test_create_user_with_invalid_name(self):\n        \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 \u043d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u044b\u043c \u0438\u043c\u0435\u043d\u0435\u043c.\"\"\"\n        with pytest.raises(ValueError, match=\"Name must be at least 2 characters\"):\n            User(\"test@example.com\", \"\")\n\n    def test_create_user_with_short_name(self):\n        \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441\u043e \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c.\"\"\"\n        with pytest.raises(ValueError):\n            User(\"test@example.com\", \"A\")\n\n    def test_create_user_trims_name_whitespace(self):\n        \"\"\"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043e\u0447\u0438\u0449\u0430\u0435\u0442\u0441\u044f \u043e\u0442 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432.\"\"\"\n        user = User(\"test@example.com\", \"  Test User  \")\n        assert user.name == \"Test User\"\n\n    def test_deactivate_user(self):\n        \"\"\"\u0414\u0435\u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n        user = User(\"test@example.com\", \"Test User\")\n        user.deactivate()\n\n        assert user.is_active == False\n\n    def test_active_user_can_create_post(self):\n        \"\"\"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u0441\u0442.\"\"\"\n        user = User(\"test@example.com\", \"Test User\")\n        post = user.create_post(\"Test Title\", \"Test content\")\n\n        assert isinstance(post, Post)\n        assert post.title == \"Test Title\"\n        assert post.content == \"Test content\"\n        assert post.author == user\n        assert user.posts_count == 1\n\n    def test_inactive_user_cannot_create_post(self):\n        \"\"\"\u041d\u0435\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u0441\u0442.\"\"\"\n        user = User(\"test@example.com\", \"Test User\")\n        user.deactivate()\n\n        with pytest.raises(RuntimeError, match=\"Inactive user cannot create posts\"):\n            user.create_post(\"Test Title\", \"Test content\")\n\n    def test_posts_count_increases_with_new_posts(self):\n        \"\"\"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u0441\u0442\u043e\u0432 \u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043d\u043e\u0432\u044b\u0445.\"\"\"\n        user = User(\"test@example.com\", \"Test User\")\n\n        assert user.posts_count == 0\n\n        user.create_post(\"Post 1\", \"Content 1\")\n        assert user.posts_count == 1\n\n        user.create_post(\"Post 2\", \"Content 2\")\n        assert user.posts_count == 2\n\nclass TestPost:\n    \"\"\"\u0422\u0435\u0441\u0442\u044b \u0434\u043b\u044f \u043a\u043b\u0430\u0441\u0441\u0430 Post.\"\"\"\n\n    @pytest.fixture\n    def sample_user(self):\n        \"\"\"\u0421\u043e\u0437\u0434\u0430\u0435\u0442 \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n        return User(\"test@example.com\", \"Test User\")\n\n    def test_create_post(self, sample_user):\n        \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u0430.\"\"\"\n        post = Post(\"Test Title\", \"Test content\", sample_user)\n\n        assert post.title == \"Test Title\"\n        assert post.content == \"Test content\"\n        assert post.author == sample_user\n        assert isinstance(post.created_at, datetime)\n</code></pre>"},{"location":"04_python_testing_basics/#_10","title":"\ud83d\udcca \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b","text":""},{"location":"04_python_testing_basics/#_11","title":"\u0411\u0430\u0437\u043e\u0432\u0430\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438\u0437\u0430\u0446\u0438\u044f","text":"<pre><code>import pytest\n\n@pytest.mark.parametrize(\"a,b,expected\", [\n    (2, 3, 5),\n    (1, 1, 2),\n    (-1, 1, 0),\n    (0, 0, 0),\n])\ndef test_add_numbers(a, b, expected):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0447\u0438\u0441\u0435\u043b.\"\"\"\n    calc = Calculator()\n    result = calc.add(a, b)\n    assert result == expected\n</code></pre>"},{"location":"04_python_testing_basics/#_12","title":"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u0441 \u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u043d\u044b\u043c\u0438 \u0442\u0435\u0441\u0442\u0430\u043c\u0438","text":"<pre><code>@pytest.mark.parametrize(\"email,is_valid\", [\n    (\"test@example.com\", True),\n    (\"user.name@domain.co.uk\", True),\n    (\"invalid-email\", False),\n    (\"@domain.com\", False),\n    (\"test@\", False),\n], ids=[\n    \"valid_simple\",\n    \"valid_complex\", \n    \"no_at_sign\",\n    \"no_local_part\",\n    \"no_domain\"\n])\ndef test_email_validation(email, is_valid):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438 email \u0430\u0434\u0440\u0435\u0441\u043e\u0432.\"\"\"\n    if is_valid:\n        user = User(email, \"Test User\")  # \u0414\u043e\u043b\u0436\u043d\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c\n        assert user.email == email\n    else:\n        with pytest.raises(ValueError):\n            User(email, \"Test User\")\n</code></pre>"},{"location":"04_python_testing_basics/#_13","title":"\u041a\u043e\u043c\u0431\u0438\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438\u0437\u0430\u0446\u0438\u044f","text":"<pre><code>@pytest.mark.parametrize(\"operation\", [\"add\", \"subtract\"])\n@pytest.mark.parametrize(\"a,b\", [(1, 2), (5, 3), (0, 0)])\ndef test_calculator_operations(operation, a, b):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 \u043a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440\u0430.\"\"\"\n    calc = Calculator()\n\n    if operation == \"add\":\n        result = calc.add(a, b)\n        expected = a + b\n    elif operation == \"subtract\":\n        result = calc.subtract(a, b)\n        expected = a - b\n\n    assert result == expected\n</code></pre>"},{"location":"04_python_testing_basics/#_14","title":"\ud83c\udfaf \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0448\u0430\u0433\u0438","text":"<p>\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u0433\u043b\u0430\u0432\u0430\u0445 \u043c\u044b \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u043e \u0438\u0437\u0443\u0447\u0438\u043c: - \u041c\u043e\u0434\u0443\u043b\u044c unittest \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0439 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 Python - \u0424\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a pytest \u0438 \u0435\u0433\u043e \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 - \u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043f\u0430\u0442\u0442\u0435\u0440\u043d\u044b \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f</p>"},{"location":"04_python_testing_basics/#_15","title":"\ud83d\udca1 \u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0432\u044b\u0432\u043e\u0434\u044b","text":"<ol> <li>\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 AAA \u0434\u0435\u043b\u0430\u0435\u0442 \u0442\u0435\u0441\u0442\u044b \u043f\u043e\u043d\u044f\u0442\u043d\u044b\u043c\u0438</li> <li>\u0425\u043e\u0440\u043e\u0448\u0438\u0435 \u0438\u043c\u0435\u043d\u0430 \u0442\u0435\u0441\u0442\u043e\u0432 \u2014 \u044d\u0442\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f</li> <li>\u041e\u0434\u0438\u043d \u0442\u0435\u0441\u0442 = \u043e\u0434\u043d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 (\u0432 \u0438\u0434\u0435\u0430\u043b\u0435)</li> <li>\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u043e\u043c\u043e\u0433\u0430\u0435\u0442 \u0438\u0437\u0431\u0435\u0436\u0430\u0442\u044c \u0434\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f</li> <li>Fixtures \u0443\u043f\u0440\u043e\u0449\u0430\u044e\u0442 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0443 \u0442\u0435\u0441\u0442\u043e\u0432</li> </ol>"},{"location":"04_python_testing_basics/#_16","title":"\ud83e\uddea \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u0432\u043e\u0438 \u0437\u043d\u0430\u043d\u0438\u044f","text":""},{"location":"04_python_testing_basics/#_17","title":"\ud83d\udd17 \u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0442\u0435\u043c\u044b","text":"<ul> <li>\u041e\u0441\u043d\u043e\u0432\u044b TDD - \u0444\u0438\u043b\u043e\u0441\u043e\u0444\u0438\u044f \u0438 \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u044b TDD</li> <li>\u0426\u0438\u043a\u043b Red-Green-Refactor - \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043e\u0441\u043d\u043e\u0432 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432 TDD</li> <li>Unittest \u043c\u043e\u0434\u0443\u043b\u044c - \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0430\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 Python \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f</li> <li>Pytest \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a - \u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0439 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f</li> <li>\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b - \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043d\u0430 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0435</li> </ul> <p>\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430: Unittest \u043c\u043e\u0434\u0443\u043b\u044c</p> <p>\ud83e\uddea \u041e\u0441\u043d\u043e\u0432\u044b \u043e\u0441\u0432\u043e\u0435\u043d\u044b \u2014 \u0438\u0437\u0443\u0447\u0430\u0435\u043c \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b!</p>"},{"location":"05_unittest/","title":"Unittest: \u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u043c\u043e\u0434\u0443\u043b\u044c \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f Python","text":""},{"location":"05_unittest/#unittest","title":"\ud83c\udfaf \u0412\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0432 unittest","text":"<p>\u041c\u043e\u0434\u0443\u043b\u044c <code>unittest</code> \u2014 \u044d\u0442\u043e \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0430\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 Python \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f, \u0432\u0434\u043e\u0445\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u0430\u044f JUnit (Java). \u0425\u043e\u0442\u044f pytest \u0431\u043e\u043b\u0435\u0435 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u0435\u043d \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435, unittest \u043e\u0441\u0442\u0430\u0435\u0442\u0441\u044f \u0432\u0430\u0436\u043d\u044b\u043c \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u043c, \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e \u0432 \u043a\u043e\u0440\u043f\u043e\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0439 \u0441\u0440\u0435\u0434\u0435 \u0438 legacy \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u0445.</p>"},{"location":"05_unittest/#unittest_1","title":"\ud83d\udcda \u041e\u0441\u043d\u043e\u0432\u044b unittest","text":""},{"location":"05_unittest/#_1","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0442\u0435\u0441\u0442\u0430","text":"<pre><code>import unittest\n\nclass TestCalculator(unittest.TestCase):\n    \"\"\"\u0422\u0435\u0441\u0442\u044b \u0434\u043b\u044f \u043a\u043b\u0430\u0441\u0441\u0430 Calculator.\"\"\"\n\n    def setUp(self):\n        \"\"\"\u0412\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043f\u0435\u0440\u0435\u0434 \u043a\u0430\u0436\u0434\u044b\u043c \u0442\u0435\u0441\u0442\u043e\u043c.\"\"\"\n        self.calc = Calculator()\n\n    def tearDown(self):\n        \"\"\"\u0412\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u0441\u043b\u0435 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430.\"\"\"\n        # \u041e\u0447\u0438\u0441\u0442\u043a\u0430 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432, \u0435\u0441\u043b\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\n        pass\n\n    def test_add_positive_numbers(self):\n        \"\"\"\u0421\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0447\u0438\u0441\u0435\u043b.\"\"\"\n        result = self.calc.add(2, 3)\n        self.assertEqual(result, 5)\n\n    def test_divide_by_zero(self):\n        \"\"\"\u0414\u0435\u043b\u0435\u043d\u0438\u0435 \u043d\u0430 \u043d\u043e\u043b\u044c \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435.\"\"\"\n        with self.assertRaises(ZeroDivisionError):\n            self.calc.divide(10, 0)\n\nif __name__ == '__main__':\n    unittest.main()\n</code></pre>"},{"location":"05_unittest/#_2","title":"\u0417\u0430\u043f\u0443\u0441\u043a \u0442\u0435\u0441\u0442\u043e\u0432","text":"<pre><code># \u0417\u0430\u043f\u0443\u0441\u043a \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430\nuv run python test_calculator.py\n\n# \u0417\u0430\u043f\u0443\u0441\u043a \u0432\u0441\u0435\u0445 \u0442\u0435\u0441\u0442\u043e\u0432 \u0432 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438\nuv run python -m unittest discover\n\n# \u0417\u0430\u043f\u0443\u0441\u043a \u0441 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u043c \u0432\u044b\u0432\u043e\u0434\u043e\u043c\nuv run python -m unittest -v\n\n# \u0417\u0430\u043f\u0443\u0441\u043a \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u043a\u043b\u0430\u0441\u0441\u0430\nuv run python -m unittest test_calculator.TestCalculator\n\n# \u0417\u0430\u043f\u0443\u0441\u043a \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430\nuv run python -m unittest test_calculator.TestCalculator.test_add_positive_numbers\n</code></pre>"},{"location":"05_unittest/#assertion-unittest","title":"\ud83d\udd27 \u041c\u0435\u0442\u043e\u0434\u044b assertion \u0432 unittest","text":""},{"location":"05_unittest/#_3","title":"\u0411\u0430\u0437\u043e\u0432\u044b\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438","text":"<pre><code>class TestAssertions(unittest.TestCase):\n\n    def test_equality_assertions(self):\n        \"\"\"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0440\u0430\u0432\u0435\u043d\u0441\u0442\u0432\u0430.\"\"\"\n        self.assertEqual(2 + 2, 4)\n        self.assertNotEqual(2 + 2, 5)\n\n        # \u0414\u043b\u044f \u0447\u0438\u0441\u0435\u043b \u0441 \u043f\u043b\u0430\u0432\u0430\u044e\u0449\u0435\u0439 \u0442\u043e\u0447\u043a\u043e\u0439\n        self.assertAlmostEqual(0.1 + 0.2, 0.3, places=7)\n\n    def test_boolean_assertions(self):\n        \"\"\"\u041b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438.\"\"\"\n        self.assertTrue(True)\n        self.assertFalse(False)\n\n    def test_none_assertions(self):\n        \"\"\"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043d\u0430 None.\"\"\"\n        self.assertIsNone(None)\n        self.assertIsNotNone(\"not none\")\n\n    def test_membership_assertions(self):\n        \"\"\"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043f\u0440\u0438\u043d\u0430\u0434\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0438.\"\"\"\n        self.assertIn(1, [1, 2, 3])\n        self.assertNotIn(4, [1, 2, 3])\n\n    def test_type_assertions(self):\n        \"\"\"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0442\u0438\u043f\u043e\u0432.\"\"\"\n        self.assertIsInstance(\"hello\", str)\n        self.assertNotIsInstance(\"hello\", int)\n\n    def test_comparison_assertions(self):\n        \"\"\"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f.\"\"\"\n        self.assertGreater(5, 3)\n        self.assertLess(3, 5)\n        self.assertGreaterEqual(5, 5)\n        self.assertLessEqual(3, 5)\n</code></pre>"},{"location":"05_unittest/#_4","title":"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439","text":"<pre><code>class TestExceptions(unittest.TestCase):\n\n    def test_exception_raised(self):\n        \"\"\"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0447\u0442\u043e \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u0435\u0442.\"\"\"\n        with self.assertRaises(ValueError):\n            int(\"not a number\")\n\n    def test_exception_message(self):\n        \"\"\"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f.\"\"\"\n        with self.assertRaisesRegex(ValueError, \"invalid literal\"):\n            int(\"not a number\")\n\n    def test_no_exception(self):\n        \"\"\"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0447\u0442\u043e \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u041d\u0415 \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u0435\u0442.\"\"\"\n        try:\n            result = int(\"123\")\n            self.assertEqual(result, 123)\n        except ValueError:\n            self.fail(\"int() raised ValueError unexpectedly!\")\n</code></pre>"},{"location":"05_unittest/#_5","title":"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0441\u0442\u0440\u043e\u043a \u0438 \u0440\u0435\u0433\u0443\u043b\u044f\u0440\u043d\u044b\u0445 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439","text":"<pre><code>class TestStringAssertions(unittest.TestCase):\n\n    def test_string_comparisons(self):\n        \"\"\"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0441\u0442\u0440\u043e\u043a.\"\"\"\n        text = \"Hello World\"\n\n        self.assertRegex(text, r\"Hello.*\")\n        self.assertNotRegex(text, r\"Goodbye.*\")\n\n        self.assertMultiLineEqual(\n            \"line1\\nline2\", \n            \"line1\\nline2\"\n        )\n\n    def test_sequence_assertions(self):\n        \"\"\"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0435\u0439.\"\"\"\n        list1 = [1, 2, 3]\n        list2 = [1, 2, 3]\n\n        self.assertListEqual(list1, list2)\n        self.assertCountEqual([1, 2, 3], [3, 2, 1])  # \u041f\u043e\u0440\u044f\u0434\u043e\u043a \u043d\u0435 \u0432\u0430\u0436\u0435\u043d\n</code></pre>"},{"location":"05_unittest/#_6","title":"\ud83c\udfd7 \u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u0442\u0435\u0441\u0442\u043e\u0432","text":""},{"location":"05_unittest/#setupteardown","title":"\u0424\u0438\u043a\u0441\u0442\u0443\u0440\u044b (setUp/tearDown)","text":"<pre><code>class TestDatabaseOperations(unittest.TestCase):\n    \"\"\"\u0422\u0435\u0441\u0442\u044b \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 \u0441 \u0431\u0430\u0437\u043e\u0439 \u0434\u0430\u043d\u043d\u044b\u0445.\"\"\"\n\n    @classmethod\n    def setUpClass(cls):\n        \"\"\"\u0412\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043e\u0434\u0438\u043d \u0440\u0430\u0437 \u0434\u043b\u044f \u0432\u0441\u0435\u0433\u043e \u043a\u043b\u0430\u0441\u0441\u0430.\"\"\"\n        cls.database = create_test_database()\n\n    @classmethod\n    def tearDownClass(cls):\n        \"\"\"\u0412\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043e\u0434\u0438\u043d \u0440\u0430\u0437 \u043f\u043e\u0441\u043b\u0435 \u0432\u0441\u0435\u0445 \u0442\u0435\u0441\u0442\u043e\u0432 \u043a\u043b\u0430\u0441\u0441\u0430.\"\"\"\n        cls.database.close()\n\n    def setUp(self):\n        \"\"\"\u0412\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043f\u0435\u0440\u0435\u0434 \u043a\u0430\u0436\u0434\u044b\u043c \u0442\u0435\u0441\u0442\u043e\u043c.\"\"\"\n        self.user = User(\"test@example.com\", \"Test User\")\n        self.database.clear()\n\n    def tearDown(self):\n        \"\"\"\u0412\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u0441\u043b\u0435 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430.\"\"\"\n        self.database.rollback()\n\n    def test_save_user(self):\n        \"\"\"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0411\u0414.\"\"\"\n        saved_user = self.database.save(self.user)\n        self.assertIsNotNone(saved_user.id)\n\n    def test_find_user_by_email(self):\n        \"\"\"\u041f\u043e\u0438\u0441\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u043e email.\"\"\"\n        self.database.save(self.user)\n        found_user = self.database.find_by_email(\"test@example.com\")\n        self.assertEqual(found_user.email, self.user.email)\n</code></pre>"},{"location":"05_unittest/#_7","title":"\u0413\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u043a\u0430 \u0442\u0435\u0441\u0442\u043e\u0432 \u0432 \u043d\u0430\u0431\u043e\u0440\u044b","text":"<pre><code>def suite():\n    \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u0430\u0431\u043e\u0440\u0430 \u0442\u0435\u0441\u0442\u043e\u0432.\"\"\"\n    test_suite = unittest.TestSuite()\n\n    # \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0445 \u0442\u0435\u0441\u0442\u043e\u0432\n    test_suite.addTest(TestCalculator('test_add_positive_numbers'))\n    test_suite.addTest(TestCalculator('test_divide_by_zero'))\n\n    # \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432\u0441\u0435\u0445 \u0442\u0435\u0441\u0442\u043e\u0432 \u043a\u043b\u0430\u0441\u0441\u0430\n    test_suite.addTest(unittest.makeSuite(TestDatabaseOperations))\n\n    return test_suite\n\nif __name__ == '__main__':\n    runner = unittest.TextTestRunner(verbosity=2)\n    runner.run(suite())\n</code></pre>"},{"location":"05_unittest/#unittest_2","title":"\ud83c\udfad \u041c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 unittest","text":""},{"location":"05_unittest/#unittestmock","title":"\u041c\u043e\u0434\u0443\u043b\u044c unittest.mock","text":"<pre><code>import unittest\nfrom unittest.mock import Mock, patch, MagicMock\n\nclass TestEmailService(unittest.TestCase):\n    \"\"\"\u0422\u0435\u0441\u0442\u044b \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 email.\"\"\"\n\n    def test_send_email_success(self):\n        \"\"\"\u0423\u0441\u043f\u0435\u0448\u043d\u0430\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 email.\"\"\"\n        # \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043c\u043e\u043a\u0430\n        mock_smtp = Mock()\n        mock_smtp.send_message.return_value = True\n\n        email_service = EmailService(smtp_client=mock_smtp)\n        result = email_service.send(\"test@example.com\", \"Subject\", \"Body\")\n\n        self.assertTrue(result)\n        mock_smtp.send_message.assert_called_once()\n\n    @patch('smtplib.SMTP')\n    def test_send_email_with_patch(self, mock_smtp_class):\n        \"\"\"\u0422\u0435\u0441\u0442 \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440\u0430 patch.\"\"\"\n        mock_smtp = mock_smtp_class.return_value\n        mock_smtp.send_message.return_value = True\n\n        email_service = EmailService()\n        result = email_service.send(\"test@example.com\", \"Subject\", \"Body\")\n\n        self.assertTrue(result)\n        mock_smtp.send_message.assert_called_once()\n\n    def test_send_email_failure(self):\n        \"\"\"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043e\u0448\u0438\u0431\u043a\u0438 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 email.\"\"\"\n        mock_smtp = Mock()\n        mock_smtp.send_message.side_effect = Exception(\"SMTP Error\")\n\n        email_service = EmailService(smtp_client=mock_smtp)\n\n        with self.assertRaises(EmailSendError):\n            email_service.send(\"test@example.com\", \"Subject\", \"Body\")\n</code></pre>"},{"location":"05_unittest/#_8","title":"\u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 \u0442\u0435\u0445\u043d\u0438\u043a\u0438 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f","text":"<pre><code>class TestAdvancedMocking(unittest.TestCase):\n    \"\"\"\u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 \u0442\u0435\u0445\u043d\u0438\u043a\u0438 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f.\"\"\"\n\n    @patch('requests.get')\n    def test_api_call_with_mock(self, mock_get):\n        \"\"\"\u041c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 HTTP \u0437\u0430\u043f\u0440\u043e\u0441\u0430.\"\"\"\n        # \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043c\u043e\u043a\u0430\n        mock_response = Mock()\n        mock_response.json.return_value = {'status': 'success', 'data': []}\n        mock_response.status_code = 200\n        mock_get.return_value = mock_response\n\n        # \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c\u044b\u0439 \u043a\u043e\u0434\n        api_client = APIClient()\n        result = api_client.get_users()\n\n        # \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0438\n        self.assertEqual(result['status'], 'success')\n        mock_get.assert_called_once_with('https://api.example.com/users')\n\n    def test_mock_with_side_effect(self):\n        \"\"\"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 side_effect \u0434\u043b\u044f \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439.\"\"\"\n        mock_db = Mock()\n        mock_db.query.side_effect = [\n            [{'id': 1, 'name': 'User 1'}],  # \u041f\u0435\u0440\u0432\u044b\u0439 \u0432\u044b\u0437\u043e\u0432\n            [],  # \u0412\u0442\u043e\u0440\u043e\u0439 \u0432\u044b\u0437\u043e\u0432\n            Exception(\"Database error\")  # \u0422\u0440\u0435\u0442\u0438\u0439 \u0432\u044b\u0437\u043e\u0432\n        ]\n\n        service = UserService(database=mock_db)\n\n        # \u041f\u0435\u0440\u0432\u044b\u0439 \u0432\u044b\u0437\u043e\u0432 - \u0443\u0441\u043f\u0435\u0448\u043d\u043e\n        users = service.get_all_users()\n        self.assertEqual(len(users), 1)\n\n        # \u0412\u0442\u043e\u0440\u043e\u0439 \u0432\u044b\u0437\u043e\u0432 - \u043f\u0443\u0441\u0442\u043e\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\n        users = service.get_all_users()\n        self.assertEqual(len(users), 0)\n\n        # \u0422\u0440\u0435\u0442\u0438\u0439 \u0432\u044b\u0437\u043e\u0432 - \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\n        with self.assertRaises(Exception):\n            service.get_all_users()\n\n    @patch.object(User, 'save')\n    def test_patch_object(self, mock_save):\n        \"\"\"\u041c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043c\u0435\u0442\u043e\u0434\u0430 \u043e\u0431\u044a\u0435\u043a\u0442\u0430.\"\"\"\n        mock_save.return_value = True\n\n        user = User(\"test@example.com\")\n        result = user.save()\n\n        self.assertTrue(result)\n        mock_save.assert_called_once()\n</code></pre>"},{"location":"05_unittest/#_9","title":"\ud83d\udcca \u041f\u0440\u043e\u043f\u0443\u0441\u043a \u0438 \u0443\u0441\u043b\u043e\u0432\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b","text":""},{"location":"05_unittest/#_10","title":"\u041f\u0440\u043e\u043f\u0443\u0441\u043a \u0442\u0435\u0441\u0442\u043e\u0432","text":"<pre><code>import sys\nimport unittest\n\nclass TestConditional(unittest.TestCase):\n    \"\"\"\u0423\u0441\u043b\u043e\u0432\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b.\"\"\"\n\n    @unittest.skip(\"\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\")\n    def test_temporarily_disabled(self):\n        \"\"\"\u042d\u0442\u043e\u0442 \u0442\u0435\u0441\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d.\"\"\"\n        self.fail(\"\u041d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c\u0441\u044f\")\n\n    @unittest.skipIf(sys.platform == \"win32\", \"\u041d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043d\u0430 Windows\")\n    def test_unix_only(self):\n        \"\"\"\u0422\u0435\u0441\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f Unix \u0441\u0438\u0441\u0442\u0435\u043c.\"\"\"\n        import os\n        self.assertTrue(hasattr(os, 'fork'))\n\n    @unittest.skipUnless(sys.platform.startswith(\"linux\"), \"\u0422\u0440\u0435\u0431\u0443\u0435\u0442 Linux\")\n    def test_linux_only(self):\n        \"\"\"\u0422\u0435\u0441\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f Linux.\"\"\"\n        with open('/proc/version') as f:\n            version = f.read()\n        self.assertIn('Linux', version)\n\n    def test_conditional_skip(self):\n        \"\"\"\u0423\u0441\u043b\u043e\u0432\u043d\u044b\u0439 \u043f\u0440\u043e\u043f\u0443\u0441\u043a \u0432\u043d\u0443\u0442\u0440\u0438 \u0442\u0435\u0441\u0442\u0430.\"\"\"\n        if not hasattr(sys, 'gettrace'):\n            self.skipTest(\"\u041e\u0442\u043b\u0430\u0434\u0447\u0438\u043a \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d\")\n\n        # \u0422\u0435\u0441\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0435\u0441\u043b\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u043e\u0442\u043b\u0430\u0434\u0447\u0438\u043a\n        self.assertIsNotNone(sys.gettrace)\n</code></pre>"},{"location":"05_unittest/#_11","title":"\u041e\u0436\u0438\u0434\u0430\u0435\u043c\u044b\u0435 \u043f\u0430\u0434\u0435\u043d\u0438\u044f","text":"<pre><code>class TestExpectedFailures(unittest.TestCase):\n    \"\"\"\u041e\u0436\u0438\u0434\u0430\u0435\u043c\u044b\u0435 \u043f\u0430\u0434\u0435\u043d\u0438\u044f \u0442\u0435\u0441\u0442\u043e\u0432.\"\"\"\n\n    @unittest.expectedFailure\n    def test_known_bug(self):\n        \"\"\"\u0418\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0431\u0430\u0433, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0435\u0449\u0435 \u043d\u0435 \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d.\"\"\"\n        self.assertEqual(1, 0)  # \u0418\u0437\u0432\u0435\u0441\u0442\u043d\u043e \u0447\u0442\u043e \u043f\u0430\u0434\u0430\u0435\u0442\n\n    def test_unexpected_success(self):\n        \"\"\"\u0415\u0441\u043b\u0438 \u044d\u0442\u043e\u0442 \u0442\u0435\u0441\u0442 \u043f\u0440\u043e\u0439\u0434\u0435\u0442, \u044d\u0442\u043e \u0431\u0443\u0434\u0435\u0442 \u043d\u0435\u043e\u0436\u0438\u0434\u0430\u043d\u043d\u043e.\"\"\"\n        # \u0415\u0441\u043b\u0438 \u0431\u0430\u0433 \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d, \u0442\u0435\u0441\u0442 \u043f\u043e\u043a\u0430\u0436\u0435\u0442 \u043d\u0435\u043e\u0436\u0438\u0434\u0430\u043d\u043d\u044b\u0439 \u0443\u0441\u043f\u0435\u0445\n        pass\n</code></pre>"},{"location":"05_unittest/#tdd-unittest","title":"\ud83c\udfaf \u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043f\u0440\u0438\u043c\u0435\u0440: TDD \u0441 unittest","text":"<p>\u0421\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0431\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u043e\u0433\u043e \u0441\u0447\u0435\u0442\u0430 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e TDD \u0438 unittest:</p>"},{"location":"05_unittest/#1","title":"\u0418\u0442\u0435\u0440\u0430\u0446\u0438\u044f 1: \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0447\u0435\u0442\u0430","text":"<pre><code># test_bank_account.py\nimport unittest\nfrom decimal import Decimal\n\nclass TestBankAccount(unittest.TestCase):\n    \"\"\"\u0422\u0435\u0441\u0442\u044b \u0431\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u043e\u0433\u043e \u0441\u0447\u0435\u0442\u0430.\"\"\"\n\n    def test_new_account_has_zero_balance(self):\n        \"\"\"\u041d\u043e\u0432\u044b\u0439 \u0441\u0447\u0435\u0442 \u0438\u043c\u0435\u0435\u0442 \u043d\u0443\u043b\u0435\u0432\u043e\u0439 \u0431\u0430\u043b\u0430\u043d\u0441.\"\"\"\n        account = BankAccount(\"ACC123\")  # \u041a\u043b\u0430\u0441\u0441\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442!\n        self.assertEqual(account.balance, Decimal(\"0.00\"))\n\n    def test_account_has_account_number(self):\n        \"\"\"\u0421\u0447\u0435\u0442 \u0438\u043c\u0435\u0435\u0442 \u043d\u043e\u043c\u0435\u0440.\"\"\"\n        account = BankAccount(\"ACC123\")\n        self.assertEqual(account.account_number, \"ACC123\")\n\n# bank_account.py\nfrom decimal import Decimal\n\nclass BankAccount:\n    \"\"\"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0441\u0447\u0435\u0442.\"\"\"\n\n    def __init__(self, account_number: str):\n        self.account_number = account_number\n        self.balance = Decimal(\"0.00\")\n</code></pre>"},{"location":"05_unittest/#2","title":"\u0418\u0442\u0435\u0440\u0430\u0446\u0438\u044f 2: \u041f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0441\u0447\u0435\u0442\u0430","text":"<pre><code>class TestBankAccount(unittest.TestCase):\n    # ... \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0435 \u0442\u0435\u0441\u0442\u044b ...\n\n    def setUp(self):\n        \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0447\u0435\u0442\u0430 \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430.\"\"\"\n        self.account = BankAccount(\"ACC123\")\n\n    def test_deposit_positive_amount(self):\n        \"\"\"\u041f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0441\u0443\u043c\u043c\u043e\u0439.\"\"\"\n        self.account.deposit(Decimal(\"100.00\"))\n        self.assertEqual(self.account.balance, Decimal(\"100.00\"))\n\n    def test_deposit_negative_amount_raises_error(self):\n        \"\"\"\u041f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0441\u0443\u043c\u043c\u043e\u0439 \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0443.\"\"\"\n        with self.assertRaises(ValueError):\n            self.account.deposit(Decimal(\"-10.00\"))\n\n    def test_deposit_zero_raises_error(self):\n        \"\"\"\u041f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043d\u0443\u043b\u0435\u0432\u043e\u0439 \u0441\u0443\u043c\u043c\u043e\u0439 \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0443.\"\"\"\n        with self.assertRaisesRegex(ValueError, \"Amount must be positive\"):\n            self.account.deposit(Decimal(\"0.00\"))\n\n# \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f\nclass BankAccount:\n    def __init__(self, account_number: str):\n        self.account_number = account_number\n        self.balance = Decimal(\"0.00\")\n\n    def deposit(self, amount: Decimal) -&gt; None:\n        \"\"\"\u041f\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0441\u0447\u0435\u0442.\"\"\"\n        if amount &lt;= 0:\n            raise ValueError(\"Amount must be positive\")\n        self.balance += amount\n</code></pre>"},{"location":"05_unittest/#3","title":"\u0418\u0442\u0435\u0440\u0430\u0446\u0438\u044f 3: \u0421\u043d\u044f\u0442\u0438\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432","text":"<pre><code>class TestBankAccount(unittest.TestCase):\n    # ... \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0435 \u0442\u0435\u0441\u0442\u044b ...\n\n    def test_withdraw_valid_amount(self):\n        \"\"\"\u0421\u043d\u044f\u0442\u0438\u0435 \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e\u0439 \u0441\u0443\u043c\u043c\u044b.\"\"\"\n        self.account.deposit(Decimal(\"100.00\"))\n        self.account.withdraw(Decimal(\"30.00\"))\n        self.assertEqual(self.account.balance, Decimal(\"70.00\"))\n\n    def test_withdraw_more_than_balance_raises_error(self):\n        \"\"\"\u0421\u043d\u044f\u0442\u0438\u0435 \u0441\u0443\u043c\u043c\u044b \u0431\u043e\u043b\u044c\u0448\u0435 \u0431\u0430\u043b\u0430\u043d\u0441\u0430 \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0443.\"\"\"\n        self.account.deposit(Decimal(\"50.00\"))\n        with self.assertRaisesRegex(ValueError, \"Insufficient funds\"):\n            self.account.withdraw(Decimal(\"100.00\"))\n\n# \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f\nclass BankAccount:\n    # ... \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u043a\u043e\u0434 ...\n\n    def withdraw(self, amount: Decimal) -&gt; None:\n        \"\"\"\u0421\u043d\u044f\u0442\u044c \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430.\"\"\"\n        if amount &lt;= 0:\n            raise ValueError(\"Amount must be positive\")\n        if amount &gt; self.balance:\n            raise ValueError(\"Insufficient funds\")\n        self.balance -= amount\n</code></pre>"},{"location":"05_unittest/#_12","title":"\ud83d\udd27 \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f","text":""},{"location":"05_unittest/#_13","title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0432\u044b\u0432\u043e\u0434\u0430","text":"<pre><code>import unittest\nimport sys\n\nclass ColoredTextTestResult(unittest.TextTestResult):\n    \"\"\"\u0426\u0432\u0435\u0442\u043d\u043e\u0439 \u0432\u044b\u0432\u043e\u0434 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u0442\u0435\u0441\u0442\u043e\u0432.\"\"\"\n\n    def addSuccess(self, test):\n        super().addSuccess(test)\n        if self.showAll:\n            self.stream.write(\"\u2705 PASS\\n\")\n\n    def addError(self, test, err):\n        super().addError(test, err)\n        if self.showAll:\n            self.stream.write(\"\ud83d\udca5 ERROR\\n\")\n\n    def addFailure(self, test, err):\n        super().addFailure(test, err)\n        if self.showAll:\n            self.stream.write(\"\u274c FAIL\\n\")\n\nclass ColoredTextTestRunner(unittest.TextTestRunner):\n    \"\"\"\u0422\u0435\u0441\u0442\u0440\u0430\u043d\u043d\u0435\u0440 \u0441 \u0446\u0432\u0435\u0442\u043d\u044b\u043c \u0432\u044b\u0432\u043e\u0434\u043e\u043c.\"\"\"\n    resultclass = ColoredTextTestResult\n\nif __name__ == '__main__':\n    unittest.main(testRunner=ColoredTextTestRunner(verbosity=2))\n</code></pre>"},{"location":"05_unittest/#_14","title":"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u0444\u0430\u0439\u043b","text":"<pre><code># test_config.py\nimport unittest\nimport os\n\nclass TestConfig:\n    \"\"\"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u043e\u0432.\"\"\"\n\n    def __init__(self):\n        self.database_url = os.getenv(\n            'TEST_DATABASE_URL', \n            'sqlite:///:memory:'\n        )\n        self.api_base_url = os.getenv(\n            'TEST_API_URL', \n            'http://localhost:8000'\n        )\n        self.timeout = int(os.getenv('TEST_TIMEOUT', '30'))\n\n# \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u0442\u0435\u0441\u0442\u0430\u0445\nclass TestWithConfig(unittest.TestCase):\n\n    @classmethod\n    def setUpClass(cls):\n        cls.config = TestConfig()\n\n    def test_database_connection(self):\n        \"\"\"\u0422\u0435\u0441\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0411\u0414.\"\"\"\n        db = Database(self.config.database_url)\n        self.assertTrue(db.is_connected())\n</code></pre>"},{"location":"05_unittest/#unittest-vs-pytest","title":"\ud83d\udcc8 \u0421\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 unittest vs pytest","text":"\u041a\u0440\u0438\u0442\u0435\u0440\u0438\u0439 unittest pytest \u0421\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441 Verbose (self.assertEqual) \u041f\u0440\u043e\u0441\u0442\u043e\u0439 (assert) \u0424\u0438\u043a\u0441\u0442\u0443\u0440\u044b setUp/tearDown \u043c\u0435\u0442\u043e\u0434\u044b \u0414\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440\u044b @pytest.fixture \u041e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u043e\u0432 \u0421\u0442\u0440\u043e\u0433\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u044f \u0413\u0438\u0431\u043a\u043e\u0435 \u0430\u0432\u0442\u043e\u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u0438\u0435 \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u0422\u0440\u0435\u0431\u0443\u0435\u0442 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043a\u043e\u0434\u0430 @pytest.mark.parametrize \u041f\u043b\u0430\u0433\u0438\u043d\u044b \u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u0430\u044f \u044d\u043a\u043e\u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u0411\u043e\u0433\u0430\u0442\u0430\u044f \u044d\u043a\u043e\u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u0421\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c \u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0430\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 \u0412\u043d\u0435\u0448\u043d\u044f\u044f \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c"},{"location":"05_unittest/#unittest-pytest","title":"\u041c\u0438\u0433\u0440\u0430\u0446\u0438\u044f \u0441 unittest \u043d\u0430 pytest","text":"<pre><code># unittest \u043a\u043e\u0434\nclass TestCalculator(unittest.TestCase):\n    def setUp(self):\n        self.calc = Calculator()\n\n    def test_add(self):\n        result = self.calc.add(2, 3)\n        self.assertEqual(result, 5)\n\n# pytest \u044d\u043a\u0432\u0438\u0432\u0430\u043b\u0435\u043d\u0442\n@pytest.fixture\ndef calc():\n    return Calculator()\n\ndef test_add(calc):\n    result = calc.add(2, 3)\n    assert result == 5\n</code></pre>"},{"location":"05_unittest/#unittest_3","title":"\ud83c\udfaf \u041a\u043e\u0433\u0434\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c unittest","text":""},{"location":"05_unittest/#unittest_4","title":"\u2705 Unittest \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u0434\u043b\u044f:","text":"<ul> <li>\u041a\u043e\u0440\u043f\u043e\u0440\u0430\u0442\u0438\u0432\u043d\u044b\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432 \u0441 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f\u043c\u0438 \u043d\u0430 \u0432\u043d\u0435\u0448\u043d\u0438\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438</li> <li>Legacy \u043a\u043e\u0434\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0443\u0436\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 unittest</li> <li>\u0421\u0442\u0440\u043e\u0433\u0438\u0445 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043e\u0432 \u043a\u043e\u0434\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432 \u043a\u043e\u043c\u0430\u043d\u0434\u0435</li> <li>\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0446\u0435\u043b\u0435\u0439 (\u043f\u043e\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u043e\u0441\u043d\u043e\u0432)</li> </ul>"},{"location":"05_unittest/#pytest","title":"\u274c \u041b\u0443\u0447\u0448\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c pytest \u0434\u043b\u044f:","text":"<ul> <li>\u041d\u043e\u0432\u044b\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432 \u0431\u0435\u0437 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0439</li> <li>\u0411\u044b\u0441\u0442\u0440\u043e\u0433\u043e \u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0442\u0435\u0441\u0442\u043e\u0432</li> <li>\u0421\u043b\u043e\u0436\u043d\u044b\u0445 \u0444\u0438\u043a\u0441\u0442\u0443\u0440 \u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438\u0437\u0430\u0446\u0438\u0438</li> <li>\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u0441 \u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u043c\u0438 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0430\u043c\u0438</li> </ul>"},{"location":"05_unittest/#_15","title":"\ud83c\udfaf \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0448\u0430\u0433\u0438","text":"<p>\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u0438\u0437\u0443\u0447\u0438\u043c pytest \u2014 \u0431\u043e\u043b\u0435\u0435 \u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0439 \u0438 \u043c\u043e\u0449\u043d\u044b\u0439 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u0442\u0430\u043b \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043e\u043c \u0432 Python \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435.</p>"},{"location":"05_unittest/#_16","title":"\ud83e\uddea \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u0432\u043e\u0438 \u0437\u043d\u0430\u043d\u0438\u044f","text":""},{"location":"05_unittest/#_17","title":"\ud83d\udd17 \u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0442\u0435\u043c\u044b","text":"<ul> <li>\u041e\u0441\u043d\u043e\u0432\u044b \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432 Python - \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0442\u0435\u0441\u0442\u043e\u0432 \u0438 assertions</li> <li>Pytest \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a - \u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u0430 unittest</li> <li>\u0426\u0438\u043a\u043b Red-Green-Refactor - \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 unittest \u0432 TDD</li> <li>\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b - \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f unittest</li> <li>\u041b\u0443\u0447\u0448\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438 - \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438 \u043f\u043e \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u044e \u0442\u0435\u0441\u0442\u043e\u0432</li> </ul> <p>\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430: Pytest \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a</p> <p>\ud83e\uddea \u041e\u0441\u043d\u043e\u0432\u044b unittest \u043e\u0441\u0432\u043e\u0435\u043d\u044b \u2014 \u0432\u0440\u0435\u043c\u044f \u043f\u043e\u0437\u043d\u0430\u043a\u043e\u043c\u0438\u0442\u044c\u0441\u044f \u0441 pytest!</p>"},{"location":"06_pytest/","title":"Pytest: \u041c\u043e\u0449\u043d\u044b\u0439 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f","text":""},{"location":"06_pytest/#pytest_1","title":"\ud83c\udfaf \u041f\u043e\u0447\u0435\u043c\u0443 pytest?","text":"<p>Pytest \u2014 \u044d\u0442\u043e \u0434\u0435-\u0444\u0430\u043a\u0442\u043e \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432 Python \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435. \u041e\u043d \u0441\u043e\u0447\u0435\u0442\u0430\u0435\u0442 \u043f\u0440\u043e\u0441\u0442\u043e\u0442\u0443 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0441 \u043c\u043e\u0449\u043d\u044b\u043c\u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044f\u043c\u0438 \u0438 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0438\u0434\u0435\u0430\u043b\u044c\u043d\u044b\u043c \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u043c \u0434\u043b\u044f TDD.</p>"},{"location":"06_pytest/#pytest_2","title":"\u041f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430 pytest:","text":"<ul> <li>\ud83c\udfaf \u041f\u0440\u043e\u0441\u0442\u043e\u0439 \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441 \u2014 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043e\u0431\u044b\u0447\u043d\u044b\u0435 <code>assert</code></li> <li>\ud83d\udd27 \u0410\u0432\u0442\u043e\u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u043e\u0432</li> <li>\ud83c\udfd7 \u041c\u043e\u0449\u043d\u044b\u0435 fixtures \u0434\u043b\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0442\u0435\u0441\u0442\u043e\u0432</li> <li>\ud83d\udcca \u0414\u0435\u0442\u0430\u043b\u044c\u043d\u044b\u0435 \u043e\u0442\u0447\u0435\u0442\u044b \u043e \u043f\u0430\u0434\u0435\u043d\u0438\u044f\u0445</li> <li>\ud83d\udd0c \u0411\u043e\u0433\u0430\u0442\u0430\u044f \u044d\u043a\u043e\u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u043f\u043b\u0430\u0433\u0438\u043d\u043e\u0432</li> <li>\u26a1 \u041f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u043e\u0432</li> <li>\ud83d\udcc8 \u041f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u043a\u043e\u0434\u0430 \u0438\u0437 \u043a\u043e\u0440\u043e\u0431\u043a\u0438</li> </ul>"},{"location":"06_pytest/#pytest_3","title":"\ud83d\ude80 \u041d\u0430\u0447\u0430\u043b\u043e \u0440\u0430\u0431\u043e\u0442\u044b \u0441 pytest","text":""},{"location":"06_pytest/#_1","title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430","text":"<pre><code>uv add pytest\nuv add pytest-cov      # \u041f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u043a\u043e\u0434\u0430\nuv add pytest-mock     # \u041c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\nuv add pytest-xdist    # \u041f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b\n</code></pre>"},{"location":"06_pytest/#_2","title":"\u041f\u0435\u0440\u0432\u044b\u0439 \u0442\u0435\u0441\u0442","text":"<pre><code># test_hello.py\ndef test_hello_world():\n    assert \"hello\" == \"hello\"\n\ndef test_math():\n    assert 2 + 2 == 4\n</code></pre>"},{"location":"06_pytest/#_3","title":"\u0417\u0430\u043f\u0443\u0441\u043a \u0442\u0435\u0441\u0442\u043e\u0432","text":"<pre><code># \u0417\u0430\u043f\u0443\u0441\u043a \u0432\u0441\u0435\u0445 \u0442\u0435\u0441\u0442\u043e\u0432\nuv run pytest\n\n# \u041f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u0439 \u0432\u044b\u0432\u043e\u0434\nuv run pytest -v\n\n# \u041e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u043d\u0430 \u043f\u0435\u0440\u0432\u043e\u043c \u043f\u0430\u0434\u0435\u043d\u0438\u0438\nuv run pytest -x\n\n# \u0417\u0430\u043f\u0443\u0441\u043a \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430\nuv run pytest test_hello.py\n\n# \u0417\u0430\u043f\u0443\u0441\u043a \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430\nuv run pytest test_hello.py::test_math\n</code></pre>"},{"location":"06_pytest/#fixtures-pytest","title":"\ud83c\udfd7 Fixtures: \u041e\u0441\u043d\u043e\u0432\u0430 pytest","text":"<p>Fixtures \u2014 \u044d\u0442\u043e \u0444\u0443\u043d\u043a\u0446\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u044e\u0442 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438\u043b\u0438 \u0440\u0435\u0441\u0443\u0440\u0441\u044b \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u043e\u0432.</p>"},{"location":"06_pytest/#fixtures","title":"\u0411\u0430\u0437\u043e\u0432\u044b\u0435 fixtures","text":"<pre><code>import pytest\n\n@pytest.fixture\ndef sample_data():\n    \"\"\"\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435.\"\"\"\n    return {\n        \"name\": \"John Doe\",\n        \"email\": \"john@example.com\",\n        \"age\": 30\n    }\n\ndef test_user_creation(sample_data):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 fixture.\"\"\"\n    user = User(sample_data[\"name\"], sample_data[\"email\"])\n    assert user.name == sample_data[\"name\"]\n    assert user.email == sample_data[\"email\"]\n</code></pre>"},{"location":"06_pytest/#fixtures_1","title":"Fixtures \u0441 \u043e\u0447\u0438\u0441\u0442\u043a\u043e\u0439","text":"<pre><code>import tempfile\nimport shutil\n\n@pytest.fixture\ndef temp_directory():\n    \"\"\"\u0421\u043e\u0437\u0434\u0430\u0435\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e.\"\"\"\n    # Setup\n    temp_dir = tempfile.mkdtemp()\n\n    # \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c \u0440\u0435\u0441\u0443\u0440\u0441\n    yield temp_dir\n\n    # Teardown (\u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u043f\u043e\u0441\u043b\u0435 \u0442\u0435\u0441\u0442\u0430)\n    shutil.rmtree(temp_dir)\n\ndef test_file_operations(temp_directory):\n    \"\"\"\u0422\u0435\u0441\u0442 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 \u0441 \u0444\u0430\u0439\u043b\u0430\u043c\u0438.\"\"\"\n    file_path = os.path.join(temp_directory, \"test.txt\")\n\n    with open(file_path, \"w\") as f:\n        f.write(\"Hello World\")\n\n    assert os.path.exists(file_path)\n    # temp_directory \u0431\u0443\u0434\u0435\u0442 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\n</code></pre>"},{"location":"06_pytest/#scope-fixtures","title":"Scope fixtures","text":"<pre><code>@pytest.fixture(scope=\"function\")  # \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e, \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430\ndef function_fixture():\n    return \"function level\"\n\n@pytest.fixture(scope=\"class\")  # \u041e\u0434\u0438\u043d \u043d\u0430 \u0432\u0435\u0441\u044c \u043a\u043b\u0430\u0441\u0441 \u0442\u0435\u0441\u0442\u043e\u0432\ndef class_fixture():\n    return \"class level\"\n\n@pytest.fixture(scope=\"module\")  # \u041e\u0434\u0438\u043d \u043d\u0430 \u0432\u0435\u0441\u044c \u043c\u043e\u0434\u0443\u043b\u044c\ndef module_fixture():\n    return \"module level\"\n\n@pytest.fixture(scope=\"session\")  # \u041e\u0434\u0438\u043d \u043d\u0430 \u0432\u0441\u044e \u0441\u0435\u0441\u0441\u0438\u044e \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f\ndef session_fixture():\n    return \"session level\"\n</code></pre>"},{"location":"06_pytest/#fixtures_2","title":"\u0410\u0432\u0442\u043e\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0435 fixtures","text":"<pre><code>@pytest.fixture(autouse=True)\ndef reset_database():\n    \"\"\"\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043e\u0447\u0438\u0449\u0430\u0435\u0442 \u0411\u0414 \u043f\u0435\u0440\u0435\u0434 \u043a\u0430\u0436\u0434\u044b\u043c \u0442\u0435\u0441\u0442\u043e\u043c.\"\"\"\n    database.clear()\n    yield\n    database.clear()\n\n# \u042d\u0442\u043e\u0442 fixture \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\ndef test_user_creation():\n    user = create_user(\"test@example.com\")\n    assert user.id is not None\n</code></pre>"},{"location":"06_pytest/#conftestpy","title":"\ud83d\udccb \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f conftest.py","text":"<p>\u0424\u0430\u0439\u043b <code>conftest.py</code> \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043e\u0431\u0449\u0438\u0435 fixtures \u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u043e\u0432.</p> <pre><code># conftest.py\nimport pytest\nfrom myapp import create_app, db\nfrom myapp.models import User\n\n@pytest.fixture(scope=\"session\")\ndef app():\n    \"\"\"\u0421\u043e\u0437\u0434\u0430\u0435\u0442 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f.\"\"\"\n    app = create_app(testing=True)\n\n    with app.app_context():\n        db.create_all()\n        yield app\n        db.drop_all()\n\n@pytest.fixture\ndef client(app):\n    \"\"\"\u0421\u043e\u0437\u0434\u0430\u0435\u0442 \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0430.\"\"\"\n    return app.test_client()\n\n@pytest.fixture\ndef sample_user(app):\n    \"\"\"\u0421\u043e\u0437\u0434\u0430\u0435\u0442 \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0411\u0414.\"\"\"\n    with app.app_context():\n        user = User(email=\"test@example.com\", name=\"Test User\")\n        db.session.add(user)\n        db.session.commit()\n        yield user\n        db.session.delete(user)\n        db.session.commit()\n\n@pytest.fixture\ndef auth_headers(sample_user):\n    \"\"\"\u0421\u043e\u0437\u0434\u0430\u0435\u0442 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438.\"\"\"\n    token = generate_token(sample_user)\n    return {\"Authorization\": f\"Bearer {token}\"}\n</code></pre>"},{"location":"06_pytest/#_4","title":"\ud83d\udcca \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u0442\u0435\u0441\u0442\u043e\u0432","text":""},{"location":"06_pytest/#_5","title":"\u0411\u0430\u0437\u043e\u0432\u0430\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438\u0437\u0430\u0446\u0438\u044f","text":"<pre><code>import pytest\n\n@pytest.mark.parametrize(\"input,expected\", [\n    (3, 9),\n    (4, 16),\n    (5, 25),\n])\ndef test_square(input, expected):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u043a\u0432\u0430\u0434\u0440\u0430\u0442\u0430.\"\"\"\n    assert square(input) == expected\n</code></pre>"},{"location":"06_pytest/#_6","title":"\u041c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u0430\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438\u0437\u0430\u0446\u0438\u044f","text":"<pre><code>@pytest.mark.parametrize(\"base\", [2, 3, 5])\n@pytest.mark.parametrize(\"exponent\", [2, 3, 4])\ndef test_power(base, exponent):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0432\u043e\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0432 \u0441\u0442\u0435\u043f\u0435\u043d\u044c.\"\"\"\n    result = power(base, exponent)\n    expected = base ** exponent\n    assert result == expected\n</code></pre>"},{"location":"06_pytest/#pytestparam","title":"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u0441 pytest.param","text":"<pre><code>@pytest.mark.parametrize(\"test_input,expected\", [\n    pytest.param(\n        \"valid@email.com\", \n        True, \n        id=\"valid_email\"\n    ),\n    pytest.param(\n        \"invalid-email\", \n        False, \n        id=\"invalid_email\"\n    ),\n    pytest.param(\n        \"edge@case.co.uk\", \n        True, \n        id=\"complex_domain\",\n        marks=pytest.mark.slow\n    ),\n])\ndef test_email_validation(test_input, expected):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438 email.\"\"\"\n    assert is_valid_email(test_input) == expected\n</code></pre>"},{"location":"06_pytest/#fixtures_3","title":"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438\u0437\u0430\u0446\u0438\u044f fixtures","text":"<pre><code>@pytest.fixture(params=[\n    \"sqlite:///:memory:\",\n    \"postgresql://test:test@localhost/test_db\"\n])\ndef database_url(request):\n    \"\"\"\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441 \u0440\u0430\u0437\u043d\u044b\u043c\u0438 \u0411\u0414.\"\"\"\n    return request.param\n\ndef test_user_creation(database_url):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0440\u0430\u0437\u043d\u044b\u0445 \u0411\u0414.\"\"\"\n    db = Database(database_url)\n    user = db.create_user(\"test@example.com\")\n    assert user.id is not None\n</code></pre>"},{"location":"06_pytest/#markers","title":"\ud83c\udff7 \u041c\u0430\u0440\u043a\u0435\u0440\u044b (Markers)","text":"<p>\u041c\u0430\u0440\u043a\u0435\u0440\u044b \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442 \u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u0435\u0441\u0442\u044b.</p>"},{"location":"06_pytest/#_7","title":"\u0412\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u0435 \u043c\u0430\u0440\u043a\u0435\u0440\u044b","text":"<pre><code>import pytest\n\n@pytest.mark.skip(reason=\"\u041d\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043e\")\ndef test_future_feature():\n    \"\"\"\u042d\u0442\u043e\u0442 \u0442\u0435\u0441\u0442 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u043f\u0443\u0449\u0435\u043d.\"\"\"\n    pass\n\n@pytest.mark.skipif(sys.version_info &lt; (3, 12), reason=\"\u0422\u0440\u0435\u0431\u0443\u0435\u0442 Python 3.12+\")\ndef test_new_syntax():\n    \"\"\"\u041f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u043d\u0430 \u0441\u0442\u0430\u0440\u044b\u0445 \u0432\u0435\u0440\u0441\u0438\u044f\u0445 Python.\"\"\"\n    pass\n\n@pytest.mark.xfail(reason=\"\u0418\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0431\u0430\u0433\")\ndef test_known_bug():\n    \"\"\"\u0422\u0435\u0441\u0442 \u043e\u0436\u0438\u0434\u0430\u0435\u043c\u043e \u043f\u0430\u0434\u0430\u0435\u0442.\"\"\"\n    assert False\n\n@pytest.mark.xfail(strict=True)\ndef test_should_fail():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0430\u0434\u0430\u0442\u044c, \u0438\u043d\u0430\u0447\u0435 \u043e\u0448\u0438\u0431\u043a\u0430.\"\"\"\n    pass\n</code></pre>"},{"location":"06_pytest/#_8","title":"\u041a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0435 \u043c\u0430\u0440\u043a\u0435\u0440\u044b","text":"<pre><code># pytest.ini \u0438\u043b\u0438 pyproject.toml\n[tool.pytest.ini_options]\nmarkers = [\n    \"slow: \u043c\u0435\u0434\u043b\u0435\u043d\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b\",\n    \"integration: \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b\",\n    \"unit: \u043c\u043e\u0434\u0443\u043b\u044c\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b\",\n    \"api: \u0442\u0435\u0441\u0442\u044b API\",\n    \"smoke: \u0434\u044b\u043c\u043e\u0432\u044b\u0435 \u0442\u0435\u0441\u0442\u044b\"\n]\n</code></pre> <pre><code>import pytest\n\n@pytest.mark.unit\ndef test_fast_function():\n    \"\"\"\u0411\u044b\u0441\u0442\u0440\u044b\u0439 unit \u0442\u0435\u0441\u0442.\"\"\"\n    assert add(2, 3) == 5\n\n@pytest.mark.slow\n@pytest.mark.integration  \ndef test_database_connection():\n    \"\"\"\u041c\u0435\u0434\u043b\u0435\u043d\u043d\u044b\u0439 \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u0442\u0435\u0441\u0442.\"\"\"\n    db = connect_to_database()\n    assert db.is_connected()\n\n@pytest.mark.api\ndef test_user_endpoint():\n    \"\"\"\u0422\u0435\u0441\u0442 API endpoint.\"\"\"\n    response = client.get(\"/api/users\")\n    assert response.status_code == 200\n</code></pre>"},{"location":"06_pytest/#_9","title":"\u0417\u0430\u043f\u0443\u0441\u043a \u0442\u0435\u0441\u0442\u043e\u0432 \u043f\u043e \u043c\u0430\u0440\u043a\u0435\u0440\u0430\u043c","text":"<pre><code># \u0422\u043e\u043b\u044c\u043a\u043e unit \u0442\u0435\u0441\u0442\u044b\nuv run pytest -m unit\n\n# \u0418\u0441\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043c\u0435\u0434\u043b\u0435\u043d\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b\nuv run pytest -m \"not slow\"\n\n# \u041a\u043e\u043c\u0431\u0438\u043d\u0430\u0446\u0438\u044f \u043c\u0430\u0440\u043a\u0435\u0440\u043e\u0432\nuv run pytest -m \"unit and not slow\"\n\n# API \u0442\u0435\u0441\u0442\u044b \u0438\u043b\u0438 \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435\nuv run pytest -m \"api or integration\"\n</code></pre>"},{"location":"06_pytest/#pytest_4","title":"\ud83d\udd27 \u041f\u043b\u0430\u0433\u0438\u043d\u044b pytest","text":""},{"location":"06_pytest/#pytest-cov","title":"pytest-cov: \u041f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u043a\u043e\u0434\u0430","text":"<pre><code>uv add pytest-cov\n\n# \u0417\u0430\u043f\u0443\u0441\u043a \u0441 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0435\u043c\nuv run pytest --cov=src\n\n# HTML \u043e\u0442\u0447\u0435\u0442\nuv run pytest --cov=src --cov-report=html\n\n# \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u043f\u0440\u043e\u0446\u0435\u043d\u0442 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f\nuv run pytest --cov=src --cov-fail-under=90\n</code></pre>"},{"location":"06_pytest/#pytest-mock","title":"pytest-mock: \u041c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","text":"<pre><code>uv add pytest-mock\n</code></pre> <pre><code>def test_api_call(mocker):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c API \u0432\u044b\u0437\u043e\u0432\u0430.\"\"\"\n    # \u041c\u043e\u043a\u0438\u0440\u0443\u0435\u043c \u0432\u043d\u0435\u0448\u043d\u0438\u0439 API\n    mock_response = mocker.Mock()\n    mock_response.json.return_value = {\"status\": \"success\"}\n    mock_response.status_code = 200\n\n    mocker.patch(\"requests.get\", return_value=mock_response)\n\n    # \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c \u043d\u0430\u0448\u0443 \u0444\u0443\u043d\u043a\u0446\u0438\u044e\n    result = fetch_user_data(\"123\")\n    assert result[\"status\"] == \"success\"\n\ndef test_database_save(mocker):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0411\u0414.\"\"\"\n    mock_db = mocker.patch(\"myapp.database.save\")\n\n    user = User(\"test@example.com\")\n    user.save()\n\n    mock_db.assert_called_once_with(user)\n</code></pre>"},{"location":"06_pytest/#pytest-xdist","title":"pytest-xdist: \u041f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b","text":"<pre><code>uv add pytest-xdist\n\n# \u0417\u0430\u043f\u0443\u0441\u043a \u0432 4 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430\nuv run pytest -n 4\n\n# \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0432\u044b\u0431\u043e\u0440 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0432\nuv run pytest -n auto\n</code></pre>"},{"location":"06_pytest/#pytest-benchmark","title":"pytest-benchmark: \u0422\u0435\u0441\u0442\u044b \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438","text":"<pre><code>uv add pytest-benchmark\n</code></pre> <pre><code>def test_sorting_performance(benchmark):\n    \"\"\"\u0422\u0435\u0441\u0442 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438.\"\"\"\n    data = list(range(1000, 0, -1))\n\n    result = benchmark(sorted, data)\n\n    assert result == list(range(1, 1001))\n\ndef test_custom_function_performance(benchmark):\n    \"\"\"\u0422\u0435\u0441\u0442 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438.\"\"\"\n    @benchmark\n    def complex_calculation():\n        return sum(i**2 for i in range(1000))\n\n    result = complex_calculation\n    assert result &gt; 0\n</code></pre>"},{"location":"06_pytest/#_10","title":"\ud83d\udd0d \u041e\u0442\u043b\u0430\u0434\u043a\u0430 \u0438 \u0430\u043d\u0430\u043b\u0438\u0437","text":""},{"location":"06_pytest/#_11","title":"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u0430\u0434\u0435\u043d\u0438\u044f\u0445","text":"<pre><code># \u041f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u0439 traceback\nuv run pytest --tb=long\n\n# \u041a\u043e\u0440\u043e\u0442\u043a\u0438\u0439 traceback\nuv run pytest --tb=short\n\n# \u0422\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0441\u0442\u0440\u043e\u043a\u0430\nuv run pytest --tb=line\n\n# \u0411\u0435\u0437 traceback\nuv run pytest --tb=no\n</code></pre>"},{"location":"06_pytest/#pdb","title":"\u041e\u0442\u043b\u0430\u0434\u043a\u0430 \u0441 pdb","text":"<pre><code>def test_complex_logic():\n    data = prepare_data()\n\n    # \u0422\u043e\u0447\u043a\u0430 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0430\n    import pdb; pdb.set_trace()\n\n    result = process_data(data)\n    assert result is not None\n</code></pre> <pre><code># \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 pdb \u043f\u0440\u0438 \u043f\u0430\u0434\u0435\u043d\u0438\u0438\nuv run pytest --pdb\n\n# pdb \u043f\u0440\u0438 \u043f\u0435\u0440\u0432\u043e\u043c \u043f\u0430\u0434\u0435\u043d\u0438\u0438\nuv run pytest -x --pdb\n</code></pre>"},{"location":"06_pytest/#print-statements","title":"\u0412\u044b\u0432\u043e\u0434 print statements","text":"<pre><code># \u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c print \u0434\u0430\u0436\u0435 \u0432 \u043f\u0440\u043e\u0448\u0435\u0434\u0448\u0438\u0445 \u0442\u0435\u0441\u0442\u0430\u0445\nuv run pytest -s\n\n# \u0417\u0430\u0445\u0432\u0430\u0442 \u0432\u044b\u0432\u043e\u0434\u0430\nuv run pytest --capture=no\n</code></pre>"},{"location":"06_pytest/#_12","title":"\ud83d\udcc8 \u0410\u043d\u0430\u043b\u0438\u0437 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438","text":""},{"location":"06_pytest/#_13","title":"\u0412\u0440\u0435\u043c\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0442\u0435\u0441\u0442\u043e\u0432","text":"<pre><code># \u0422\u043e\u043f 10 \u0441\u0430\u043c\u044b\u0445 \u043c\u0435\u0434\u043b\u0435\u043d\u043d\u044b\u0445 \u0442\u0435\u0441\u0442\u043e\u0432\nuv run pytest --durations=10\n\n# \u0412\u0441\u0435 \u0442\u0435\u0441\u0442\u044b \u0441 \u0432\u0440\u0435\u043c\u0435\u043d\u0435\u043c\nuv run pytest --durations=0\n</code></pre>"},{"location":"06_pytest/#_14","title":"\u041f\u0440\u043e\u0444\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u043e\u0432","text":"<pre><code>import pytest\nimport cProfile\n\ndef test_with_profiling():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441 \u043f\u0440\u043e\u0444\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c.\"\"\"\n    profiler = cProfile.Profile()\n    profiler.enable()\n\n    # \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c\u044b\u0439 \u043a\u043e\u0434\n    result = expensive_function()\n\n    profiler.disable()\n    profiler.dump_stats(\"test_profile.prof\")\n\n    assert result is not None\n</code></pre>"},{"location":"06_pytest/#api","title":"\ud83c\udfaf \u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043f\u0440\u0438\u043c\u0435\u0440: API \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","text":"<pre><code># conftest.py\nimport pytest\nfrom myapp import create_app\n\n@pytest.fixture(scope=\"session\")\ndef app():\n    app = create_app(testing=True)\n    yield app\n\n@pytest.fixture\ndef client(app):\n    return app.test_client()\n\n@pytest.fixture\ndef auth_token(client):\n    response = client.post(\"/auth/login\", json={\n        \"email\": \"test@example.com\",\n        \"password\": \"password\"\n    })\n    return response.json[\"token\"]\n\n@pytest.fixture\ndef auth_headers(auth_token):\n    return {\"Authorization\": f\"Bearer {auth_token}\"}\n</code></pre> <pre><code># test_api.py\nimport pytest\n\nclass TestUserAPI:\n    \"\"\"\u0422\u0435\u0441\u0442\u044b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e API.\"\"\"\n\n    def test_get_users_unauthorized(self, client):\n        \"\"\"\u0417\u0430\u043f\u0440\u043e\u0441 \u0431\u0435\u0437 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 401.\"\"\"\n        response = client.get(\"/api/users\")\n        assert response.status_code == 401\n\n    def test_get_users_authorized(self, client, auth_headers):\n        \"\"\"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439.\"\"\"\n        response = client.get(\"/api/users\", headers=auth_headers)\n\n        assert response.status_code == 200\n        assert \"users\" in response.json\n        assert isinstance(response.json[\"users\"], list)\n\n    @pytest.mark.parametrize(\"email,expected_status\", [\n        (\"valid@email.com\", 201),\n        (\"invalid-email\", 400),\n        (\"\", 400),\n    ])\n    def test_create_user(self, client, auth_headers, email, expected_status):\n        \"\"\"\u0422\u0435\u0441\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 \u0440\u0430\u0437\u043d\u044b\u043c\u0438 email.\"\"\"\n        response = client.post(\"/api/users\", \n                             headers=auth_headers,\n                             json={\"email\": email, \"name\": \"Test User\"})\n\n        assert response.status_code == expected_status\n\n    @pytest.mark.integration\n    def test_user_lifecycle(self, client, auth_headers):\n        \"\"\"\u041f\u043e\u043b\u043d\u044b\u0439 \u0436\u0438\u0437\u043d\u0435\u043d\u043d\u044b\u0439 \u0446\u0438\u043a\u043b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n        # \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435\n        create_response = client.post(\"/api/users\",\n                                    headers=auth_headers,\n                                    json={\"email\": \"lifecycle@test.com\", \n                                         \"name\": \"Lifecycle User\"})\n        assert create_response.status_code == 201\n        user_id = create_response.json[\"id\"]\n\n        # \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435\n        get_response = client.get(f\"/api/users/{user_id}\",\n                                headers=auth_headers)\n        assert get_response.status_code == 200\n        assert get_response.json[\"email\"] == \"lifecycle@test.com\"\n\n        # \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435\n        update_response = client.put(f\"/api/users/{user_id}\",\n                                   headers=auth_headers,\n                                   json={\"name\": \"Updated Name\"})\n        assert update_response.status_code == 200\n\n        # \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435\n        delete_response = client.delete(f\"/api/users/{user_id}\",\n                                      headers=auth_headers)\n        assert delete_response.status_code == 204\n\n        # \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f\n        final_get = client.get(f\"/api/users/{user_id}\",\n                             headers=auth_headers)\n        assert final_get.status_code == 404\n</code></pre>"},{"location":"06_pytest/#_15","title":"\ud83c\udfaf \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0448\u0430\u0433\u0438","text":"<p>\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u0438\u0437\u0443\u0447\u0438\u043c \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b TDD \u0438 \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432 \u0441 \u043d\u0443\u043b\u044f, \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u044f \u0432\u0441\u0435 \u0438\u0437\u0443\u0447\u0435\u043d\u043d\u044b\u0435 \u0442\u0435\u0445\u043d\u0438\u043a\u0438.</p>"},{"location":"06_pytest/#_16","title":"\ud83d\udca1 \u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0432\u044b\u0432\u043e\u0434\u044b","text":"<ol> <li>Pytest \u2014 \u043c\u043e\u0449\u043d\u044b\u0439 \u0438 \u0433\u0438\u0431\u043a\u0438\u0439 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a</li> <li>Fixtures \u2014 \u043e\u0441\u043d\u043e\u0432\u0430 \u043f\u0435\u0440\u0435\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0445 \u0442\u0435\u0441\u0442\u043e\u0432</li> <li>\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u0438\u0437\u0431\u0430\u0432\u043b\u044f\u0435\u0442 \u043e\u0442 \u0434\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f</li> <li>\u041c\u0430\u0440\u043a\u0435\u0440\u044b \u043f\u043e\u043c\u043e\u0433\u0430\u044e\u0442 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0442\u0435\u0441\u0442\u044b</li> <li>\u041f\u043b\u0430\u0433\u0438\u043d\u044b \u0440\u0430\u0441\u0448\u0438\u0440\u044f\u044e\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 pytest</li> </ol>"},{"location":"06_pytest/#_17","title":"\ud83e\uddea \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u0432\u043e\u0438 \u0437\u043d\u0430\u043d\u0438\u044f","text":""},{"location":"06_pytest/#_18","title":"\ud83d\udd17 \u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0442\u0435\u043c\u044b","text":"<ul> <li>\u041e\u0441\u043d\u043e\u0432\u044b \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432 Python - \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0442\u0435\u0441\u0442\u043e\u0432 \u0438 assertions</li> <li>Unittest \u043c\u043e\u0434\u0443\u043b\u044c - \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u0441 pytest</li> <li>\u0426\u0438\u043a\u043b Red-Green-Refactor - \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 pytest \u0432 TDD</li> <li>\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b - \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b \u0441 pytest</li> <li>Mock \u043e\u0431\u044a\u0435\u043a\u0442\u044b - \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043c\u043e\u043a\u043e\u0432 \u0441 pytest</li> <li>\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 - pytest \u0434\u043b\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0442\u0435\u0441\u0442\u043e\u0432</li> <li>\u041b\u0443\u0447\u0448\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438 - \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438 \u043f\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044e pytest</li> </ul> <p>\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430: \u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b TDD</p> <p>\u26a1 \u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u043e\u0441\u0432\u043e\u0435\u043d\u044b \u2014 \u043f\u043e\u0440\u0430 \u043a \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0435!</p>"},{"location":"07_practical_examples/","title":"\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b TDD","text":""},{"location":"07_practical_examples/#_1","title":"\ud83c\udfaf \u0426\u0435\u043b\u0438 \u0433\u043b\u0430\u0432\u044b","text":"<p>\u0412 \u044d\u0442\u043e\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043c \u0432\u0441\u0435 \u0438\u0437\u0443\u0447\u0435\u043d\u043d\u044b\u0435 \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u044b TDD \u043d\u0430 \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u043f\u0440\u0438\u043c\u0435\u0440\u0430\u0445. \u041c\u044b \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432 \u0441 \u043d\u0443\u043b\u044f, \u0441\u043b\u0435\u0434\u0443\u044f \u0446\u0438\u043a\u043b\u0443 Red-Green-Refactor \u0438 \u0434\u0435\u043c\u043e\u043d\u0441\u0442\u0440\u0438\u0440\u0443\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u0442\u0435\u0445\u043d\u0438\u043a\u0438 \u0438 \u043f\u0430\u0442\u0442\u0435\u0440\u043d\u044b.</p> <p>\u041f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0437\u043d\u0430\u043d\u0438\u044f</p> <p>\u041f\u0435\u0440\u0435\u0434 \u0438\u0437\u0443\u0447\u0435\u043d\u0438\u0435\u043c \u044d\u0442\u043e\u0439 \u0433\u043b\u0430\u0432\u044b \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043e\u0441\u0432\u043e\u0438\u0442\u044c: - \u0426\u0438\u043a\u043b Red-Green-Refactor - \u041e\u0441\u043d\u043e\u0432\u044b \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432 Python - Pytest \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a</p>"},{"location":"07_practical_examples/#1","title":"\ud83c\udfe6 \u041f\u0440\u043e\u0435\u043a\u0442 1: \u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430","text":"<p>\u0421\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u043f\u0440\u043e\u0441\u0442\u0443\u044e \u0431\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0443\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u0443, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0441\u0442\u0440\u043e\u0433\u0438\u0439 TDD \u043f\u043e\u0434\u0445\u043e\u0434.</p>"},{"location":"07_practical_examples/#_2","title":"\u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f:","text":"<ul> <li>\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u043e\u0433\u043e \u0441\u0447\u0435\u0442\u0430</li> <li>\u041f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0438 \u0441\u043d\u044f\u0442\u0438\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432</li> <li>\u041f\u0435\u0440\u0435\u0432\u043e\u0434 \u043c\u0435\u0436\u0434\u0443 \u0441\u0447\u0435\u0442\u0430\u043c\u0438</li> <li>\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439</li> <li>\u0420\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u0442\u0438\u043f\u044b \u0441\u0447\u0435\u0442\u043e\u0432</li> </ul>"},{"location":"07_practical_examples/#1_1","title":"\u0418\u0442\u0435\u0440\u0430\u0446\u0438\u044f 1: \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0447\u0435\u0442\u0430","text":""},{"location":"07_practical_examples/#red","title":"\ud83d\udd34 RED: \u041f\u0435\u0440\u0432\u044b\u0439 \u0442\u0435\u0441\u0442","text":"<pre><code># test_bank_account.py\nimport pytest\nfrom decimal import Decimal\n\ndef test_new_account_has_zero_balance():\n    \"\"\"\u041d\u043e\u0432\u044b\u0439 \u0441\u0447\u0435\u0442 \u0438\u043c\u0435\u0435\u0442 \u043d\u0443\u043b\u0435\u0432\u043e\u0439 \u0431\u0430\u043b\u0430\u043d\u0441.\"\"\"\n    account = BankAccount(\"ACC123\")  # \u041a\u043b\u0430\u0441\u0441\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442!\n    assert account.balance == Decimal(\"0.00\")\n</code></pre>"},{"location":"07_practical_examples/#green","title":"\ud83d\udfe2 GREEN: \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f","text":"<pre><code># bank_account.py\nfrom decimal import Decimal\n\nclass BankAccount:\n    def __init__(self, account_number: str):\n        self.account_number = account_number\n        self.balance = Decimal(\"0.00\")\n</code></pre>"},{"location":"07_practical_examples/#refactor","title":"\ud83d\udd35 REFACTOR: \u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f","text":"<pre><code>from decimal import Decimal\nfrom typing import Union\n\nMoneyType = Union[int, float, str, Decimal]\n\nclass BankAccount:\n    \"\"\"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0441\u0447\u0435\u0442 \u0441 \u0431\u0430\u0437\u043e\u0432\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c\u044e.\"\"\"\n\n    def __init__(self, account_number: str):\n        if not account_number:\n            raise ValueError(\"Account number cannot be empty\")\n        self._account_number = account_number\n        self._balance = Decimal(\"0.00\")\n\n    @property\n    def account_number(self) -&gt; str:\n        return self._account_number\n\n    @property \n    def balance(self) -&gt; Decimal:\n        return self._balance\n</code></pre>"},{"location":"07_practical_examples/#2","title":"\u0418\u0442\u0435\u0440\u0430\u0446\u0438\u044f 2: \u041f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0441\u0447\u0435\u0442\u0430","text":""},{"location":"07_practical_examples/#red_1","title":"\ud83d\udd34 RED","text":"<pre><code>def test_deposit_positive_amount():\n    \"\"\"\u041f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0441\u0447\u0435\u0442\u0430 \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0441\u0443\u043c\u043c\u043e\u0439.\"\"\"\n    account = BankAccount(\"ACC123\")\n    account.deposit(Decimal(\"100.00\"))  # \u041c\u0435\u0442\u043e\u0434\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442!\n    assert account.balance == Decimal(\"100.00\")\n</code></pre>"},{"location":"07_practical_examples/#green_1","title":"\ud83d\udfe2 GREEN","text":"<pre><code>class BankAccount:\n    # ... \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u043a\u043e\u0434 ...\n\n    def deposit(self, amount: MoneyType) -&gt; None:\n        self._balance += Decimal(str(amount))\n</code></pre>"},{"location":"07_practical_examples/#red_2","title":"\ud83d\udd34 RED: \u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f","text":"<pre><code>def test_deposit_negative_amount_raises_error():\n    \"\"\"\u041f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0441\u0443\u043c\u043c\u043e\u0439 \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0443.\"\"\"\n    account = BankAccount(\"ACC123\")\n    with pytest.raises(ValueError, match=\"Amount must be positive\"):\n        account.deposit(Decimal(\"-10.00\"))\n\ndef test_deposit_zero_raises_error():\n    \"\"\"\u041f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043d\u0443\u043b\u0435\u0432\u043e\u0439 \u0441\u0443\u043c\u043c\u043e\u0439 \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0443.\"\"\"\n    account = BankAccount(\"ACC123\")\n    with pytest.raises(ValueError, match=\"Amount must be positive\"):\n        account.deposit(Decimal(\"0.00\"))\n</code></pre>"},{"location":"07_practical_examples/#green_2","title":"\ud83d\udfe2 GREEN: \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044e","text":"<pre><code>class BankAccount:\n    # ... \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u043a\u043e\u0434 ...\n\n    def deposit(self, amount: MoneyType) -&gt; None:\n        amount_decimal = Decimal(str(amount))\n        if amount_decimal &lt;= 0:\n            raise ValueError(\"Amount must be positive\")\n        self._balance += amount_decimal\n</code></pre>"},{"location":"07_practical_examples/#3","title":"\u0418\u0442\u0435\u0440\u0430\u0446\u0438\u044f 3: \u0421\u043d\u044f\u0442\u0438\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432","text":""},{"location":"07_practical_examples/#red_3","title":"\ud83d\udd34 RED","text":"<pre><code>def test_withdraw_valid_amount():\n    \"\"\"\u0421\u043d\u044f\u0442\u0438\u0435 \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e\u0439 \u0441\u0443\u043c\u043c\u044b.\"\"\"\n    account = BankAccount(\"ACC123\")\n    account.deposit(Decimal(\"100.00\"))\n    account.withdraw(Decimal(\"30.00\"))  # \u041c\u0435\u0442\u043e\u0434\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442!\n    assert account.balance == Decimal(\"70.00\")\n\ndef test_withdraw_more_than_balance_raises_error():\n    \"\"\"\u0421\u043d\u044f\u0442\u0438\u0435 \u0441\u0443\u043c\u043c\u044b \u0431\u043e\u043b\u044c\u0448\u0435 \u0431\u0430\u043b\u0430\u043d\u0441\u0430 \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0443.\"\"\"\n    account = BankAccount(\"ACC123\")\n    account.deposit(Decimal(\"50.00\"))\n    with pytest.raises(ValueError, match=\"Insufficient funds\"):\n        account.withdraw(Decimal(\"100.00\"))\n</code></pre>"},{"location":"07_practical_examples/#green_3","title":"\ud83d\udfe2 GREEN","text":"<pre><code>class BankAccount:\n    # ... \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u043a\u043e\u0434 ...\n\n    def withdraw(self, amount: MoneyType) -&gt; None:\n        amount_decimal = Decimal(str(amount))\n        if amount_decimal &lt;= 0:\n            raise ValueError(\"Amount must be positive\")\n        if amount_decimal &gt; self._balance:\n            raise ValueError(\"Insufficient funds\")\n        self._balance -= amount_decimal\n</code></pre>"},{"location":"07_practical_examples/#refactor_1","title":"\ud83d\udd35 REFACTOR: \u0418\u0437\u0432\u043b\u0435\u0447\u0435\u043d\u0438\u0435 \u043e\u0431\u0449\u0435\u0439 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438","text":"<pre><code>class BankAccount:\n    \"\"\"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0441\u0447\u0435\u0442 \u0441 \u0431\u0430\u0437\u043e\u0432\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c\u044e.\"\"\"\n\n    def __init__(self, account_number: str):\n        if not account_number:\n            raise ValueError(\"Account number cannot be empty\")\n        self._account_number = account_number\n        self._balance = Decimal(\"0.00\")\n\n    @property\n    def account_number(self) -&gt; str:\n        return self._account_number\n\n    @property \n    def balance(self) -&gt; Decimal:\n        return self._balance\n\n    def deposit(self, amount: MoneyType) -&gt; None:\n        \"\"\"\u041f\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0441\u0447\u0435\u0442.\"\"\"\n        amount_decimal = self._validate_amount(amount)\n        self._balance += amount_decimal\n\n    def withdraw(self, amount: MoneyType) -&gt; None:\n        \"\"\"\u0421\u043d\u044f\u0442\u044c \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430 \u0441\u043e \u0441\u0447\u0435\u0442\u0430.\"\"\"\n        amount_decimal = self._validate_amount(amount)\n        if amount_decimal &gt; self._balance:\n            raise ValueError(\"Insufficient funds\")\n        self._balance -= amount_decimal\n\n    def _validate_amount(self, amount: MoneyType) -&gt; Decimal:\n        \"\"\"\u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f \u0441\u0443\u043c\u043c\u044b \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438.\"\"\"\n        amount_decimal = Decimal(str(amount))\n        if amount_decimal &lt;= 0:\n            raise ValueError(\"Amount must be positive\")\n        return amount_decimal\n</code></pre>"},{"location":"07_practical_examples/#4","title":"\u0418\u0442\u0435\u0440\u0430\u0446\u0438\u044f 4: \u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439","text":""},{"location":"07_practical_examples/#red_4","title":"\ud83d\udd34 RED","text":"<pre><code>from datetime import datetime\n\ndef test_new_account_has_empty_transaction_history():\n    \"\"\"\u041d\u043e\u0432\u044b\u0439 \u0441\u0447\u0435\u0442 \u0438\u043c\u0435\u0435\u0442 \u043f\u0443\u0441\u0442\u0443\u044e \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439.\"\"\"\n    account = BankAccount(\"ACC123\")\n    assert len(account.transaction_history) == 0  # \u0421\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442!\n\ndef test_deposit_creates_transaction_record():\n    \"\"\"\u041f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0441\u043e\u0437\u0434\u0430\u0435\u0442 \u0437\u0430\u043f\u0438\u0441\u044c \u0432 \u0438\u0441\u0442\u043e\u0440\u0438\u0438.\"\"\"\n    account = BankAccount(\"ACC123\")\n    account.deposit(Decimal(\"100.00\"))\n\n    history = account.transaction_history\n    assert len(history) == 1\n    assert history[0].amount == Decimal(\"100.00\")\n    assert history[0].type == \"deposit\"\n    assert isinstance(history[0].timestamp, datetime)\n</code></pre>"},{"location":"07_practical_examples/#green-transaction","title":"\ud83d\udfe2 GREEN: \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c Transaction \u0438 \u0438\u0441\u0442\u043e\u0440\u0438\u044e","text":"<pre><code>from dataclasses import dataclass\nfrom datetime import datetime\nfrom typing import List\n\n@dataclass\nclass Transaction:\n    \"\"\"\u0417\u0430\u043f\u0438\u0441\u044c \u043e \u0431\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u043e\u0439 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438.\"\"\"\n    amount: Decimal\n    type: str\n    timestamp: datetime\n    balance_after: Decimal\n\nclass BankAccount:\n    \"\"\"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0441\u0447\u0435\u0442 \u0441 \u0431\u0430\u0437\u043e\u0432\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c\u044e.\"\"\"\n\n    def __init__(self, account_number: str):\n        if not account_number:\n            raise ValueError(\"Account number cannot be empty\")\n        self._account_number = account_number\n        self._balance = Decimal(\"0.00\")\n        self._transactions: List[Transaction] = []\n\n    @property\n    def transaction_history(self) -&gt; List[Transaction]:\n        return self._transactions.copy()  # \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c \u043a\u043e\u043f\u0438\u044e\n\n    def deposit(self, amount: MoneyType) -&gt; None:\n        \"\"\"\u041f\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0441\u0447\u0435\u0442.\"\"\"\n        amount_decimal = self._validate_amount(amount)\n        self._balance += amount_decimal\n        self._add_transaction(amount_decimal, \"deposit\")\n\n    def withdraw(self, amount: MoneyType) -&gt; None:\n        \"\"\"\u0421\u043d\u044f\u0442\u044c \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430 \u0441\u043e \u0441\u0447\u0435\u0442\u0430.\"\"\"\n        amount_decimal = self._validate_amount(amount)\n        if amount_decimal &gt; self._balance:\n            raise ValueError(\"Insufficient funds\")\n        self._balance -= amount_decimal\n        self._add_transaction(amount_decimal, \"withdrawal\")\n\n    def _add_transaction(self, amount: Decimal, transaction_type: str) -&gt; None:\n        \"\"\"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c \u043e \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438.\"\"\"\n        transaction = Transaction(\n            amount=amount,\n            type=transaction_type,\n            timestamp=datetime.now(),\n            balance_after=self._balance\n        )\n        self._transactions.append(transaction)\n\n    # ... \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0435 \u043c\u0435\u0442\u043e\u0434\u044b ...\n</code></pre>"},{"location":"07_practical_examples/#5","title":"\u0418\u0442\u0435\u0440\u0430\u0446\u0438\u044f 5: \u041f\u0435\u0440\u0435\u0432\u043e\u0434\u044b \u043c\u0435\u0436\u0434\u0443 \u0441\u0447\u0435\u0442\u0430\u043c\u0438","text":""},{"location":"07_practical_examples/#red_5","title":"\ud83d\udd34 RED","text":"<pre><code>def test_transfer_between_accounts():\n    \"\"\"\u041f\u0435\u0440\u0435\u0432\u043e\u0434 \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u043c\u0435\u0436\u0434\u0443 \u0441\u0447\u0435\u0442\u0430\u043c\u0438.\"\"\"\n    from_account = BankAccount(\"ACC123\")\n    to_account = BankAccount(\"ACC456\")\n\n    from_account.deposit(Decimal(\"100.00\"))\n    from_account.transfer(Decimal(\"30.00\"), to_account)  # \u041c\u0435\u0442\u043e\u0434\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442!\n\n    assert from_account.balance == Decimal(\"70.00\")\n    assert to_account.balance == Decimal(\"30.00\")\n\ndef test_transfer_to_same_account_raises_error():\n    \"\"\"\u041f\u0435\u0440\u0435\u0432\u043e\u0434 \u043d\u0430 \u0442\u043e\u0442 \u0436\u0435 \u0441\u0447\u0435\u0442 \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0443.\"\"\"\n    account = BankAccount(\"ACC123\")\n    account.deposit(Decimal(\"100.00\"))\n\n    with pytest.raises(ValueError, match=\"Cannot transfer to the same account\"):\n        account.transfer(Decimal(\"30.00\"), account)\n</code></pre>"},{"location":"07_practical_examples/#green_4","title":"\ud83d\udfe2 GREEN","text":"<pre><code>class BankAccount:\n    # ... \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u043a\u043e\u0434 ...\n\n    def transfer(self, amount: MoneyType, to_account: 'BankAccount') -&gt; None:\n        \"\"\"\u041f\u0435\u0440\u0435\u0432\u0435\u0441\u0442\u0438 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430 \u043d\u0430 \u0434\u0440\u0443\u0433\u043e\u0439 \u0441\u0447\u0435\u0442.\"\"\"\n        if to_account is self:\n            raise ValueError(\"Cannot transfer to the same account\")\n\n        amount_decimal = self._validate_amount(amount)\n        if amount_decimal &gt; self._balance:\n            raise ValueError(\"Insufficient funds\")\n\n        # \u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u043f\u0435\u0440\u0435\u0432\u043e\u0434\n        self._balance -= amount_decimal\n        to_account._balance += amount_decimal\n\n        # \u0417\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u043c \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438\n        self._add_transaction(amount_decimal, f\"transfer_out_to_{to_account.account_number}\")\n        to_account._add_transaction(amount_decimal, f\"transfer_in_from_{self.account_number}\")\n</code></pre>"},{"location":"07_practical_examples/#2_1","title":"\ud83d\uded2 \u041f\u0440\u043e\u0435\u043a\u0442 2: \u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u043a\u043e\u0440\u0437\u0438\u043d\u044b \u043f\u043e\u043a\u0443\u043f\u043e\u043a","text":"<p>\u0421\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u043a\u043e\u0440\u0437\u0438\u043d\u044b \u043f\u043e\u043a\u0443\u043f\u043e\u043a \u0434\u043b\u044f \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0430.</p>"},{"location":"07_practical_examples/#_3","title":"\u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f:","text":"<ul> <li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443</li> <li>\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u043e\u0432</li> <li>\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u043e\u0431\u0449\u0435\u0439 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438</li> <li>\u041f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u043a\u0438\u0434\u043e\u043a</li> <li>\u0420\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u0442\u0438\u043f\u044b \u0442\u043e\u0432\u0430\u0440\u043e\u0432</li> </ul>"},{"location":"07_practical_examples/#1_2","title":"\u0418\u0442\u0435\u0440\u0430\u0446\u0438\u044f 1: \u0422\u043e\u0432\u0430\u0440 \u0438 \u043a\u043e\u0440\u0437\u0438\u043d\u0430","text":""},{"location":"07_practical_examples/#red_6","title":"\ud83d\udd34 RED","text":"<pre><code># test_shopping_cart.py\ndef test_create_empty_cart():\n    \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0443\u0441\u0442\u043e\u0439 \u043a\u043e\u0440\u0437\u0438\u043d\u044b.\"\"\"\n    cart = ShoppingCart()  # \u041a\u043b\u0430\u0441\u0441\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442!\n    assert cart.is_empty() == True\n    assert cart.total_items == 0\n\ndef test_create_product():\n    \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430.\"\"\"\n    product = Product(\"Laptop\", Decimal(\"999.99\"))  # \u041a\u043b\u0430\u0441\u0441\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442!\n    assert product.name == \"Laptop\"\n    assert product.price == Decimal(\"999.99\")\n</code></pre>"},{"location":"07_practical_examples/#green_5","title":"\ud83d\udfe2 GREEN","text":"<pre><code># shopping_cart.py\nfrom decimal import Decimal\n\nclass Product:\n    \"\"\"\u0422\u043e\u0432\u0430\u0440 \u0432 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0435.\"\"\"\n\n    def __init__(self, name: str, price: Decimal):\n        self.name = name\n        self.price = price\n\nclass ShoppingCart:\n    \"\"\"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u043e\u043a\u0443\u043f\u043e\u043a.\"\"\"\n\n    def __init__(self):\n        self._items = []\n\n    def is_empty(self) -&gt; bool:\n        return len(self._items) == 0\n\n    @property\n    def total_items(self) -&gt; int:\n        return len(self._items)\n</code></pre>"},{"location":"07_practical_examples/#2_2","title":"\u0418\u0442\u0435\u0440\u0430\u0446\u0438\u044f 2: \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u043e\u0432","text":""},{"location":"07_practical_examples/#red_7","title":"\ud83d\udd34 RED","text":"<pre><code>def test_add_product_to_cart():\n    \"\"\"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443.\"\"\"\n    cart = ShoppingCart()\n    product = Product(\"Laptop\", Decimal(\"999.99\"))\n\n    cart.add_item(product)  # \u041c\u0435\u0442\u043e\u0434\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442!\n\n    assert cart.is_empty() == False\n    assert cart.total_items == 1\n\ndef test_add_multiple_same_products():\n    \"\"\"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u0445 \u0442\u043e\u0432\u0430\u0440\u043e\u0432.\"\"\"\n    cart = ShoppingCart()\n    product = Product(\"Laptop\", Decimal(\"999.99\"))\n\n    cart.add_item(product, quantity=2)\n\n    assert cart.total_items == 2\n    assert cart.get_item_quantity(product) == 2  # \u041c\u0435\u0442\u043e\u0434\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442!\n</code></pre>"},{"location":"07_practical_examples/#green_6","title":"\ud83d\udfe2 GREEN","text":"<pre><code>from typing import Dict\n\nclass ShoppingCart:\n    \"\"\"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u043e\u043a\u0443\u043f\u043e\u043a.\"\"\"\n\n    def __init__(self):\n        self._items: Dict[Product, int] = {}\n\n    def is_empty(self) -&gt; bool:\n        return len(self._items) == 0\n\n    @property\n    def total_items(self) -&gt; int:\n        return sum(self._items.values())\n\n    def add_item(self, product: Product, quantity: int = 1) -&gt; None:\n        \"\"\"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443.\"\"\"\n        if quantity &lt;= 0:\n            raise ValueError(\"Quantity must be positive\")\n\n        if product in self._items:\n            self._items[product] += quantity\n        else:\n            self._items[product] = quantity\n\n    def get_item_quantity(self, product: Product) -&gt; int:\n        \"\"\"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0442\u043e\u0432\u0430\u0440\u0430 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0435.\"\"\"\n        return self._items.get(product, 0)\n</code></pre>"},{"location":"07_practical_examples/#3_1","title":"\u0418\u0442\u0435\u0440\u0430\u0446\u0438\u044f 3: \u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438","text":""},{"location":"07_practical_examples/#red_8","title":"\ud83d\udd34 RED","text":"<pre><code>def test_calculate_total_price():\n    \"\"\"\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u043e\u0431\u0449\u0435\u0439 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438 \u043a\u043e\u0440\u0437\u0438\u043d\u044b.\"\"\"\n    cart = ShoppingCart()\n    laptop = Product(\"Laptop\", Decimal(\"999.99\"))\n    mouse = Product(\"Mouse\", Decimal(\"29.99\"))\n\n    cart.add_item(laptop)\n    cart.add_item(mouse, quantity=2)\n\n    expected_total = Decimal(\"999.99\") + (Decimal(\"29.99\") * 2)\n    assert cart.total_price == expected_total  # \u0421\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442!\n\ndef test_empty_cart_total_is_zero():\n    \"\"\"\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043f\u0443\u0441\u0442\u043e\u0439 \u043a\u043e\u0440\u0437\u0438\u043d\u044b \u0440\u0430\u0432\u043d\u0430 \u043d\u0443\u043b\u044e.\"\"\"\n    cart = ShoppingCart()\n    assert cart.total_price == Decimal(\"0.00\")\n</code></pre>"},{"location":"07_practical_examples/#green_7","title":"\ud83d\udfe2 GREEN","text":"<pre><code>class ShoppingCart:\n    # ... \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u043a\u043e\u0434 ...\n\n    @property\n    def total_price(self) -&gt; Decimal:\n        \"\"\"\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0435.\"\"\"\n        total = Decimal(\"0.00\")\n        for product, quantity in self._items.items():\n            total += product.price * quantity\n        return total\n</code></pre>"},{"location":"07_practical_examples/#4_1","title":"\u0418\u0442\u0435\u0440\u0430\u0446\u0438\u044f 4: \u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u0441\u043a\u0438\u0434\u043e\u043a","text":""},{"location":"07_practical_examples/#red_9","title":"\ud83d\udd34 RED","text":"<pre><code>def test_apply_percentage_discount():\n    \"\"\"\u041f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043d\u043e\u0439 \u0441\u043a\u0438\u0434\u043a\u0438.\"\"\"\n    cart = ShoppingCart()\n    product = Product(\"Laptop\", Decimal(\"1000.00\"))\n    cart.add_item(product)\n\n    discount = PercentageDiscount(Decimal(\"10\"))  # \u041a\u043b\u0430\u0441\u0441\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442!\n    cart.apply_discount(discount)  # \u041c\u0435\u0442\u043e\u0434\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442!\n\n    assert cart.total_price == Decimal(\"900.00\")\n\ndef test_apply_fixed_discount():\n    \"\"\"\u041f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0441\u043a\u0438\u0434\u043a\u0438.\"\"\"\n    cart = ShoppingCart()\n    product = Product(\"Laptop\", Decimal(\"1000.00\"))\n    cart.add_item(product)\n\n    discount = FixedDiscount(Decimal(\"100\"))\n    cart.apply_discount(discount)\n\n    assert cart.total_price == Decimal(\"900.00\")\n</code></pre>"},{"location":"07_practical_examples/#green_8","title":"\ud83d\udfe2 GREEN: \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0441\u043a\u0438\u0434\u043e\u043a","text":"<pre><code>from abc import ABC, abstractmethod\n\nclass Discount(ABC):\n    \"\"\"\u0410\u0431\u0441\u0442\u0440\u0430\u043a\u0442\u043d\u0430\u044f \u0441\u043a\u0438\u0434\u043a\u0430.\"\"\"\n\n    @abstractmethod\n    def apply(self, amount: Decimal) -&gt; Decimal:\n        \"\"\"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u043a\u0438\u0434\u043a\u0443 \u043a \u0441\u0443\u043c\u043c\u0435.\"\"\"\n        pass\n\nclass PercentageDiscount(Discount):\n    \"\"\"\u041f\u0440\u043e\u0446\u0435\u043d\u0442\u043d\u0430\u044f \u0441\u043a\u0438\u0434\u043a\u0430.\"\"\"\n\n    def __init__(self, percentage: Decimal):\n        if not (0 &lt;= percentage &lt;= 100):\n            raise ValueError(\"Percentage must be between 0 and 100\")\n        self.percentage = percentage\n\n    def apply(self, amount: Decimal) -&gt; Decimal:\n        discount_amount = amount * (self.percentage / 100)\n        return amount - discount_amount\n\nclass FixedDiscount(Discount):\n    \"\"\"\u0424\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0441\u043a\u0438\u0434\u043a\u0430.\"\"\"\n\n    def __init__(self, amount: Decimal):\n        if amount &lt; 0:\n            raise ValueError(\"Discount amount cannot be negative\")\n        self.amount = amount\n\n    def apply(self, amount: Decimal) -&gt; Decimal:\n        return max(amount - self.amount, Decimal(\"0.00\"))\n\nclass ShoppingCart:\n    # ... \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u043a\u043e\u0434 ...\n\n    def __init__(self):\n        self._items: Dict[Product, int] = {}\n        self._discount: Optional[Discount] = None\n\n    def apply_discount(self, discount: Discount) -&gt; None:\n        \"\"\"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u043a\u0438\u0434\u043a\u0443 \u043a \u043a\u043e\u0440\u0437\u0438\u043d\u0435.\"\"\"\n        self._discount = discount\n\n    @property\n    def subtotal(self) -&gt; Decimal:\n        \"\"\"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0431\u0435\u0437 \u0441\u043a\u0438\u0434\u043a\u0438.\"\"\"\n        total = Decimal(\"0.00\")\n        for product, quantity in self._items.items():\n            total += product.price * quantity\n        return total\n\n    @property\n    def total_price(self) -&gt; Decimal:\n        \"\"\"\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u0441\u043a\u0438\u0434\u043a\u0438.\"\"\"\n        subtotal = self.subtotal\n        if self._discount:\n            return self._discount.apply(subtotal)\n        return subtotal\n</code></pre>"},{"location":"07_practical_examples/#3_2","title":"\ud83d\udcdd \u041f\u0440\u043e\u0435\u043a\u0442 3: \u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0430\u043c\u0438","text":"<p>\u0421\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0430\u043c\u0438 (TODO \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435).</p>"},{"location":"07_practical_examples/#1_3","title":"\u0418\u0442\u0435\u0440\u0430\u0446\u0438\u044f 1: \u0411\u0430\u0437\u043e\u0432\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430","text":""},{"location":"07_practical_examples/#red_10","title":"\ud83d\udd34 RED","text":"<pre><code># test_todo.py\nfrom datetime import datetime, date\n\ndef test_create_task():\n    \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438 \u0441 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u043e\u043c.\"\"\"\n    task = Task(\"Buy groceries\")  # \u041a\u043b\u0430\u0441\u0441\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442!\n    assert task.title == \"Buy groceries\"\n    assert task.is_completed == False\n    assert isinstance(task.created_at, datetime)\n\ndef test_complete_task():\n    \"\"\"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438.\"\"\"\n    task = Task(\"Buy groceries\")\n    task.complete()  # \u041c\u0435\u0442\u043e\u0434\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442!\n\n    assert task.is_completed == True\n    assert isinstance(task.completed_at, datetime)\n</code></pre>"},{"location":"07_practical_examples/#green_9","title":"\ud83d\udfe2 GREEN","text":"<pre><code># todo.py\nfrom datetime import datetime\nfrom typing import Optional\n\nclass Task:\n    \"\"\"\u0417\u0430\u0434\u0430\u0447\u0430 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0430\u043c\u0438.\"\"\"\n\n    def __init__(self, title: str):\n        if not title.strip():\n            raise ValueError(\"Task title cannot be empty\")\n        self.title = title.strip()\n        self.is_completed = False\n        self.created_at = datetime.now()\n        self.completed_at: Optional[datetime] = None\n\n    def complete(self) -&gt; None:\n        \"\"\"\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 \u043a\u0430\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u0443\u044e.\"\"\"\n        if not self.is_completed:\n            self.is_completed = True\n            self.completed_at = datetime.now()\n</code></pre>"},{"location":"07_practical_examples/#2_3","title":"\u0418\u0442\u0435\u0440\u0430\u0446\u0438\u044f 2: \u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0434\u0430\u0447","text":""},{"location":"07_practical_examples/#red_11","title":"\ud83d\udd34 RED","text":"<pre><code>def test_create_empty_todo_list():\n    \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0443\u0441\u0442\u043e\u0433\u043e \u0441\u043f\u0438\u0441\u043a\u0430 \u0437\u0430\u0434\u0430\u0447.\"\"\"\n    todo_list = TodoList()  # \u041a\u043b\u0430\u0441\u0441\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442!\n    assert len(todo_list) == 0\n    assert todo_list.is_empty() == True\n\ndef test_add_task_to_list():\n    \"\"\"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438 \u0432 \u0441\u043f\u0438\u0441\u043e\u043a.\"\"\"\n    todo_list = TodoList()\n    task = Task(\"Buy groceries\")\n\n    todo_list.add_task(task)  # \u041c\u0435\u0442\u043e\u0434\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442!\n\n    assert len(todo_list) == 1\n    assert task in todo_list.tasks  # \u0421\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442!\n</code></pre>"},{"location":"07_practical_examples/#green_10","title":"\ud83d\udfe2 GREEN","text":"<pre><code>from typing import List\n\nclass TodoList:\n    \"\"\"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0434\u0430\u0447.\"\"\"\n\n    def __init__(self):\n        self._tasks: List[Task] = []\n\n    def __len__(self) -&gt; int:\n        return len(self._tasks)\n\n    def is_empty(self) -&gt; bool:\n        return len(self._tasks) == 0\n\n    @property\n    def tasks(self) -&gt; List[Task]:\n        return self._tasks.copy()\n\n    def add_task(self, task: Task) -&gt; None:\n        \"\"\"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 \u0432 \u0441\u043f\u0438\u0441\u043e\u043a.\"\"\"\n        if task in self._tasks:\n            raise ValueError(\"Task already exists in the list\")\n        self._tasks.append(task)\n</code></pre>"},{"location":"07_practical_examples/#3_3","title":"\u0418\u0442\u0435\u0440\u0430\u0446\u0438\u044f 3: \u0424\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f \u0438 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430","text":""},{"location":"07_practical_examples/#red_12","title":"\ud83d\udd34 RED","text":"<pre><code>def test_filter_completed_tasks():\n    \"\"\"\u0424\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0445 \u0437\u0430\u0434\u0430\u0447.\"\"\"\n    todo_list = TodoList()\n    task1 = Task(\"Buy groceries\")\n    task2 = Task(\"Walk the dog\")\n    task3 = Task(\"Read a book\")\n\n    todo_list.add_task(task1)\n    todo_list.add_task(task2) \n    todo_list.add_task(task3)\n\n    task1.complete()\n    task3.complete()\n\n    completed = todo_list.get_completed_tasks()  # \u041c\u0435\u0442\u043e\u0434\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442!\n    assert len(completed) == 2\n    assert task1 in completed\n    assert task3 in completed\n\ndef test_get_completion_percentage():\n    \"\"\"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f.\"\"\"\n    todo_list = TodoList()\n    task1 = Task(\"Task 1\")\n    task2 = Task(\"Task 2\")\n    task3 = Task(\"Task 3\")\n    task4 = Task(\"Task 4\")\n\n    todo_list.add_task(task1)\n    todo_list.add_task(task2)\n    todo_list.add_task(task3)\n    todo_list.add_task(task4)\n\n    task1.complete()\n    task2.complete()\n\n    assert todo_list.completion_percentage == 50.0  # \u0421\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442!\n</code></pre>"},{"location":"07_practical_examples/#green_11","title":"\ud83d\udfe2 GREEN","text":"<pre><code>class TodoList:\n    # ... \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u043a\u043e\u0434 ...\n\n    def get_completed_tasks(self) -&gt; List[Task]:\n        \"\"\"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0445 \u0437\u0430\u0434\u0430\u0447.\"\"\"\n        return [task for task in self._tasks if task.is_completed]\n\n    def get_pending_tasks(self) -&gt; List[Task]:\n        \"\"\"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u043d\u0435\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0445 \u0437\u0430\u0434\u0430\u0447.\"\"\"\n        return [task for task in self._tasks if not task.is_completed]\n\n    @property\n    def completion_percentage(self) -&gt; float:\n        \"\"\"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447.\"\"\"\n        if len(self._tasks) == 0:\n            return 0.0\n\n        completed_count = len(self.get_completed_tasks())\n        return (completed_count / len(self._tasks)) * 100\n</code></pre>"},{"location":"07_practical_examples/#_4","title":"\ud83c\udfaf \u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0443\u0440\u043e\u043a\u0438 \u0438\u0437 \u043f\u0440\u0438\u043c\u0435\u0440\u043e\u0432","text":""},{"location":"07_practical_examples/#1_4","title":"1. \u041d\u0430\u0447\u0438\u043d\u0430\u0439\u0442\u0435 \u0441 \u043f\u0440\u043e\u0441\u0442\u043e\u0433\u043e","text":"<pre><code># \u274c \u041d\u0435 \u043f\u044b\u0442\u0430\u0439\u0442\u0435\u0441\u044c \u0441\u0440\u0430\u0437\u0443 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u043b\u043e\u0436\u043d\u0443\u044e \u0438\u0435\u0440\u0430\u0440\u0445\u0438\u044e\nclass AdvancedBankAccount(AbstractAccount, Auditable, Serializable):\n    pass\n\n# \u2705 \u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0441 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0433\u043e\nclass BankAccount:\n    def __init__(self, account_number):\n        self.account_number = account_number\n        self.balance = 0\n</code></pre>"},{"location":"07_practical_examples/#2_4","title":"2. \u041e\u0434\u0438\u043d \u0442\u0435\u0441\u0442 = \u043e\u0434\u043d\u0430 \u043a\u043e\u043d\u0446\u0435\u043f\u0446\u0438\u044f","text":"<pre><code># \u274c \u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u043e\u043a \u0432 \u043e\u0434\u043d\u043e\u043c \u0442\u0435\u0441\u0442\u0435\ndef test_user_management():\n    user = User(\"John\")\n    assert user.name == \"John\"\n    user.change_email(\"new@email.com\")\n    assert user.email == \"new@email.com\"\n    user.deactivate()\n    assert not user.is_active\n\n# \u2705 \u0420\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u0435 \u043d\u0430 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b\ndef test_user_creation():\n    user = User(\"John\")\n    assert user.name == \"John\"\n\ndef test_user_email_change():\n    user = User(\"John\")\n    user.change_email(\"new@email.com\") \n    assert user.email == \"new@email.com\"\n</code></pre>"},{"location":"07_practical_examples/#3_4","title":"3. \u0420\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433 \u2014 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0447\u0430\u0441\u0442\u044c \u0446\u0438\u043a\u043b\u0430","text":"<pre><code># \u041f\u043e\u0441\u043b\u0435 \u0437\u0435\u043b\u0435\u043d\u043e\u0439 \u0444\u0430\u0437\u044b \u2014 \u0432\u0441\u0435\u0433\u0434\u0430 \u0438\u0449\u0438\u0442\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f:\n# - \u0414\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u0434\u0430\n# - \u041c\u0430\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0447\u0438\u0441\u043b\u0430\n# - \u0414\u043b\u0438\u043d\u043d\u044b\u0435 \u043c\u0435\u0442\u043e\u0434\u044b\n# - \u041d\u0435\u044f\u0441\u043d\u044b\u0435 \u0438\u043c\u0435\u043d\u0430\n</code></pre>"},{"location":"07_practical_examples/#4_2","title":"4. \u0422\u0435\u0441\u0442\u044b \u043a\u0430\u043a \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f","text":"<pre><code>def test_transfer_to_account_with_insufficient_funds_raises_error():\n    \"\"\"\n    \u041f\u0440\u0438 \u043f\u043e\u043f\u044b\u0442\u043a\u0435 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430 \u0441\u0443\u043c\u043c\u044b, \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u044e\u0449\u0435\u0439 \u0431\u0430\u043b\u0430\u043d\u0441 \u0441\u0447\u0435\u0442\u0430,\n    \u0434\u043e\u043b\u0436\u043d\u043e \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u0442\u044c \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 ValueError \u0441 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435\u043c \n    'Insufficient funds'.\n    \"\"\"\n    # \u0422\u0435\u0441\u0442 \u0441\u0430\u043c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438\u0440\u0443\u0435\u0442 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b\n</code></pre>"},{"location":"07_practical_examples/#_5","title":"\ud83c\udfaf \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0448\u0430\u0433\u0438","text":"<p>\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u0438\u0437\u0443\u0447\u0438\u043c \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u0438\u0437\u043e\u043b\u044f\u0446\u0438\u044e \u0442\u0435\u0441\u0442\u043e\u0432 \u2014 \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0442\u0435\u0445\u043d\u0438\u043a\u0438 \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0441\u043b\u043e\u0436\u043d\u044b\u0445 \u0441\u0438\u0441\u0442\u0435\u043c \u0441 \u0432\u043d\u0435\u0448\u043d\u0438\u043c\u0438 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044f\u043c\u0438.</p>"},{"location":"07_practical_examples/#_6","title":"\ud83e\uddea \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u0432\u043e\u0438 \u0437\u043d\u0430\u043d\u0438\u044f","text":""},{"location":"07_practical_examples/#_7","title":"\ud83d\ude80 \u0418\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u0430\u044f \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430","text":""},{"location":"07_practical_examples/#_8","title":"\ud83c\udfe6 \u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430","text":"<p>\u0413\u043e\u0442\u043e\u0432\u044b \u043a \u0441\u0435\u0440\u044c\u0435\u0437\u043d\u043e\u043c\u0443 \u0432\u044b\u0437\u043e\u0432\u0443? \u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043f\u043e\u043b\u043d\u043e\u0446\u0435\u043d\u043d\u0443\u044e \u0431\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0443\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0441 TDD:</p> <p>\ud83c\udfaf \u0418\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0435: \u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u0441 TDD</p> <p>\u0412 \u044d\u0442\u043e\u043c \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0438 \u0432\u044b: - \u0421\u043e\u0437\u0434\u0430\u0434\u0438\u0442\u0435 \u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0441\u043d\u0443\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0441 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u043c\u0438 \u043a\u043b\u0430\u0441\u0441\u0430\u043c\u0438 - \u041e\u0441\u0432\u043e\u0438\u0442\u0435 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439 \u0432 TDD - \u041f\u043e\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442\u0435 \u0441 \u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0438 \u043f\u043e\u043b\u0438\u043c\u043e\u0440\u0444\u0438\u0437\u043c\u043e\u043c - \u0420\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u0442\u0435 \u0430\u0443\u0434\u0438\u0442 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 \u0438 \u0437\u0430\u0449\u0438\u0442\u0443 \u0434\u0430\u043d\u043d\u044b\u0445 - \u0418\u0437\u0443\u0447\u0438\u0442\u0435 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0435 \u043f\u0430\u0442\u0442\u0435\u0440\u043d\u044b \u0434\u043b\u044f \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u044b\u0445 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439</p> <p>\u042d\u0442\u043e \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u043a\u0430\u0436\u0435\u0442 \u0432\u0441\u044e \u043c\u043e\u0449\u044c TDD \u043f\u0440\u0438 \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u043c\u0438 \u0431\u0438\u0437\u043d\u0435\u0441-\u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f\u043c\u0438!</p> <p>\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430: Mock \u043e\u0431\u044a\u0435\u043a\u0442\u044b \u0438 \u0438\u0437\u043e\u043b\u044f\u0446\u0438\u044f \u0442\u0435\u0441\u0442\u043e\u0432</p> <p>\ud83d\udee0 \u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 \u2014 \u043b\u0443\u0447\u0448\u0438\u0439 \u0443\u0447\u0438\u0442\u0435\u043b\u044c TDD!</p>"},{"location":"08_mocking/","title":"Mock \u043e\u0431\u044a\u0435\u043a\u0442\u044b \u0438 \u0438\u0437\u043e\u043b\u044f\u0446\u0438\u044f \u0442\u0435\u0441\u0442\u043e\u0432","text":""},{"location":"08_mocking/#_1","title":"\ud83c\udfaf \u0412\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0432 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","text":"<p>\u041c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u2014 \u044d\u0442\u043e \u0442\u0435\u0445\u043d\u0438\u043a\u0430 \u0437\u0430\u043c\u0435\u043d\u044b \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0445 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439 \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u0443\u0435\u043c\u044b\u0435 \"\u043f\u043e\u0434\u0434\u0435\u043b\u044c\u043d\u044b\u0435\" \u043e\u0431\u044a\u0435\u043a\u0442\u044b (\u043c\u043e\u043a\u0438) \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f. \u042d\u0442\u043e \u043a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0432\u0430\u0436\u043d\u043e \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0431\u044b\u0441\u0442\u0440\u044b\u0445, \u043d\u0430\u0434\u0435\u0436\u043d\u044b\u0445 \u0438 \u0438\u0437\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 unit \u0442\u0435\u0441\u0442\u043e\u0432.</p>"},{"location":"08_mocking/#_2","title":"\ud83e\udd14 \u0417\u0430\u0447\u0435\u043c \u043d\u0443\u0436\u043d\u044b \u043c\u043e\u043a\u0438?","text":""},{"location":"08_mocking/#_3","title":"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0431\u0435\u0437 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f:","text":"<pre><code># \u274c \u0422\u0435\u0441\u0442 \u0431\u0435\u0437 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f\ndef test_user_registration():\n    \"\"\"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u043d\u044b\u0439 \u0442\u0435\u0441\u0442 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n    # \u0417\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0439 \u0411\u0414\n    database = PostgreSQLDatabase(\"real_db_connection\")\n\n    # \u0417\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u0432\u043d\u0435\u0448\u043d\u0435\u0433\u043e API\n    email_service = SMTPEmailService(\"smtp.gmail.com\")\n\n    # \u0417\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u0444\u0430\u0439\u043b\u043e\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b\n    file_storage = FileStorage(\"/real/storage/path\")\n\n    user_service = UserService(database, email_service, file_storage)\n\n    # \u041c\u0435\u0434\u043b\u0435\u043d\u043d\u043e, \u043d\u0435\u043d\u0430\u0434\u0435\u0436\u043d\u043e, \u043c\u043e\u0436\u0435\u0442 \u0441\u043b\u043e\u043c\u0430\u0442\u044c\u0441\u044f\n    user = user_service.register(\"test@example.com\", \"password\")\n\n    assert user.is_active == False  # \u0417\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 email \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f\n</code></pre>"},{"location":"08_mocking/#_4","title":"\u0420\u0435\u0448\u0435\u043d\u0438\u0435 \u0441 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c:","text":"<pre><code># \u2705 \u0422\u0435\u0441\u0442 \u0441 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c\ndef test_user_registration(mocker):\n    \"\"\"\u0418\u0437\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0442\u0435\u0441\u0442 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438.\"\"\"\n    # \u041c\u043e\u043a\u0438\u0440\u0443\u0435\u043c \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438\n    mock_database = mocker.Mock()\n    mock_email_service = mocker.Mock()\n    mock_file_storage = mocker.Mock()\n\n    # \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043c\u043e\u043a\u043e\u0432\n    mock_database.save.return_value = User(id=1, email=\"test@example.com\")\n    mock_email_service.send_confirmation.return_value = True\n\n    user_service = UserService(mock_database, mock_email_service, mock_file_storage)\n\n    # \u0411\u044b\u0441\u0442\u0440\u044b\u0439, \u043d\u0430\u0434\u0435\u0436\u043d\u044b\u0439, \u0438\u0437\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0442\u0435\u0441\u0442\n    user = user_service.register(\"test@example.com\", \"password\")\n\n    assert user.email == \"test@example.com\"\n    mock_database.save.assert_called_once()\n    mock_email_service.send_confirmation.assert_called_once()\n</code></pre>"},{"location":"08_mocking/#_5","title":"\ud83c\udfad \u0422\u0438\u043f\u044b \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0445 \u0434\u0443\u0431\u043b\u0435\u0440\u043e\u0432","text":""},{"location":"08_mocking/#1-dummy","title":"1. Dummy (\u0417\u0430\u0433\u043b\u0443\u0448\u043a\u0430)","text":"<p>\u041e\u0431\u044a\u0435\u043a\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u044e\u0442\u0441\u044f, \u043d\u043e \u043d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f.</p> <pre><code>def test_user_creation_with_dummy():\n    \"\"\"Dummy \u043e\u0431\u044a\u0435\u043a\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432.\"\"\"\n    dummy_logger = object()  # \u041d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0432 \u0442\u0435\u0441\u0442\u0435\n\n    user_service = UserService(logger=dummy_logger)\n    user = user_service.create_simple_user(\"John\")\n\n    assert user.name == \"John\"\n</code></pre>"},{"location":"08_mocking/#2-fake","title":"2. Fake (\u041f\u043e\u0434\u0434\u0435\u043b\u043a\u0430)","text":"<p>\u0423\u043f\u0440\u043e\u0449\u0435\u043d\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0447\u0430\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f.</p> <pre><code>class FakeDatabase:\n    \"\"\"\u041f\u043e\u0434\u0434\u0435\u043b\u044c\u043d\u0430\u044f \u0411\u0414 \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u043e\u0432.\"\"\"\n\n    def __init__(self):\n        self.users = {}\n        self.next_id = 1\n\n    def save(self, user):\n        user.id = self.next_id\n        self.users[self.next_id] = user\n        self.next_id += 1\n        return user\n\n    def find_by_email(self, email):\n        for user in self.users.values():\n            if user.email == email:\n                return user\n        return None\n\ndef test_user_service_with_fake():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441 fake \u0411\u0414.\"\"\"\n    fake_db = FakeDatabase()\n    user_service = UserService(database=fake_db)\n\n    # \u0420\u0435\u0430\u043b\u044c\u043d\u0430\u044f \u043b\u043e\u0433\u0438\u043a\u0430, \u043d\u043e \u0441 \u043f\u043e\u0434\u0434\u0435\u043b\u044c\u043d\u043e\u0439 \u0411\u0414\n    user = user_service.register(\"test@example.com\", \"password\")\n    found_user = user_service.find_by_email(\"test@example.com\")\n\n    assert found_user.email == user.email\n</code></pre>"},{"location":"08_mocking/#3-stub","title":"3. Stub (\u0417\u0430\u0433\u043b\u0443\u0448\u043a\u0430)","text":"<p>\u041f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0437\u0430\u0440\u0430\u043d\u0435\u0435 \u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u043e\u0442\u0432\u0435\u0442\u044b \u043d\u0430 \u0432\u044b\u0437\u043e\u0432\u044b.</p> <pre><code>class StubEmailService:\n    \"\"\"\u0417\u0430\u0433\u043b\u0443\u0448\u043a\u0430 email \u0441\u0435\u0440\u0432\u0438\u0441\u0430.\"\"\"\n\n    def __init__(self, should_succeed=True):\n        self.should_succeed = should_succeed\n        self.sent_emails = []\n\n    def send_email(self, to, subject, body):\n        if self.should_succeed:\n            self.sent_emails.append((to, subject, body))\n            return True\n        else:\n            raise EmailSendError(\"Failed to send email\")\n\ndef test_notification_with_stub():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441 \u0437\u0430\u0433\u043b\u0443\u0448\u043a\u043e\u0439 email \u0441\u0435\u0440\u0432\u0438\u0441\u0430.\"\"\"\n    stub_email = StubEmailService(should_succeed=True)\n    notification_service = NotificationService(email_service=stub_email)\n\n    notification_service.send_welcome_email(\"user@example.com\")\n\n    assert len(stub_email.sent_emails) == 1\n    assert stub_email.sent_emails[0][0] == \"user@example.com\"\n</code></pre>"},{"location":"08_mocking/#4-spy","title":"4. Spy (\u0428\u043f\u0438\u043e\u043d)","text":"<p>\u0417\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0442\u043e\u043c, \u043a\u0430\u043a \u043e\u043d\u0438 \u0431\u044b\u043b\u0438 \u0432\u044b\u0437\u0432\u0430\u043d\u044b.</p> <pre><code>class SpyLogger:\n    \"\"\"\u0428\u043f\u0438\u043e\u043d \u0434\u043b\u044f \u043b\u043e\u0433\u0433\u0435\u0440\u0430.\"\"\"\n\n    def __init__(self, real_logger):\n        self.real_logger = real_logger\n        self.logged_messages = []\n\n    def log(self, level, message):\n        self.logged_messages.append((level, message))\n        return self.real_logger.log(level, message)\n\ndef test_error_handling_with_spy():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441 \u0448\u043f\u0438\u043e\u043d\u043e\u043c \u043b\u043e\u0433\u0433\u0435\u0440\u0430.\"\"\"\n    real_logger = FileLogger(\"app.log\")\n    spy_logger = SpyLogger(real_logger)\n\n    service = PaymentService(logger=spy_logger)\n\n    with pytest.raises(PaymentError):\n        service.process_payment(-100)  # \u041d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u0430\u044f \u0441\u0443\u043c\u043c\u0430\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0447\u0442\u043e \u043e\u0448\u0438\u0431\u043a\u0430 \u0431\u044b\u043b\u0430 \u0437\u0430\u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0430\n    assert len(spy_logger.logged_messages) == 1\n    assert spy_logger.logged_messages[0][0] == \"ERROR\"\n</code></pre>"},{"location":"08_mocking/#5-mock","title":"5. Mock (\u041c\u043e\u043a)","text":"<p>\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0441\u0442\u044c \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0441 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u043c.</p> <pre><code>def test_payment_processing_with_mock(mocker):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u043f\u043b\u0430\u0442\u0435\u0436\u043d\u043e\u0433\u043e \u0448\u043b\u044e\u0437\u0430.\"\"\"\n    mock_payment_gateway = mocker.Mock()\n    mock_payment_gateway.charge.return_value = PaymentResult(\n        transaction_id=\"TX123\",\n        status=\"success\"\n    )\n\n    payment_service = PaymentService(gateway=mock_payment_gateway)\n\n    result = payment_service.process_payment(100, \"card_token_123\")\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435\n    mock_payment_gateway.charge.assert_called_once_with(\n        amount=100,\n        payment_method=\"card_token_123\"\n    )\n    assert result.transaction_id == \"TX123\"\n</code></pre>"},{"location":"08_mocking/#unittestmock","title":"\ud83d\udee0 unittest.mock \u0432 \u0434\u0435\u0442\u0430\u043b\u044f\u0445","text":""},{"location":"08_mocking/#_6","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0431\u0430\u0437\u043e\u0432\u044b\u0445 \u043c\u043e\u043a\u043e\u0432","text":"<pre><code>from unittest.mock import Mock, MagicMock\n\ndef test_basic_mock_usage():\n    \"\"\"\u0411\u0430\u0437\u043e\u0432\u043e\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 Mock.\"\"\"\n    # \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043c\u043e\u043a\u0430\n    mock_service = Mock()\n\n    # \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\n    mock_service.get_user.return_value = User(\"John\", \"john@example.com\")\n\n    # \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043c\u043e\u043a\u0430\n    user = mock_service.get_user(\"123\")\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0438\n    assert user.name == \"John\"\n    mock_service.get_user.assert_called_once_with(\"123\")\n\ndef test_magic_mock_special_methods():\n    \"\"\"MagicMock \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u043c\u0430\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043c\u0435\u0442\u043e\u0434\u044b.\"\"\"\n    mock_list = MagicMock()\n    mock_list.__len__.return_value = 3\n    mock_list.__getitem__.side_effect = lambda i: f\"item_{i}\"\n\n    # \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u043a \u043e\u0431\u044b\u0447\u043d\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442\n    assert len(mock_list) == 3\n    assert mock_list[0] == \"item_0\"\n    assert mock_list[1] == \"item_1\"\n</code></pre>"},{"location":"08_mocking/#_7","title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043c\u043e\u043a\u043e\u0432","text":"<pre><code>def test_mock_return_values():\n    \"\"\"\u0420\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u0441\u043f\u043e\u0441\u043e\u0431\u044b \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c\u044b\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439.\"\"\"\n    mock_api = Mock()\n\n    # \u041f\u0440\u043e\u0441\u0442\u043e\u0435 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\n    mock_api.get_data.return_value = {\"status\": \"success\"}\n\n    # \u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439\n    mock_api.get_status.side_effect = [\"pending\", \"processing\", \"completed\"]\n\n    # \u0424\u0443\u043d\u043a\u0446\u0438\u044f \u043a\u0430\u043a side_effect\n    def calculate_tax(amount):\n        return amount * 0.1\n    mock_api.calculate_tax.side_effect = calculate_tax\n\n    # \u0418\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\n    mock_api.delete_user.side_effect = PermissionError(\"Access denied\")\n\n    # \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\n    assert mock_api.get_data() == {\"status\": \"success\"}\n    assert mock_api.get_status() == \"pending\"\n    assert mock_api.get_status() == \"processing\"\n    assert mock_api.calculate_tax(100) == 10\n\n    with pytest.raises(PermissionError):\n        mock_api.delete_user(\"123\")\n</code></pre>"},{"location":"08_mocking/#_8","title":"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0432\u044b\u0437\u043e\u0432\u043e\u0432","text":"<pre><code>def test_mock_call_verification():\n    \"\"\"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0432\u044b\u0437\u043e\u0432\u043e\u0432 \u043c\u043e\u043a\u043e\u0432.\"\"\"\n    mock_service = Mock()\n\n    # \u0412\u044b\u0437\u044b\u0432\u0430\u0435\u043c \u043c\u0435\u0442\u043e\u0434\u044b\n    mock_service.create_user(\"john@example.com\", name=\"John\")\n    mock_service.send_email(\"john@example.com\", \"Welcome!\")\n    mock_service.create_user(\"jane@example.com\", name=\"Jane\")\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0432\u044b\u0437\u043e\u0432\u043e\u0432\n    mock_service.create_user.assert_called_with(\"jane@example.com\", name=\"Jane\")\n    mock_service.send_email.assert_called_once_with(\"john@example.com\", \"Welcome!\")\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u0432\u044b\u0437\u043e\u0432\u043e\u0432\n    assert mock_service.create_user.call_count == 2\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0432\u0441\u0435\u0445 \u0432\u044b\u0437\u043e\u0432\u043e\u0432\n    expected_calls = [\n        call(\"john@example.com\", name=\"John\"),\n        call(\"jane@example.com\", name=\"Jane\")\n    ]\n    mock_service.create_user.assert_has_calls(expected_calls)\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0447\u0442\u043e \u043c\u0435\u0442\u043e\u0434 \u041d\u0415 \u0432\u044b\u0437\u044b\u0432\u0430\u043b\u0441\u044f\n    mock_service.delete_user.assert_not_called()\n</code></pre>"},{"location":"08_mocking/#patch","title":"\ud83c\udfad \u041f\u0430\u0442\u0447\u0438\u043d\u0433 \u0441 @patch","text":""},{"location":"08_mocking/#patch_1","title":"\u0414\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440 @patch","text":"<pre><code>from unittest.mock import patch\nimport requests\n\n# \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c\u044b\u0439 \u043a\u043e\u0434\nclass WeatherService:\n    def get_temperature(self, city):\n        response = requests.get(f\"http://api.weather.com/{city}\")\n        return response.json()[\"temperature\"]\n\nclass TestWeatherService:\n\n    @patch('requests.get')\n    def test_get_temperature_success(self, mock_get):\n        \"\"\"\u0422\u0435\u0441\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u044b.\"\"\"\n        # \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043c\u043e\u043a\u0430\n        mock_response = Mock()\n        mock_response.json.return_value = {\"temperature\": 25}\n        mock_get.return_value = mock_response\n\n        # \u0422\u0435\u0441\u0442\n        service = WeatherService()\n        temperature = service.get_temperature(\"Moscow\")\n\n        # \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0438\n        assert temperature == 25\n        mock_get.assert_called_once_with(\"http://api.weather.com/Moscow\")\n\n    @patch('requests.get')\n    def test_get_temperature_api_error(self, mock_get):\n        \"\"\"\u0422\u0435\u0441\u0442 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043e\u0448\u0438\u0431\u043a\u0438 API.\"\"\"\n        mock_get.side_effect = requests.RequestException(\"API unavailable\")\n\n        service = WeatherService()\n\n        with pytest.raises(requests.RequestException):\n            service.get_temperature(\"Moscow\")\n</code></pre>"},{"location":"08_mocking/#_9","title":"\u041c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u043f\u0430\u0442\u0447\u0438\u043d\u0433","text":"<pre><code>class EmailNotificationService:\n    def __init__(self, email_client, user_repository, template_engine):\n        self.email_client = email_client\n        self.user_repository = user_repository\n        self.template_engine = template_engine\n\n    def send_welcome_email(self, user_id):\n        user = self.user_repository.find_by_id(user_id)\n        template = self.template_engine.render(\"welcome\", user=user)\n        return self.email_client.send(user.email, \"Welcome!\", template)\n\nclass TestEmailNotificationService:\n\n    @patch('myapp.services.TemplateEngine')\n    @patch('myapp.services.UserRepository') \n    @patch('myapp.services.EmailClient')\n    def test_send_welcome_email(self, mock_email_client, mock_user_repo, mock_template_engine):\n        \"\"\"\u0422\u0435\u0441\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e email.\"\"\"\n        # \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043c\u043e\u043a\u043e\u0432\n        mock_user = Mock()\n        mock_user.email = \"user@example.com\"\n        mock_user_repo.find_by_id.return_value = mock_user\n\n        mock_template_engine.render.return_value = \"&lt;h1&gt;Welcome!&lt;/h1&gt;\"\n        mock_email_client.send.return_value = True\n\n        # \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u0441 \u043c\u043e\u043a\u0430\u043c\u0438\n        service = EmailNotificationService(\n            mock_email_client,\n            mock_user_repo, \n            mock_template_engine\n        )\n\n        # \u0422\u0435\u0441\u0442\n        result = service.send_welcome_email(123)\n\n        # \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0438\n        assert result == True\n        mock_user_repo.find_by_id.assert_called_once_with(123)\n        mock_template_engine.render.assert_called_once_with(\"welcome\", user=mock_user)\n        mock_email_client.send.assert_called_once_with(\n            \"user@example.com\", \n            \"Welcome!\", \n            \"&lt;h1&gt;Welcome!&lt;/h1&gt;\"\n        )\n</code></pre>"},{"location":"08_mocking/#patch_2","title":"\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043d\u044b\u0439 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 patch","text":"<pre><code>def test_with_context_manager():\n    \"\"\"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 patch \u043a\u0430\u043a \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043d\u043e\u0433\u043e \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430.\"\"\"\n    service = FileProcessingService()\n\n    with patch('builtins.open', mock_open(read_data=\"test data\")) as mock_file:\n        content = service.read_file(\"test.txt\")\n\n        assert content == \"test data\"\n        mock_file.assert_called_once_with(\"test.txt\", \"r\")\n\ndef test_temporary_patch():\n    \"\"\"\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0435 \u043f\u0430\u0442\u0447\u0438\u043d\u0433 \u0432 \u0447\u0430\u0441\u0442\u0438 \u0442\u0435\u0441\u0442\u0430.\"\"\"\n    service = ConfigService()\n\n    # \u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435\n    assert service.get_env(\"PATH\") is not None\n\n    # \u0412\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0439 \u043f\u0430\u0442\u0447\n    with patch.dict(os.environ, {\"TEST_VAR\": \"test_value\"}):\n        assert service.get_env(\"TEST_VAR\") == \"test_value\"\n\n    # \u041f\u0430\u0442\u0447 \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0443\u0435\u0442\n    assert service.get_env(\"TEST_VAR\") is None\n</code></pre>"},{"location":"08_mocking/#pytest-mock","title":"\ud83c\udfaf pytest-mock: \u0423\u043f\u0440\u043e\u0449\u0435\u043d\u043d\u043e\u0435 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","text":""},{"location":"08_mocking/#fixture-mocker","title":"Fixture mocker","text":"<pre><code>import pytest\n\ndef test_with_pytest_mock(mocker):\n    \"\"\"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 pytest-mock.\"\"\"\n    # \u041f\u0430\u0442\u0447\u0438\u043d\u0433 \u0447\u0435\u0440\u0435\u0437 mocker fixture\n    mock_requests = mocker.patch('requests.get')\n    mock_response = mocker.Mock()\n    mock_response.json.return_value = {\"data\": \"test\"}\n    mock_requests.return_value = mock_response\n\n    # \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u043c\u043e\u043a\u043e\u0432\n    mock_service = mocker.Mock()\n    mock_service.process.return_value = \"processed\"\n\n    # \u0422\u0435\u0441\u0442\n    api_client = APIClient()\n    result = api_client.fetch_data(\"https://api.example.com\")\n\n    assert result == {\"data\": \"test\"}\n    mock_requests.assert_called_once()\n</code></pre>"},{"location":"08_mocking/#spy","title":"Spy \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c","text":"<pre><code>def test_spy_on_real_object(mocker):\n    \"\"\"\u0428\u043f\u0438\u043e\u043d\u0430\u0436 \u0437\u0430 \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u043c \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u043c.\"\"\"\n    real_calculator = Calculator()\n\n    # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0448\u043f\u0438\u043e\u043d\u0430\n    spy_add = mocker.spy(real_calculator, 'add')\n\n    # \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442\n    result = real_calculator.add(2, 3)\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0447\u0442\u043e \u043c\u0435\u0442\u043e\u0434 \u0432\u044b\u0437\u044b\u0432\u0430\u043b\u0441\u044f\n    assert result == 5  # \u0420\u0435\u0430\u043b\u044c\u043d\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\n    spy_add.assert_called_once_with(2, 3)\n</code></pre>"},{"location":"08_mocking/#tdd","title":"\ud83c\udfd7 \u041f\u0430\u0442\u0442\u0435\u0440\u043d\u044b \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432 TDD","text":""},{"location":"08_mocking/#1-mock-injection-pattern","title":"1. Mock Injection Pattern","text":"<pre><code>class OrderService:\n    \"\"\"\u0421\u0435\u0440\u0432\u0438\u0441 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u0441 \u0438\u043d\u044a\u0435\u043a\u0446\u0438\u0435\u0439 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439.\"\"\"\n\n    def __init__(self, payment_gateway, inventory_service, email_service):\n        self.payment_gateway = payment_gateway\n        self.inventory_service = inventory_service\n        self.email_service = email_service\n\n    def place_order(self, order):\n        # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430\n        if not self.inventory_service.is_available(order.product_id, order.quantity):\n            raise OutOfStockError()\n\n        # \u041e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u043c \u043f\u043b\u0430\u0442\u0435\u0436\n        payment_result = self.payment_gateway.charge(order.total_amount)\n        if not payment_result.success:\n            raise PaymentError()\n\n        # \u0420\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u0443\u0435\u043c \u0442\u043e\u0432\u0430\u0440\n        self.inventory_service.reserve(order.product_id, order.quantity)\n\n        # \u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435\n        self.email_service.send_order_confirmation(order.customer_email, order)\n\n        return Order(id=payment_result.transaction_id, status=\"confirmed\")\n\ndef test_place_order_success(mocker):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0433\u043e \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430.\"\"\"\n    # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043c\u043e\u043a\u0438\n    mock_payment = mocker.Mock()\n    mock_inventory = mocker.Mock()\n    mock_email = mocker.Mock()\n\n    # \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0435 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435\n    mock_inventory.is_available.return_value = True\n    mock_payment.charge.return_value = PaymentResult(\n        success=True, \n        transaction_id=\"TX123\"\n    )\n    mock_email.send_order_confirmation.return_value = True\n\n    # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0435\u0440\u0432\u0438\u0441 \u0441 \u043c\u043e\u043a\u0430\u043c\u0438\n    service = OrderService(mock_payment, mock_inventory, mock_email)\n\n    # \u0422\u0435\u0441\u0442\n    order = Order(product_id=\"PROD123\", quantity=2, total_amount=100)\n    result = service.place_order(order)\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0438\n    assert result.id == \"TX123\"\n    assert result.status == \"confirmed\"\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f\n    mock_inventory.is_available.assert_called_once_with(\"PROD123\", 2)\n    mock_payment.charge.assert_called_once_with(100)\n    mock_inventory.reserve.assert_called_once_with(\"PROD123\", 2)\n    mock_email.send_order_confirmation.assert_called_once()\n</code></pre>"},{"location":"08_mocking/#2-builder-pattern","title":"2. Builder Pattern \u0434\u043b\u044f \u043c\u043e\u043a\u043e\u0432","text":"<pre><code>class MockUserBuilder:\n    \"\"\"\u0421\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c \u0434\u043b\u044f \u043c\u043e\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n\n    def __init__(self):\n        self.mock_user = Mock()\n        self.mock_user.id = 1\n        self.mock_user.email = \"user@example.com\"\n        self.mock_user.name = \"Test User\"\n        self.mock_user.is_active = True\n        self.mock_user.roles = []\n\n    def with_id(self, user_id):\n        self.mock_user.id = user_id\n        return self\n\n    def with_email(self, email):\n        self.mock_user.email = email\n        return self\n\n    def with_name(self, name):\n        self.mock_user.name = name\n        return self\n\n    def inactive(self):\n        self.mock_user.is_active = False\n        return self\n\n    def with_roles(self, *roles):\n        self.mock_user.roles = list(roles)\n        return self\n\n    def build(self):\n        return self.mock_user\n\ndef test_admin_access_with_builder():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430 \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c builder.\"\"\"\n    admin_user = (MockUserBuilder()\n                  .with_id(100)\n                  .with_email(\"admin@example.com\")\n                  .with_roles(\"admin\", \"user\")\n                  .build())\n\n    service = UserPermissionService()\n\n    assert service.can_access_admin_panel(admin_user) == True\n\ndef test_regular_user_access_with_builder():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043e\u0431\u044b\u0447\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n    regular_user = (MockUserBuilder()\n                    .with_id(200)\n                    .with_roles(\"user\")\n                    .build())\n\n    service = UserPermissionService()\n\n    assert service.can_access_admin_panel(regular_user) == False\n</code></pre>"},{"location":"08_mocking/#_10","title":"\u26a0\ufe0f \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0438 \u0430\u043d\u0442\u0438\u043f\u0430\u0442\u0442\u0435\u0440\u043d\u044b","text":""},{"location":"08_mocking/#1-over-mocking","title":"1. Over-Mocking (\u0427\u0440\u0435\u0437\u043c\u0435\u0440\u043d\u043e\u0435 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435)","text":"<pre><code># \u274c \u041f\u043b\u043e\u0445\u043e: \u043c\u043e\u043a\u0438\u0440\u0443\u0435\u043c \u0432\u0441\u0435 \u043f\u043e\u0434\u0440\u044f\u0434\ndef test_user_full_name_bad(mocker):\n    \"\"\"\u041f\u0435\u0440\u0435\u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0442\u0435\u0441\u0442.\"\"\"\n    mock_first_name = mocker.Mock(return_value=\"John\")\n    mock_last_name = mocker.Mock(return_value=\"Doe\")\n    mock_space = mocker.Mock(return_value=\" \")\n\n    # \u041c\u043e\u043a\u0438\u0440\u0443\u0435\u043c \u0434\u0430\u0436\u0435 \u043f\u0440\u0438\u043c\u0438\u0442\u0438\u0432\u043d\u044b\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438\n    mocker.patch('str.__add__', side_effect=lambda a, b: f\"{a}{b}\")\n\n    user = User(first_name=mock_first_name(), last_name=mock_last_name())\n    full_name = user.get_full_name()\n\n    # \u0422\u0435\u0441\u0442 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442 \u0438\u0437 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0439 \u043b\u043e\u0433\u0438\u043a\u0438\n\n# \u2705 \u0425\u043e\u0440\u043e\u0448\u043e: \u043c\u043e\u043a\u0438\u0440\u0443\u0435\u043c \u0442\u043e\u043b\u044c\u043a\u043e \u0432\u043d\u0435\u0448\u043d\u0438\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438\ndef test_user_full_name_good():\n    \"\"\"\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0442\u0435\u0441\u0442 \u0431\u0435\u0437 \u043b\u0438\u0448\u043d\u0438\u0445 \u043c\u043e\u043a\u043e\u0432.\"\"\"\n    user = User(first_name=\"John\", last_name=\"Doe\")\n    full_name = user.get_full_name()\n\n    assert full_name == \"John Doe\"\n</code></pre>"},{"location":"08_mocking/#2-mock-leakage","title":"2. Mock Leakage (\u0423\u0442\u0435\u0447\u043a\u0430 \u043c\u043e\u043a\u043e\u0432)","text":"<pre><code># \u274c \u041f\u043b\u043e\u0445\u043e: \u043c\u043e\u043a\u0438 \u0432\u043b\u0438\u044f\u044e\u0442 \u043d\u0430 \u0434\u0440\u0443\u0433\u0438\u0435 \u0442\u0435\u0441\u0442\u044b\nclass TestUserService:\n\n    @patch('myapp.database.connection')\n    def test_create_user(self, mock_db):\n        mock_db.save.return_value = True\n        # \u041f\u0430\u0442\u0447 \u043e\u0441\u0442\u0430\u0435\u0442\u0441\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u043c \u0434\u043b\u044f \u0434\u0440\u0443\u0433\u0438\u0445 \u0442\u0435\u0441\u0442\u043e\u0432\n\n    def test_find_user(self):\n        # \u042d\u0442\u043e\u0442 \u0442\u0435\u0441\u0442 \u043c\u043e\u0436\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043c\u043e\u043a \u0438\u0437 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0433\u043e \u0442\u0435\u0441\u0442\u0430\n        pass\n\n# \u2705 \u0425\u043e\u0440\u043e\u0448\u043e: \u0438\u0437\u043e\u043b\u044f\u0446\u0438\u044f \u043c\u043e\u043a\u043e\u0432\nclass TestUserService:\n\n    def test_create_user(self, mocker):\n        mock_db = mocker.patch('myapp.database.connection')\n        mock_db.save.return_value = True\n        # \u041c\u043e\u043a \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043e\u0447\u0438\u0449\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u0441\u043b\u0435 \u0442\u0435\u0441\u0442\u0430\n\n    def test_find_user(self):\n        # \u0427\u0438\u0441\u0442\u044b\u0439 \u0442\u0435\u0441\u0442 \u0431\u0435\u0437 \u0432\u043b\u0438\u044f\u043d\u0438\u044f \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0445 \u043c\u043e\u043a\u043e\u0432\n        pass\n</code></pre>"},{"location":"08_mocking/#3-mock-reality-mismatch","title":"3. Mock Reality Mismatch (\u041d\u0435\u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435 \u043c\u043e\u043a\u0430 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438)","text":"<pre><code># \u274c \u041f\u043b\u043e\u0445\u043e: \u043c\u043e\u043a \u043d\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u043c\u0443 API\ndef test_payment_processing_bad(mocker):\n    \"\"\"\u041c\u043e\u043a \u043d\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u043c\u0443 API.\"\"\"\n    mock_gateway = mocker.Mock()\n    # \u0420\u0435\u0430\u043b\u044c\u043d\u044b\u0439 API \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u0431\u043e\u043b\u044c\u0448\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432\n    mock_gateway.charge.return_value = True  \n\n    service = PaymentService(mock_gateway)\n    result = service.process_payment(100)\n\n    # \u0422\u0435\u0441\u0442 \u043f\u0440\u043e\u0439\u0434\u0435\u0442, \u043d\u043e \u0432 \u043f\u0440\u043e\u0434\u0430\u043a\u0448\u0435\u043d\u0435 \u0441\u043b\u043e\u043c\u0430\u0435\u0442\u0441\u044f\n    mock_gateway.charge.assert_called_with(100)\n\n# \u2705 \u0425\u043e\u0440\u043e\u0448\u043e: \u043c\u043e\u043a \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u043c\u0443 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0443\ndef test_payment_processing_good(mocker):\n    \"\"\"\u041c\u043e\u043a \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u043c\u0443 API.\"\"\"\n    mock_gateway = mocker.Mock()\n    mock_gateway.charge.return_value = PaymentResult(\n        transaction_id=\"TX123\",\n        status=\"success\",\n        amount=100\n    )\n\n    service = PaymentService(mock_gateway)\n    result = service.process_payment(100, \"card_token\")\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u043f\u043e\u043b\u043d\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\n    mock_gateway.charge.assert_called_with(\n        amount=100,\n        payment_method=\"card_token\",\n        currency=\"USD\"  # \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043a\u0430\u043a \u0432 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u043c API\n    )\n</code></pre>"},{"location":"08_mocking/#_11","title":"\ud83c\udfaf \u041b\u0443\u0447\u0448\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f","text":""},{"location":"08_mocking/#1","title":"1. \u041c\u043e\u043a\u0438\u0440\u0443\u0439\u0442\u0435 \u043d\u0430 \u0433\u0440\u0430\u043d\u0438\u0446\u0430\u0445","text":"<pre><code># \u2705 \u041c\u043e\u043a\u0438\u0440\u0443\u0439\u0442\u0435 \u0432\u043d\u0435\u0448\u043d\u0438\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438\n@patch('requests.get')  # \u0412\u043d\u0435\u0448\u043d\u0438\u0439 HTTP API\n@patch('smtplib.SMTP')  # \u0412\u043d\u0435\u0448\u043d\u0438\u0439 email \u0441\u0435\u0440\u0432\u0438\u0441\n@patch('boto3.client')  # \u0412\u043d\u0435\u0448\u043d\u0438\u0439 AWS \u0441\u0435\u0440\u0432\u0438\u0441\ndef test_data_processing(mock_aws, mock_smtp, mock_requests):\n    pass\n\n# \u274c \u041d\u0435 \u043c\u043e\u043a\u0438\u0440\u0443\u0439\u0442\u0435 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044e\u044e \u043b\u043e\u0433\u0438\u043a\u0443\n@patch('myapp.utils.calculate_total')  # \u041d\u0430\u0448\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f\ndef test_order_total(mock_calculate):\n    pass\n</code></pre>"},{"location":"08_mocking/#2","title":"2. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u044f\u0432\u043d\u044b\u0435 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b","text":"<pre><code>from abc import ABC, abstractmethod\n\nclass PaymentGateway(ABC):\n    \"\"\"\u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u043f\u043b\u0430\u0442\u0435\u0436\u043d\u043e\u0433\u043e \u0448\u043b\u044e\u0437\u0430.\"\"\"\n\n    @abstractmethod\n    def charge(self, amount: Decimal, payment_method: str) -&gt; PaymentResult:\n        pass\n\nclass MockPaymentGateway(PaymentGateway):\n    \"\"\"\u041c\u043e\u043a \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f.\"\"\"\n\n    def __init__(self):\n        self.charges = []\n\n    def charge(self, amount: Decimal, payment_method: str) -&gt; PaymentResult:\n        self.charges.append((amount, payment_method))\n        return PaymentResult(transaction_id=\"MOCK_TX\", status=\"success\")\n\ndef test_with_explicit_interface():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441 \u044f\u0432\u043d\u044b\u043c \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u043e\u043c.\"\"\"\n    mock_gateway = MockPaymentGateway()\n    service = PaymentService(mock_gateway)\n\n    result = service.process_payment(Decimal(\"100\"), \"card_123\")\n\n    assert result.status == \"success\"\n    assert len(mock_gateway.charges) == 1\n</code></pre>"},{"location":"08_mocking/#3","title":"3. \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0439\u0442\u0435 \u0432\u0430\u0436\u043d\u044b\u0435 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f","text":"<pre><code>def test_audit_logging(mocker):\n    \"\"\"\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0447\u0442\u043e \u043a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f.\"\"\"\n    mock_audit_logger = mocker.Mock()\n\n    service = BankingService(audit_logger=mock_audit_logger)\n    service.transfer_money(\n        from_account=\"ACC123\",\n        to_account=\"ACC456\", \n        amount=Decimal(\"1000\")\n    )\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0447\u0442\u043e \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0430\n    mock_audit_logger.log_transaction.assert_called_once_with(\n        action=\"transfer\",\n        from_account=\"ACC123\",\n        to_account=\"ACC456\",\n        amount=Decimal(\"1000\"),\n        timestamp=mocker.ANY\n    )\n</code></pre>"},{"location":"08_mocking/#_12","title":"\ud83c\udf10 \u041c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432","text":""},{"location":"08_mocking/#1-rest-api","title":"1. REST API \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","text":"<pre><code>import responses\nimport requests\n\nclass APIClient:\n    def __init__(self, base_url, api_key):\n        self.base_url = base_url\n        self.api_key = api_key\n\n    def get_user(self, user_id):\n        response = requests.get(\n            f\"{self.base_url}/users/{user_id}\",\n            headers={\"Authorization\": f\"Bearer {self.api_key}\"}\n        )\n        response.raise_for_status()\n        return response.json()\n\n    def create_user(self, user_data):\n        response = requests.post(\n            f\"{self.base_url}/users\",\n            json=user_data,\n            headers={\"Authorization\": f\"Bearer {self.api_key}\"}\n        )\n        response.raise_for_status()\n        return response.json()\n\n@responses.activate\ndef test_api_client_get_user():\n    \"\"\"\u0422\u0435\u0441\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0447\u0435\u0440\u0435\u0437 API.\"\"\"\n    responses.add(\n        responses.GET,\n        \"https://api.example.com/users/123\",\n        json={\"id\": 123, \"name\": \"John Doe\", \"email\": \"john@example.com\"},\n        status=200\n    )\n\n    client = APIClient(\"https://api.example.com\", \"test-token\")\n    user = client.get_user(123)\n\n    assert user[\"name\"] == \"John Doe\"\n    assert len(responses.calls) == 1\n    assert \"Bearer test-token\" in responses.calls[0].request.headers[\"Authorization\"]\n\n@responses.activate\ndef test_api_client_error_handling():\n    \"\"\"\u0422\u0435\u0441\u0442 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043e\u0448\u0438\u0431\u043e\u043a API.\"\"\"\n    responses.add(\n        responses.GET,\n        \"https://api.example.com/users/999\",\n        json={\"error\": \"User not found\"},\n        status=404\n    )\n\n    client = APIClient(\"https://api.example.com\", \"test-token\")\n\n    with pytest.raises(requests.HTTPError):\n        client.get_user(999)\n</code></pre>"},{"location":"08_mocking/#2-graphql","title":"2. GraphQL \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","text":"<pre><code>import httpx\nfrom unittest.mock import AsyncMock\n\nclass GraphQLClient:\n    def __init__(self, endpoint):\n        self.endpoint = endpoint\n\n    async def query(self, query, variables=None):\n        async with httpx.AsyncClient() as client:\n            response = await client.post(\n                self.endpoint,\n                json={\"query\": query, \"variables\": variables}\n            )\n            return response.json()\n\n@pytest.mark.asyncio\nasync def test_graphql_query(mocker):\n    \"\"\"\u0422\u0435\u0441\u0442 GraphQL \u0437\u0430\u043f\u0440\u043e\u0441\u0430.\"\"\"\n    mock_post = mocker.patch('httpx.AsyncClient.post', new_callable=AsyncMock)\n    mock_response = AsyncMock()\n    mock_response.json.return_value = {\n        \"data\": {\n            \"user\": {\n                \"id\": \"123\",\n                \"name\": \"John Doe\",\n                \"posts\": [\n                    {\"title\": \"First Post\", \"content\": \"Hello World\"}\n                ]\n            }\n        }\n    }\n    mock_post.return_value = mock_response\n\n    client = GraphQLClient(\"https://api.example.com/graphql\")\n\n    query = \"\"\"\n        query GetUser($id: ID!) {\n            user(id: $id) {\n                id\n                name\n                posts {\n                    title\n                    content\n                }\n            }\n        }\n    \"\"\"\n\n    result = await client.query(query, {\"id\": \"123\"})\n\n    assert result[\"data\"][\"user\"][\"name\"] == \"John Doe\"\n    assert len(result[\"data\"][\"user\"][\"posts\"]) == 1\n\n    mock_post.assert_called_once()\n    call_args = mock_post.call_args\n    assert call_args[1][\"json\"][\"query\"] == query\n</code></pre>"},{"location":"08_mocking/#3-websocket","title":"3. WebSocket \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","text":"<pre><code>import asyncio\nimport websockets\nfrom unittest.mock import AsyncMock, patch\n\nclass WebSocketClient:\n    def __init__(self, url):\n        self.url = url\n        self.websocket = None\n\n    async def connect(self):\n        self.websocket = await websockets.connect(self.url)\n\n    async def send_message(self, message):\n        await self.websocket.send(message)\n\n    async def receive_message(self):\n        return await self.websocket.recv()\n\n@pytest.mark.asyncio\nasync def test_websocket_communication():\n    \"\"\"\u0422\u0435\u0441\u0442 WebSocket \u043a\u043e\u043c\u043c\u0443\u043d\u0438\u043a\u0430\u0446\u0438\u0438.\"\"\"\n    mock_websocket = AsyncMock()\n    mock_websocket.recv.return_value = \"pong\"\n\n    with patch('websockets.connect', return_value=mock_websocket):\n        client = WebSocketClient(\"ws://localhost:8000\")\n        await client.connect()\n\n        await client.send_message(\"ping\")\n        response = await client.receive_message()\n\n        assert response == \"pong\"\n        mock_websocket.send.assert_called_once_with(\"ping\")\n        mock_websocket.recv.assert_called_once()\n</code></pre>"},{"location":"08_mocking/#_13","title":"\ud83d\uddc4\ufe0f \u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u043e\u0435 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u0437 \u0434\u0430\u043d\u043d\u044b\u0445","text":""},{"location":"08_mocking/#1-orm","title":"1. \u041c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 ORM \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432","text":"<pre><code>from sqlalchemy.orm import Session\nfrom sqlalchemy import create_engine\n\nclass UserRepository:\n    def __init__(self, session: Session):\n        self.session = session\n\n    def find_active_users(self):\n        return self.session.query(User).filter(User.is_active == True).all()\n\n    def find_by_email(self, email):\n        return self.session.query(User).filter(User.email == email).first()\n\n    def create_user(self, user_data):\n        user = User(**user_data)\n        self.session.add(user)\n        self.session.commit()\n        self.session.refresh(user)\n        return user\n\ndef test_user_repository_find_active(mocker):\n    \"\"\"\u0422\u0435\u0441\u0442 \u043f\u043e\u0438\u0441\u043a\u0430 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439.\"\"\"\n    mock_session = mocker.Mock()\n\n    # \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u0446\u0435\u043f\u043e\u0447\u043a\u0443 \u0432\u044b\u0437\u043e\u0432\u043e\u0432 ORM\n    mock_query = mocker.Mock()\n    mock_filter = mocker.Mock()\n\n    mock_session.query.return_value = mock_query\n    mock_query.filter.return_value = mock_filter\n    mock_filter.all.return_value = [\n        User(id=1, email=\"user1@example.com\", is_active=True),\n        User(id=2, email=\"user2@example.com\", is_active=True)\n    ]\n\n    repository = UserRepository(mock_session)\n    users = repository.find_active_users()\n\n    assert len(users) == 2\n    assert all(user.is_active for user in users)\n\n    mock_session.query.assert_called_once_with(User)\n    mock_query.filter.assert_called_once()\n</code></pre>"},{"location":"08_mocking/#2_1","title":"2. \u041c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439","text":"<pre><code>class OrderService:\n    def __init__(self, session: Session, payment_service):\n        self.session = session\n        self.payment_service = payment_service\n\n    def process_order(self, order_data):\n        try:\n            # \u041d\u0430\u0447\u0438\u043d\u0430\u0435\u043c \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044e\n            order = Order(**order_data)\n            self.session.add(order)\n            self.session.flush()  # \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c ID \u0431\u0435\u0437 commit\n\n            # \u041e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u043c \u043f\u043b\u0430\u0442\u0435\u0436\n            payment_result = self.payment_service.charge(\n                order.id, \n                order.total_amount\n            )\n\n            if payment_result.success:\n                order.status = \"paid\"\n                self.session.commit()\n                return order\n            else:\n                self.session.rollback()\n                raise PaymentError(\"Payment failed\")\n\n        except Exception:\n            self.session.rollback()\n            raise\n\ndef test_order_service_successful_payment(mocker):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0439 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0437\u0430\u043a\u0430\u0437\u0430.\"\"\"\n    mock_session = mocker.Mock()\n    mock_payment_service = mocker.Mock()\n\n    mock_payment_service.charge.return_value = PaymentResult(success=True)\n\n    service = OrderService(mock_session, mock_payment_service)\n    order_data = {\"product_id\": 1, \"quantity\": 2, \"total_amount\": 100}\n\n    result = service.process_order(order_data)\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439\n    mock_session.add.assert_called_once()\n    mock_session.flush.assert_called_once()\n    mock_payment_service.charge.assert_called_once()\n    mock_session.commit.assert_called_once()\n    mock_session.rollback.assert_not_called()\n\ndef test_order_service_payment_failure(mocker):\n    \"\"\"\u0422\u0435\u0441\u0442 \u043d\u0435\u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0439 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043f\u043b\u0430\u0442\u0435\u0436\u0430.\"\"\"\n    mock_session = mocker.Mock()\n    mock_payment_service = mocker.Mock()\n\n    mock_payment_service.charge.return_value = PaymentResult(success=False)\n\n    service = OrderService(mock_session, mock_payment_service)\n    order_data = {\"product_id\": 1, \"quantity\": 2, \"total_amount\": 100}\n\n    with pytest.raises(PaymentError):\n        service.process_order(order_data)\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u043e\u0442\u043a\u0430\u0442 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438\n    mock_session.rollback.assert_called_once()\n    mock_session.commit.assert_not_called()\n</code></pre>"},{"location":"08_mocking/#3-redis","title":"3. \u041c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 Redis","text":"<pre><code>import redis\nfrom unittest.mock import Mock\n\nclass CacheService:\n    def __init__(self, redis_client):\n        self.redis = redis_client\n\n    def get_user_cache(self, user_id):\n        cached = self.redis.get(f\"user:{user_id}\")\n        if cached:\n            return json.loads(cached)\n        return None\n\n    def set_user_cache(self, user_id, user_data, ttl=3600):\n        self.redis.setex(\n            f\"user:{user_id}\", \n            ttl, \n            json.dumps(user_data)\n        )\n\ndef test_cache_service_hit(mocker):\n    \"\"\"\u0422\u0435\u0441\u0442 \u043f\u043e\u043f\u0430\u0434\u0430\u043d\u0438\u044f \u0432 \u043a\u044d\u0448.\"\"\"\n    mock_redis = mocker.Mock()\n    mock_redis.get.return_value = '{\"id\": 123, \"name\": \"John\"}'\n\n    cache_service = CacheService(mock_redis)\n    user_data = cache_service.get_user_cache(123)\n\n    assert user_data[\"name\"] == \"John\"\n    mock_redis.get.assert_called_once_with(\"user:123\")\n\ndef test_cache_service_miss(mocker):\n    \"\"\"\u0422\u0435\u0441\u0442 \u043f\u0440\u043e\u043c\u0430\u0445\u0430 \u043a\u044d\u0448\u0430.\"\"\"\n    mock_redis = mocker.Mock()\n    mock_redis.get.return_value = None\n\n    cache_service = CacheService(mock_redis)\n    user_data = cache_service.get_user_cache(123)\n\n    assert user_data is None\n    mock_redis.get.assert_called_once_with(\"user:123\")\n\ndef test_cache_service_set(mocker):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043a\u044d\u0448\u0430.\"\"\"\n    mock_redis = mocker.Mock()\n\n    cache_service = CacheService(mock_redis)\n    user_data = {\"id\": 123, \"name\": \"John\"}\n    cache_service.set_user_cache(123, user_data, ttl=1800)\n\n    mock_redis.setex.assert_called_once_with(\n        \"user:123\", \n        1800, \n        '{\"id\": 123, \"name\": \"John\"}'\n    )\n</code></pre>"},{"location":"08_mocking/#_14","title":"\u26a1 \u041c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0433\u043e \u043a\u043e\u0434\u0430","text":""},{"location":"08_mocking/#1-asyncmock-asyncawait","title":"1. AsyncMock \u0434\u043b\u044f async/await","text":"<pre><code>import asyncio\nimport aiohttp\nfrom unittest.mock import AsyncMock\n\nclass AsyncAPIClient:\n    def __init__(self, base_url):\n        self.base_url = base_url\n\n    async def fetch_data(self, endpoint):\n        async with aiohttp.ClientSession() as session:\n            async with session.get(f\"{self.base_url}/{endpoint}\") as response:\n                return await response.json()\n\n    async def post_data(self, endpoint, data):\n        async with aiohttp.ClientSession() as session:\n            async with session.post(f\"{self.base_url}/{endpoint}\", json=data) as response:\n                return await response.json()\n\n@pytest.mark.asyncio\nasync def test_async_api_client_fetch(mocker):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445.\"\"\"\n    mock_session = AsyncMock()\n    mock_response = AsyncMock()\n    mock_response.json.return_value = {\"status\": \"success\", \"data\": [1, 2, 3]}\n\n    # \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c async context manager\n    mock_session.get.return_value.__aenter__.return_value = mock_response\n\n    # \u041c\u043e\u043a\u0438\u0440\u0443\u0435\u043c \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0435\u0441\u0441\u0438\u0438\n    mocker.patch('aiohttp.ClientSession', return_value=mock_session)\n\n    client = AsyncAPIClient(\"https://api.example.com\")\n    result = await client.fetch_data(\"users\")\n\n    assert result[\"status\"] == \"success\"\n    assert result[\"data\"] == [1, 2, 3]\n\n    mock_session.get.assert_called_once_with(\"https://api.example.com/users\")\n    mock_response.json.assert_called_once()\n\n@pytest.mark.asyncio\nasync def test_async_api_client_post(mocker):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0439 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445.\"\"\"\n    mock_session = AsyncMock()\n    mock_response = AsyncMock()\n    mock_response.json.return_value = {\"id\": 123, \"created\": True}\n\n    mock_session.post.return_value.__aenter__.return_value = mock_response\n    mocker.patch('aiohttp.ClientSession', return_value=mock_session)\n\n    client = AsyncAPIClient(\"https://api.example.com\")\n    result = await client.post_data(\"users\", {\"name\": \"John\"})\n\n    assert result[\"created\"] is True\n    assert result[\"id\"] == 123\n\n    mock_session.post.assert_called_once_with(\n        \"https://api.example.com/users\", \n        json={\"name\": \"John\"}\n    )\n</code></pre>"},{"location":"08_mocking/#2-asynciosleep","title":"2. \u041c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 asyncio.sleep \u0438 \u0442\u0430\u0439\u043c\u0435\u0440\u043e\u0432","text":"<pre><code>import asyncio\nfrom unittest.mock import patch, AsyncMock\n\nclass RateLimitedService:\n    def __init__(self, requests_per_second=10):\n        self.requests_per_second = requests_per_second\n        self.last_request_time = 0\n\n    async def make_request(self, data):\n        # \u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432\n        current_time = asyncio.get_event_loop().time()\n        time_since_last = current_time - self.last_request_time\n        min_interval = 1.0 / self.requests_per_second\n\n        if time_since_last &lt; min_interval:\n            sleep_time = min_interval - time_since_last\n            await asyncio.sleep(sleep_time)\n\n        self.last_request_time = asyncio.get_event_loop().time()\n        return f\"Processed: {data}\"\n\n@pytest.mark.asyncio\nasync def test_rate_limited_service():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u0441 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435\u043c \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u0438.\"\"\"\n    service = RateLimitedService(requests_per_second=2)  # 2 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0432 \u0441\u0435\u043a\u0443\u043d\u0434\u0443\n\n    with patch('asyncio.sleep', new_callable=AsyncMock) as mock_sleep:\n        # \u041f\u0435\u0440\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 - \u0431\u0435\u0437 \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0438\n        result1 = await service.make_request(\"data1\")\n        assert result1 == \"Processed: data1\"\n        mock_sleep.assert_not_called()\n\n        # \u0412\u0442\u043e\u0440\u043e\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 \u0441\u0440\u0430\u0437\u0443 - \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430\n        result2 = await service.make_request(\"data2\")\n        assert result2 == \"Processed: data2\"\n        mock_sleep.assert_called_once()\n\n        # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0438 (\u043f\u0440\u0438\u043c\u0435\u0440\u043d\u043e 0.5 \u0441\u0435\u043a\u0443\u043d\u0434\u044b \u0434\u043b\u044f 2 rps)\n        call_args = mock_sleep.call_args[0]\n        assert 0.4 &lt;= call_args[0] &lt;= 0.6\n</code></pre>"},{"location":"08_mocking/#3_1","title":"3. \u041c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u043a\u0443\u0440\u0435\u043d\u0442\u043d\u043e\u0441\u0442\u0438","text":"<pre><code>import asyncio\nfrom unittest.mock import AsyncMock, patch\n\nclass ConcurrentProcessor:\n    def __init__(self, max_workers=3):\n        self.max_workers = max_workers\n        self.semaphore = asyncio.Semaphore(max_workers)\n\n    async def process_item(self, item):\n        async with self.semaphore:\n            # \u0418\u043c\u0438\u0442\u0430\u0446\u0438\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438\n            await asyncio.sleep(0.1)\n            return f\"processed_{item}\"\n\n    async def process_batch(self, items):\n        tasks = []\n        for item in items:\n            task = asyncio.create_task(self.process_item(item))\n            tasks.append(task)\n\n        results = await asyncio.gather(*tasks, return_exceptions=True)\n        return results\n\n@pytest.mark.asyncio\nasync def test_concurrent_processor():\n    \"\"\"\u0422\u0435\u0441\u0442 \u043a\u043e\u043d\u043a\u0443\u0440\u0435\u043d\u0442\u043d\u043e\u0439 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438.\"\"\"\n    processor = ConcurrentProcessor(max_workers=2)\n\n    with patch('asyncio.sleep', new_callable=AsyncMock) as mock_sleep:\n        items = [\"item1\", \"item2\", \"item3\", \"item4\"]\n        results = await processor.process_batch(items)\n\n        assert len(results) == 4\n        assert all(result.startswith(\"processed_\") for result in results)\n\n        # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0447\u0442\u043e sleep \u0432\u044b\u0437\u044b\u0432\u0430\u043b\u0441\u044f \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430\n        assert mock_sleep.call_count == 4\n</code></pre>"},{"location":"08_mocking/#_15","title":"\ud83d\udcc1 \u041c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u043e\u0432\u044b\u0445 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439","text":""},{"location":"08_mocking/#1-pathlib","title":"1. \u041c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 pathlib","text":"<pre><code>from pathlib import Path\nfrom unittest.mock import Mock, mock_open, patch\n\nclass ConfigManager:\n    def __init__(self, config_dir: Path):\n        self.config_dir = config_dir\n\n    def load_config(self, config_name: str):\n        config_file = self.config_dir / f\"{config_name}.json\"\n\n        if not config_file.exists():\n            return {}\n\n        with config_file.open('r') as f:\n            return json.load(f)\n\n    def save_config(self, config_name: str, config_data: dict):\n        self.config_dir.mkdir(parents=True, exist_ok=True)\n        config_file = self.config_dir / f\"{config_name}.json\"\n\n        with config_file.open('w') as f:\n            json.dump(config_data, f, indent=2)\n\ndef test_config_manager_load_existing(mocker):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0433\u043e \u043a\u043e\u043d\u0444\u0438\u0433\u0430.\"\"\"\n    config_data = {\"database_url\": \"localhost\", \"debug\": True}\n\n    # \u041c\u043e\u043a\u0438\u0440\u0443\u0435\u043c pathlib \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438\n    mock_path = mocker.Mock()\n    mock_path.exists.return_value = True\n    mock_path.open.return_value.__enter__.return_value = mock_open(\n        read_data=json.dumps(config_data)\n    ).return_value\n\n    mocker.patch('pathlib.Path.__truediv__', return_value=mock_path)\n\n    manager = ConfigManager(Path(\"/app/config\"))\n    config = manager.load_config(\"database\")\n\n    assert config == config_data\n    mock_path.exists.assert_called_once()\n\ndef test_config_manager_save(mocker):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0430.\"\"\"\n    config_data = {\"database_url\": \"localhost\", \"debug\": True}\n\n    mock_config_dir = mocker.Mock()\n    mock_config_file = mocker.Mock()\n\n    mock_config_dir.__truediv__.return_value = mock_config_file\n\n    # \u041c\u043e\u043a\u0438\u0440\u0443\u0435\u043c file operations\n    mock_file = mock_open()\n    mock_config_file.open.return_value = mock_file.return_value\n\n    manager = ConfigManager(mock_config_dir)\n    manager.save_config(\"database\", config_data)\n\n    mock_config_dir.mkdir.assert_called_once_with(parents=True, exist_ok=True)\n    mock_config_file.open.assert_called_once_with('w')\n</code></pre>"},{"location":"08_mocking/#2-osenviron","title":"2. \u041c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 os.environ","text":"<pre><code>import os\nfrom unittest.mock import patch\n\nclass EnvironmentConfig:\n    def __init__(self):\n        self.database_url = os.getenv(\"DATABASE_URL\", \"sqlite:///default.db\")\n        self.debug = os.getenv(\"DEBUG\", \"false\").lower() == \"true\"\n        self.secret_key = os.getenv(\"SECRET_KEY\")\n\n    def validate(self):\n        if not self.secret_key:\n            raise ValueError(\"SECRET_KEY environment variable is required\")\n\n        if len(self.secret_key) &lt; 32:\n            raise ValueError(\"SECRET_KEY must be at least 32 characters\")\n\ndef test_environment_config_defaults():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e.\"\"\"\n    with patch.dict(os.environ, {}, clear=True):\n        config = EnvironmentConfig()\n\n        assert config.database_url == \"sqlite:///default.db\"\n        assert config.debug is False\n        assert config.secret_key is None\n\ndef test_environment_config_custom_values():\n    \"\"\"\u0422\u0435\u0441\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439.\"\"\"\n    env_vars = {\n        \"DATABASE_URL\": \"postgresql://localhost/mydb\",\n        \"DEBUG\": \"true\",\n        \"SECRET_KEY\": \"a\" * 32\n    }\n\n    with patch.dict(os.environ, env_vars, clear=True):\n        config = EnvironmentConfig()\n\n        assert config.database_url == \"postgresql://localhost/mydb\"\n        assert config.debug is True\n        assert config.secret_key == \"a\" * 32\n\ndef test_environment_config_validation_missing_key():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0433\u043e \u043a\u043b\u044e\u0447\u0430.\"\"\"\n    with patch.dict(os.environ, {}, clear=True):\n        config = EnvironmentConfig()\n\n        with pytest.raises(ValueError, match=\"SECRET_KEY environment variable is required\"):\n            config.validate()\n\ndef test_environment_config_validation_short_key():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438 \u043a\u043e\u0440\u043e\u0442\u043a\u043e\u0433\u043e \u043a\u043b\u044e\u0447\u0430.\"\"\"\n    with patch.dict(os.environ, {\"SECRET_KEY\": \"short\"}, clear=True):\n        config = EnvironmentConfig()\n\n        with pytest.raises(ValueError, match=\"SECRET_KEY must be at least 32 characters\"):\n            config.validate()\n</code></pre>"},{"location":"08_mocking/#_16","title":"\ud83d\udd04 \u041c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0446\u0438\u0440\u043a\u0443\u043b\u044f\u0440\u043d\u044b\u0445 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439","text":""},{"location":"08_mocking/#1_1","title":"1. \u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u0446\u0438\u0440\u043a\u0443\u043b\u044f\u0440\u043d\u044b\u0445 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439","text":"<pre><code># \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430: \u0446\u0438\u0440\u043a\u0443\u043b\u044f\u0440\u043d\u0430\u044f \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c\nclass UserService:\n    def __init__(self, order_service):\n        self.order_service = order_service\n\n    def get_user_with_orders(self, user_id):\n        user = self.get_user(user_id)\n        orders = self.order_service.get_user_orders(user_id)\n        return {\"user\": user, \"orders\": orders}\n\nclass OrderService:\n    def __init__(self, user_service):\n        self.user_service = user_service\n\n    def get_order_with_user(self, order_id):\n        order = self.get_order(order_id)\n        user = self.user_service.get_user(order.user_id)\n        return {\"order\": order, \"user\": user}\n\n# \u0420\u0435\u0448\u0435\u043d\u0438\u0435 \u0447\u0435\u0440\u0435\u0437 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\ndef test_user_service_with_orders(mocker):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0441 \u0437\u0430\u043a\u0430\u0437\u0430\u043c\u0438.\"\"\"\n    # \u041c\u043e\u043a\u0438\u0440\u0443\u0435\u043c OrderService\n    mock_order_service = mocker.Mock()\n    mock_order_service.get_user_orders.return_value = [\n        Order(id=1, user_id=123, total=100),\n        Order(id=2, user_id=123, total=200)\n    ]\n\n    # \u0421\u043e\u0437\u0434\u0430\u0435\u043c UserService \u0441 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u043c OrderService\n    user_service = UserService(mock_order_service)\n\n    # \u041c\u043e\u043a\u0438\u0440\u0443\u0435\u043c get_user \u043c\u0435\u0442\u043e\u0434\n    mocker.patch.object(user_service, 'get_user', return_value=User(id=123, name=\"John\"))\n\n    result = user_service.get_user_with_orders(123)\n\n    assert result[\"user\"].name == \"John\"\n    assert len(result[\"orders\"]) == 2\n    assert result[\"orders\"][0].total == 100\n\n    mock_order_service.get_user_orders.assert_called_once_with(123)\n</code></pre>"},{"location":"08_mocking/#2-dependency-injection","title":"2. Dependency Injection \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f","text":"<pre><code>from typing import Protocol\n\nclass UserRepositoryProtocol(Protocol):\n    def find_by_id(self, user_id: int) -&gt; User: ...\n\nclass OrderRepositoryProtocol(Protocol):\n    def find_by_user_id(self, user_id: int) -&gt; list[Order]: ...\n\nclass UserService:\n    def __init__(self, user_repo: UserRepositoryProtocol, order_repo: OrderRepositoryProtocol):\n        self.user_repo = user_repo\n        self.order_repo = order_repo\n\n    def get_user_summary(self, user_id: int):\n        user = self.user_repo.find_by_id(user_id)\n        orders = self.order_repo.find_by_user_id(user_id)\n\n        return {\n            \"user\": user,\n            \"total_orders\": len(orders),\n            \"total_spent\": sum(order.total for order in orders)\n        }\n\ndef test_user_service_summary(mocker):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441\u0432\u043e\u0434\u043a\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n    mock_user_repo = mocker.Mock()\n    mock_order_repo = mocker.Mock()\n\n    mock_user_repo.find_by_id.return_value = User(id=123, name=\"John\")\n    mock_order_repo.find_by_user_id.return_value = [\n        Order(id=1, total=100),\n        Order(id=2, total=200),\n        Order(id=3, total=150)\n    ]\n\n    service = UserService(mock_user_repo, mock_order_repo)\n    summary = service.get_user_summary(123)\n\n    assert summary[\"user\"].name == \"John\"\n    assert summary[\"total_orders\"] == 3\n    assert summary[\"total_spent\"] == 450\n\n    mock_user_repo.find_by_id.assert_called_once_with(123)\n    mock_order_repo.find_by_user_id.assert_called_once_with(123)\n</code></pre>"},{"location":"08_mocking/#_17","title":"\ud83c\udfaf \u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 \u0442\u0435\u0445\u043d\u0438\u043a\u0438 \u0432\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438","text":""},{"location":"08_mocking/#1-argument-captors","title":"1. Argument Captors","text":"<pre><code>from unittest.mock import Mock, call\n\nclass EmailService:\n    def __init__(self, smtp_client):\n        self.smtp_client = smtp_client\n\n    def send_bulk_emails(self, recipients, template, **template_vars):\n        sent_count = 0\n        for recipient in recipients:\n            try:\n                message = template.format(name=recipient.get('name', 'User'), **template_vars)\n                self.smtp_client.send(\n                    to=recipient['email'],\n                    subject=f\"Message for {recipient.get('name', 'User')}\",\n                    body=message\n                )\n                sent_count += 1\n            except Exception:\n                continue\n\n        return sent_count\n\ndef test_email_service_bulk_send(mocker):\n    \"\"\"\u0422\u0435\u0441\u0442 \u043c\u0430\u0441\u0441\u043e\u0432\u043e\u0439 \u0440\u0430\u0441\u0441\u044b\u043b\u043a\u0438 \u0441 \u0437\u0430\u0445\u0432\u0430\u0442\u043e\u043c \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432.\"\"\"\n    mock_smtp = mocker.Mock()\n    mock_smtp.send.return_value = True\n\n    service = EmailService(mock_smtp)\n\n    recipients = [\n        {\"email\": \"john@example.com\", \"name\": \"John\"},\n        {\"email\": \"jane@example.com\", \"name\": \"Jane\"},\n        {\"email\": \"bob@example.com\", \"name\": \"Bob\"}\n    ]\n\n    template = \"Hello {name}! Welcome to our {product}!\"\n    sent_count = service.send_bulk_emails(recipients, template, product=\"Service\")\n\n    assert sent_count == 3\n    assert mock_smtp.send.call_count == 3\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0432\u0441\u0435 \u0432\u044b\u0437\u043e\u0432\u044b\n    expected_calls = [\n        call(\n            to=\"john@example.com\",\n            subject=\"Message for John\",\n            body=\"Hello John! Welcome to our Service!\"\n        ),\n        call(\n            to=\"jane@example.com\",\n            subject=\"Message for Jane\",\n            body=\"Hello Jane! Welcome to our Service!\"\n        ),\n        call(\n            to=\"bob@example.com\",\n            subject=\"Message for Bob\",\n            body=\"Hello Bob! Welcome to our Service!\"\n        )\n    ]\n\n    mock_smtp.send.assert_has_calls(expected_calls, any_order=False)\n\n    # \u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 - \u0430\u043d\u0430\u043b\u0438\u0437 call_args_list\n    call_args_list = mock_smtp.send.call_args_list\n    sent_emails = [call[1]['to'] for call in call_args_list]\n    assert \"john@example.com\" in sent_emails\n    assert \"jane@example.com\" in sent_emails\n    assert \"bob@example.com\" in sent_emails\n</code></pre>"},{"location":"08_mocking/#2_2","title":"2. \u041f\u043e\u0432\u0435\u0434\u0435\u043d\u0447\u0435\u0441\u043a\u0430\u044f \u0432\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f","text":"<pre><code>class AuditLogger:\n    def __init__(self, log_storage):\n        self.log_storage = log_storage\n\n    def log_action(self, user_id, action, resource_id, details=None):\n        log_entry = {\n            \"timestamp\": datetime.utcnow().isoformat(),\n            \"user_id\": user_id,\n            \"action\": action,\n            \"resource_id\": resource_id,\n            \"details\": details or {}\n        }\n        self.log_storage.store(log_entry)\n\nclass BankingService:\n    def __init__(self, account_repo, audit_logger):\n        self.account_repo = account_repo\n        self.audit_logger = audit_logger\n\n    def transfer_money(self, from_account_id, to_account_id, amount, user_id):\n        # \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u044b\n        from_account = self.account_repo.get(from_account_id)\n        to_account = self.account_repo.get(to_account_id)\n\n        # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0431\u0430\u043b\u0430\u043d\u0441\n        if from_account.balance &lt; amount:\n            self.audit_logger.log_action(\n                user_id, \"transfer_failed\", from_account_id,\n                {\"reason\": \"insufficient_funds\", \"amount\": amount}\n            )\n            raise InsufficientFundsError()\n\n        # \u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u043f\u0435\u0440\u0435\u0432\u043e\u0434\n        from_account.balance -= amount\n        to_account.balance += amount\n\n        self.account_repo.save(from_account)\n        self.account_repo.save(to_account)\n\n        # \u041b\u043e\u0433\u0438\u0440\u0443\u0435\u043c \u0443\u0441\u043f\u0435\u0448\u043d\u044b\u0439 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\n        self.audit_logger.log_action(\n            user_id, \"transfer_completed\", from_account_id,\n            {\n                \"to_account\": to_account_id,\n                \"amount\": amount,\n                \"from_balance\": from_account.balance,\n                \"to_balance\": to_account.balance\n            }\n        )\n\ndef test_banking_service_successful_transfer(mocker):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430 \u0441 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u043e\u0439 \u0430\u0443\u0434\u0438\u0442\u0430.\"\"\"\n    mock_repo = mocker.Mock()\n    mock_audit = mocker.Mock()\n\n    # \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u044b\n    from_account = Account(id=1, balance=1000)\n    to_account = Account(id=2, balance=500)\n\n    mock_repo.get.side_effect = lambda account_id: {\n        1: from_account,\n        2: to_account\n    }[account_id]\n\n    service = BankingService(mock_repo, mock_audit)\n\n    # \u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u043f\u0435\u0440\u0435\u0432\u043e\u0434\n    service.transfer_money(\n        from_account_id=1,\n        to_account_id=2,\n        amount=200,\n        user_id=99\n    )\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0431\u0430\u043b\u0430\u043d\u0441\u043e\u0432\n    assert from_account.balance == 800\n    assert to_account.balance == 700\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435\n    assert mock_repo.save.call_count == 2\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0430\u0443\u0434\u0438\u0442 \u043b\u043e\u0433\n    mock_audit.log_action.assert_called_once()\n    audit_call = mock_audit.log_action.call_args\n\n    assert audit_call[0][0] == 99  # user_id\n    assert audit_call[0][1] == \"transfer_completed\"  # action\n    assert audit_call[0][2] == 1  # resource_id\n\n    details = audit_call[0][3]\n    assert details[\"amount\"] == 200\n    assert details[\"to_account\"] == 2\n    assert details[\"from_balance\"] == 800\n    assert details[\"to_balance\"] == 700\n\ndef test_banking_service_insufficient_funds(mocker):\n    \"\"\"\u0422\u0435\u0441\u0442 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430 \u0441 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u044b\u043c\u0438 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430\u043c\u0438.\"\"\"\n    mock_repo = mocker.Mock()\n    mock_audit = mocker.Mock()\n\n    from_account = Account(id=1, balance=100)  # \u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432\n    mock_repo.get.return_value = from_account\n\n    service = BankingService(mock_repo, mock_audit)\n\n    with pytest.raises(InsufficientFundsError):\n        service.transfer_money(\n            from_account_id=1,\n            to_account_id=2,\n            amount=200,\n            user_id=99\n        )\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0447\u0442\u043e \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u043b\u0438\n    mock_repo.save.assert_not_called()\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0430\u0443\u0434\u0438\u0442 \u043b\u043e\u0433 \u043e\u0448\u0438\u0431\u043a\u0438\n    mock_audit.log_action.assert_called_once_with(\n        99, \"transfer_failed\", 1,\n        {\"reason\": \"insufficient_funds\", \"amount\": 200}\n    )\n</code></pre>"},{"location":"08_mocking/#_18","title":"\ud83c\udfaf \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0448\u0430\u0433\u0438","text":"<p>\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u0438\u0437\u0443\u0447\u0438\u043c \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u2014 \u043a\u0430\u043a \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043c\u0435\u0436\u0434\u0443 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430\u043c\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u044b.</p> <p>\u0422\u0430\u043a\u0436\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c \u0438\u0437\u0443\u0447\u0438\u0442\u044c: - \u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u043e\u0435 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u2014 \u0434\u043b\u044f \u0431\u043e\u043b\u0435\u0435 \u0441\u043b\u043e\u0436\u043d\u044b\u0445 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0435\u0432 - \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043e\u0448\u0438\u0431\u043e\u043a \u2014 \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f\u043c\u0438 \u0432 \u043c\u043e\u043a\u0430\u0445</p>"},{"location":"08_mocking/#_19","title":"\ud83e\uddea \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u0432\u043e\u0438 \u0437\u043d\u0430\u043d\u0438\u044f","text":""},{"location":"08_mocking/#_20","title":"\ud83d\ude80 \u0418\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u0430\u044f \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430","text":""},{"location":"08_mocking/#email-mock","title":"\ud83d\udce7 Email \u0441\u0435\u0440\u0432\u0438\u0441 \u0441 Mock \u043e\u0431\u044a\u0435\u043a\u0442\u0430\u043c\u0438","text":"<p>\u0413\u043e\u0442\u043e\u0432\u044b \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u0430 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0435? \u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 email \u0441\u0435\u0440\u0432\u0438\u0441 \u0441 \u043f\u043e\u043b\u043d\u043e\u0439 \u0438\u0437\u043e\u043b\u044f\u0446\u0438\u0435\u0439 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439:</p> <p>\ud83c\udfaf \u0418\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0435: Email \u0441\u0435\u0440\u0432\u0438\u0441 \u0441 Mock \u043e\u0431\u044a\u0435\u043a\u0442\u0430\u043c\u0438</p> <p>\u0412 \u044d\u0442\u043e\u043c \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0438 \u0432\u044b: - \u0421\u043e\u0437\u0434\u0430\u0434\u0438\u0442\u0435 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0443 \u0441 Dependency Injection - \u041e\u0441\u0432\u043e\u0438\u0442\u0435 \u0432\u0441\u0435 \u0432\u0438\u0434\u044b Test Doubles (Dummy, Stub, Spy, Mock, Fake) - \u0418\u0437\u0443\u0447\u0438\u0442\u0435 \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 \u0442\u0435\u0445\u043d\u0438\u043a\u0438 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f (<code>side_effect</code>, \u0444\u0443\u043d\u043a\u0446\u0438\u0438, \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438) - \u041f\u0440\u043e\u0442\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u0442\u0435 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0438 \u043e\u0448\u0438\u0431\u043e\u043a \u0438 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439 - \u041f\u043e\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442\u0435 \u0441 <code>@patch</code> \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440\u0430\u043c\u0438 \u0438 <code>pytest-mock</code></p> <p>\u042d\u0442\u043e \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u043a\u0430\u0436\u0435\u0442, \u043a\u0430\u043a \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0431\u044b\u0441\u0442\u0440\u044b\u0435, \u043d\u0430\u0434\u0435\u0436\u043d\u044b\u0435 \u0438 \u0438\u0437\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b \u0434\u043b\u044f \u0441\u043b\u043e\u0436\u043d\u044b\u0445 \u0441\u0438\u0441\u0442\u0435\u043c!</p>"},{"location":"08_mocking/#_21","title":"\ud83d\udd17 \u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0442\u0435\u043c\u044b","text":"<ul> <li>Pytest \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a - \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043c\u043e\u043a\u043e\u0432 \u0441 pytest</li> <li>\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b - \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043c\u043e\u043a\u043e\u0432 \u0432 \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u0445</li> <li>\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 - \u043a\u043e\u0433\u0434\u0430 \u043c\u043e\u043a\u0438 \u043d\u0435 \u043d\u0443\u0436\u043d\u044b</li> <li>\u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u043e\u0435 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 - \u0441\u043b\u043e\u0436\u043d\u044b\u0435 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0438 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f</li> <li>TDD \u0432 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 - \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u0432\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f\u0445</li> <li>\u041b\u0443\u0447\u0448\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438 - \u0430\u043d\u0442\u0438\u043f\u0430\u0442\u0442\u0435\u0440\u043d\u044b \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f</li> </ul> <p>\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430: \u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435</p> <p>\ud83c\udfad \u041c\u043e\u043a\u0438 \u043e\u0441\u0432\u043e\u0435\u043d\u044b \u2014 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u043a \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044e \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439!</p>"},{"location":"09_integration_testing/","title":"\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","text":""},{"location":"09_integration_testing/#_2","title":"\ud83c\udfaf \u0427\u0442\u043e \u0442\u0430\u043a\u043e\u0435 \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435?","text":"<p>\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u2014 \u044d\u0442\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043c\u0435\u0436\u0434\u0443 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c\u0438 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430\u043c\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u044b. \u0412 \u043e\u0442\u043b\u0438\u0447\u0438\u0435 \u043e\u0442 unit \u0442\u0435\u0441\u0442\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u0443\u044e\u0442 \u0438\u0437\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0447\u0430\u0441\u0442\u0438 \u043a\u043e\u0434\u0430, \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u044e\u0442, \u0447\u0442\u043e \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 \u0432\u043c\u0435\u0441\u0442\u0435.</p>"},{"location":"09_integration_testing/#_3","title":"\ud83c\udfd7 \u0423\u0440\u043e\u0432\u043d\u0438 \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f","text":""},{"location":"09_integration_testing/#1-component-integration-testing","title":"1. Component Integration Testing","text":"<p>\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043c\u0435\u0436\u0434\u0443 \u043a\u043b\u0430\u0441\u0441\u0430\u043c\u0438 \u0438 \u043c\u043e\u0434\u0443\u043b\u044f\u043c\u0438.</p> <pre><code># \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 UserService \u0438 UserRepository\ndef test_user_service_repository_integration():\n    \"\"\"\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0441 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0435\u043c.\"\"\"\n    # \u0420\u0435\u0430\u043b\u044c\u043d\u044b\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b, \u043d\u043e \u0441 \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0439 \u0411\u0414\n    repository = UserRepository(test_database_connection)\n    service = UserService(repository)\n\n    # \u0422\u0435\u0441\u0442 \u043f\u043e\u043b\u043d\u043e\u0433\u043e \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f\n    user = service.create_user(\"test@example.com\", \"Test User\")\n    found_user = service.find_user_by_email(\"test@example.com\")\n\n    assert found_user.email == user.email\n    assert found_user.id == user.id\n</code></pre>"},{"location":"09_integration_testing/#2-api-integration-testing","title":"2. API Integration Testing","text":"<p>\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 HTTP API endpoints.</p> <pre><code>import requests\nimport pytest\n\n@pytest.fixture\ndef api_client():\n    \"\"\"HTTP \u043a\u043b\u0438\u0435\u043d\u0442 \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u043e\u0432.\"\"\"\n    return requests.Session()\n\ndef test_user_registration_api(api_client):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0447\u0435\u0440\u0435\u0437 API.\"\"\"\n    # \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\n    response = api_client.post('http://localhost:8000/api/users', json={\n        'email': 'test@example.com',\n        'name': 'Test User',\n        'password': 'securepassword'\n    })\n\n    assert response.status_code == 201\n    user_data = response.json()\n    assert 'id' in user_data\n    assert user_data['email'] == 'test@example.com'\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0447\u0442\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441\u043e\u0437\u0434\u0430\u043d\n    get_response = api_client.get(f'http://localhost:8000/api/users/{user_data[\"id\"]}')\n    assert get_response.status_code == 200\n    assert get_response.json()['email'] == 'test@example.com'\n</code></pre>"},{"location":"09_integration_testing/#3-database-integration-testing","title":"3. Database Integration Testing","text":"<p>\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0439 \u0431\u0430\u0437\u043e\u0439 \u0434\u0430\u043d\u043d\u044b\u0445.</p> <pre><code>import pytest\nimport tempfile\nimport os\nfrom sqlalchemy import create_engine\nfrom sqlalchemy.orm import sessionmaker\n\n@pytest.fixture(scope=\"session\")\ndef test_database():\n    \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0439 \u0411\u0414 \u0434\u043b\u044f \u0441\u0435\u0441\u0441\u0438\u0438.\"\"\"\n    # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e \u0411\u0414\n    db_fd, db_path = tempfile.mkstemp()\n    engine = create_engine(f'sqlite:///{db_path}')\n\n    # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0442\u0430\u0431\u043b\u0438\u0446\u044b\n    Base.metadata.create_all(engine)\n\n    yield engine\n\n    # \u041e\u0447\u0438\u0441\u0442\u043a\u0430\n    os.close(db_fd)\n    os.unlink(db_path)\n\n@pytest.fixture\ndef db_session(test_database):\n    \"\"\"\u0421\u0435\u0441\u0441\u0438\u044f \u0411\u0414 \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430.\"\"\"\n    Session = sessionmaker(bind=test_database)\n    session = Session()\n\n    yield session\n\n    session.rollback()\n    session.close()\n\ndef test_user_crud_operations(db_session):\n    \"\"\"\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u0442\u0435\u0441\u0442 CRUD \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439.\"\"\"\n    user_repo = UserRepository(db_session)\n\n    # Create\n    user = User(email=\"test@example.com\", name=\"Test User\")\n    created_user = user_repo.save(user)\n\n    assert created_user.id is not None\n\n    # Read\n    found_user = user_repo.find_by_id(created_user.id)\n    assert found_user.email == \"test@example.com\"\n\n    # Update\n    found_user.name = \"Updated Name\"\n    updated_user = user_repo.save(found_user)\n    assert updated_user.name == \"Updated Name\"\n\n    # Delete\n    user_repo.delete(updated_user.id)\n    deleted_user = user_repo.find_by_id(updated_user.id)\n    assert deleted_user is None\n</code></pre>"},{"location":"09_integration_testing/#-","title":"\ud83c\udf10 \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439","text":""},{"location":"09_integration_testing/#flask","title":"Flask \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f","text":"<pre><code>import pytest\nfrom myapp import create_app, db\nfrom myapp.models import User\n\n@pytest.fixture\ndef app():\n    \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 Flask \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u043e\u0432.\"\"\"\n    app = create_app({\n        'TESTING': True,\n        'SQLALCHEMY_DATABASE_URI': 'sqlite:///:memory:'\n    })\n\n    with app.app_context():\n        db.create_all()\n        yield app\n        db.drop_all()\n\n@pytest.fixture\ndef client(app):\n    \"\"\"\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0439 \u043a\u043b\u0438\u0435\u043d\u0442 Flask.\"\"\"\n    return app.test_client()\n\n@pytest.fixture\ndef runner(app):\n    \"\"\"\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0439 CLI runner.\"\"\"\n    return app.test_cli_runner()\n\ndef test_user_registration_flow(client, app):\n    \"\"\"\u0422\u0435\u0441\u0442 \u043f\u043e\u043b\u043d\u043e\u0433\u043e \u043f\u043e\u0442\u043e\u043a\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438.\"\"\"\n    # \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f\n    response = client.post('/register', data={\n        'email': 'test@example.com',\n        'password': 'password123',\n        'confirm_password': 'password123'\n    })\n\n    assert response.status_code == 302  # Redirect \u043f\u043e\u0441\u043b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0439 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0447\u0442\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441\u043e\u0437\u0434\u0430\u043d \u0432 \u0411\u0414\n    with app.app_context():\n        user = User.query.filter_by(email='test@example.com').first()\n        assert user is not None\n        assert not user.is_confirmed  # Email \u043d\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\n\n    # \u041b\u043e\u0433\u0438\u043d\n    response = client.post('/login', data={\n        'email': 'test@example.com',\n        'password': 'password123'\n    })\n\n    assert response.status_code == 302\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435\n    response = client.get('/dashboard')\n    assert response.status_code == 200\n    assert b'Dashboard' in response.data\n</code></pre>"},{"location":"09_integration_testing/#django","title":"Django \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f","text":"<pre><code>import pytest\nfrom django.test import Client\nfrom django.contrib.auth.models import User\nfrom django.urls import reverse\n\n@pytest.fixture\ndef client():\n    \"\"\"Django \u0442\u0435\u0441\u0442 \u043a\u043b\u0438\u0435\u043d\u0442.\"\"\"\n    return Client()\n\n@pytest.fixture\ndef user():\n    \"\"\"\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c.\"\"\"\n    return User.objects.create_user(\n        username='testuser',\n        email='test@example.com',\n        password='testpass123'\n    )\n\n@pytest.mark.django_db\ndef test_user_profile_update(client, user):\n    \"\"\"\u0422\u0435\u0441\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n    # \u041b\u043e\u0433\u0438\u043d\n    client.login(username='testuser', password='testpass123')\n\n    # \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f\n    response = client.post(reverse('profile_update'), {\n        'first_name': 'Test',\n        'last_name': 'User',\n        'bio': 'Test bio'\n    })\n\n    assert response.status_code == 302\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0447\u0442\u043e \u0434\u0430\u043d\u043d\u044b\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u043b\u0438\u0441\u044c\n    user.refresh_from_db()\n    assert user.first_name == 'Test'\n    assert user.last_name == 'User'\n\n@pytest.mark.django_db\ndef test_post_creation_and_display(client, user):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0438 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043f\u043e\u0441\u0442\u0430.\"\"\"\n    client.login(username='testuser', password='testpass123')\n\n    # \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u0430\n    response = client.post(reverse('post_create'), {\n        'title': 'Test Post',\n        'content': 'This is a test post content.'\n    })\n\n    assert response.status_code == 302\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0447\u0442\u043e \u043f\u043e\u0441\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f\n    response = client.get(reverse('post_list'))\n    assert response.status_code == 200\n    assert 'Test Post' in response.content.decode()\n</code></pre>"},{"location":"09_integration_testing/#_4","title":"\ud83d\udcca \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441 \u0432\u043d\u0435\u0448\u043d\u0438\u043c\u0438 \u0441\u0435\u0440\u0432\u0438\u0441\u0430\u043c\u0438","text":""},{"location":"09_integration_testing/#api","title":"\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 API \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0439","text":"<pre><code>import pytest\nimport responses\nimport requests\n\nclass ExternalAPIClient:\n    \"\"\"\u041a\u043b\u0438\u0435\u043d\u0442 \u0434\u043b\u044f \u0432\u043d\u0435\u0448\u043d\u0435\u0433\u043e API.\"\"\"\n\n    def __init__(self, base_url, api_key):\n        self.base_url = base_url\n        self.api_key = api_key\n\n    def get_user_data(self, user_id):\n        \"\"\"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n        response = requests.get(\n            f\"{self.base_url}/users/{user_id}\",\n            headers={\"Authorization\": f\"Bearer {self.api_key}\"}\n        )\n        response.raise_for_status()\n        return response.json()\n\n@responses.activate\ndef test_external_api_integration():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u0441 \u0432\u043d\u0435\u0448\u043d\u0438\u043c API.\"\"\"\n    # \u041c\u043e\u043a\u0438\u0440\u0443\u0435\u043c \u0432\u043d\u0435\u0448\u043d\u0438\u0439 API\n    responses.add(\n        responses.GET,\n        'https://api.external.com/users/123',\n        json={\n            'id': 123,\n            'name': 'John Doe',\n            'email': 'john@example.com'\n        },\n        status=200\n    )\n\n    # \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c \u043d\u0430\u0448 \u043a\u043b\u0438\u0435\u043d\u0442\n    client = ExternalAPIClient(\n        base_url='https://api.external.com',\n        api_key='test-key'\n    )\n\n    user_data = client.get_user_data('123')\n\n    assert user_data['name'] == 'John Doe'\n    assert user_data['email'] == 'john@example.com'\n\n@responses.activate \ndef test_external_api_error_handling():\n    \"\"\"\u0422\u0435\u0441\u0442 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043e\u0448\u0438\u0431\u043e\u043a \u0432\u043d\u0435\u0448\u043d\u0435\u0433\u043e API.\"\"\"\n    responses.add(\n        responses.GET,\n        'https://api.external.com/users/999',\n        status=404\n    )\n\n    client = ExternalAPIClient(\n        base_url='https://api.external.com', \n        api_key='test-key'\n    )\n\n    with pytest.raises(requests.HTTPError):\n        client.get_user_data('999')\n</code></pre>"},{"location":"09_integration_testing/#_5","title":"\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441 \u043e\u0447\u0435\u0440\u0435\u0434\u044f\u043c\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439","text":"<pre><code>import pytest\nfrom unittest.mock import Mock\nimport json\n\nclass MessageQueueProcessor:\n    \"\"\"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439.\"\"\"\n\n    def __init__(self, queue_client, user_service):\n        self.queue_client = queue_client\n        self.user_service = user_service\n\n    def process_user_created_message(self, message):\n        \"\"\"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n        data = json.loads(message)\n        user_id = data['user_id']\n\n        # \u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c welcome email\n        user = self.user_service.get_user(user_id)\n        self.user_service.send_welcome_email(user)\n\n        # \u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u0435\u043c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f\n        self.queue_client.ack_message(message)\n\ndef test_message_processing_integration():\n    \"\"\"\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u0442\u0435\u0441\u0442 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439.\"\"\"\n    # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 (\u043d\u043e \u0441 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u043c\u0438)\n    mock_queue = Mock()\n    mock_user_service = Mock()\n\n    # \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435\n    test_user = User(id=123, email=\"test@example.com\")\n    mock_user_service.get_user.return_value = test_user\n    mock_user_service.send_welcome_email.return_value = True\n\n    processor = MessageQueueProcessor(mock_queue, mock_user_service)\n\n    # \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f\n    message = json.dumps({\"user_id\": 123, \"action\": \"created\"})\n    processor.process_user_created_message(message)\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f\n    mock_user_service.get_user.assert_called_once_with(123)\n    mock_user_service.send_welcome_email.assert_called_once_with(test_user)\n    mock_queue.ack_message.assert_called_once_with(message)\n</code></pre>"},{"location":"09_integration_testing/#_6","title":"\ud83d\udd27 \u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438 \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f","text":""},{"location":"09_integration_testing/#1-bottom-up-testing","title":"1. Bottom-Up Testing","text":"<p>\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043d\u0438\u0437\u0443 \u0432\u0432\u0435\u0440\u0445, \u043d\u0430\u0447\u0438\u043d\u0430\u044f \u0441 \u043d\u0438\u0436\u043d\u0438\u0445 \u0441\u043b\u043e\u0435\u0432.</p> <pre><code>def test_data_layer_integration():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441\u043b\u043e\u044f \u0434\u0430\u043d\u043d\u044b\u0445.\"\"\"\n    repository = UserRepository(database)\n    user = repository.save(User(\"test@example.com\"))\n    assert user.id is not None\n\ndef test_service_layer_integration():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u043e\u0433\u043e \u0441\u043b\u043e\u044f.\"\"\"\n    repository = UserRepository(database)\n    service = UserService(repository)\n    user = service.register_user(\"test@example.com\")\n    assert user.is_active == False\n\ndef test_api_layer_integration():\n    \"\"\"\u0422\u0435\u0441\u0442 API \u0441\u043b\u043e\u044f.\"\"\"\n    response = client.post('/api/users', json={'email': 'test@example.com'})\n    assert response.status_code == 201\n</code></pre>"},{"location":"09_integration_testing/#2-top-down-testing","title":"2. Top-Down Testing","text":"<p>\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0432\u0435\u0440\u0445\u0443 \u0432\u043d\u0438\u0437, \u043d\u0430\u0447\u0438\u043d\u0430\u044f \u0441 UI/API.</p> <pre><code>def test_full_user_journey():\n    \"\"\"\u041f\u043e\u043b\u043d\u044b\u0439 \u043f\u0443\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0447\u0435\u0440\u0435\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u0443.\"\"\"\n    # 1. \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0447\u0435\u0440\u0435\u0437 API\n    response = client.post('/api/register', json={\n        'email': 'test@example.com',\n        'password': 'password123'\n    })\n    assert response.status_code == 201\n\n    # 2. \u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 email (\u0438\u043c\u0438\u0442\u0438\u0440\u0443\u0435\u043c)\n    user_id = response.json()['user_id']\n    confirm_response = client.post(f'/api/confirm/{user_id}')\n    assert confirm_response.status_code == 200\n\n    # 3. \u041b\u043e\u0433\u0438\u043d\n    login_response = client.post('/api/login', json={\n        'email': 'test@example.com',\n        'password': 'password123'\n    })\n    assert login_response.status_code == 200\n    token = login_response.json()['token']\n\n    # 4. \u0414\u043e\u0441\u0442\u0443\u043f \u043a \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u043d\u043e\u043c\u0443 \u0440\u0435\u0441\u0443\u0440\u0441\u0443\n    headers = {'Authorization': f'Bearer {token}'}\n    profile_response = client.get('/api/profile', headers=headers)\n    assert profile_response.status_code == 200\n</code></pre>"},{"location":"09_integration_testing/#3-sandwich-testing","title":"3. Sandwich Testing","text":"<p>\u041a\u043e\u043c\u0431\u0438\u043d\u0430\u0446\u0438\u044f bottom-up \u0438 top-down \u043f\u043e\u0434\u0445\u043e\u0434\u043e\u0432.</p> <pre><code>class TestUserManagementIntegration:\n    \"\"\"\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438.\"\"\"\n\n    def test_bottom_up_data_flow(self, db_session):\n        \"\"\"\u0422\u0435\u0441\u0442 \u043f\u043e\u0442\u043e\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441\u043d\u0438\u0437\u0443 \u0432\u0432\u0435\u0440\u0445.\"\"\"\n        # Repository layer\n        repo = UserRepository(db_session)\n        user = repo.create(email=\"test@example.com\")\n        assert repo.find_by_id(user.id) == user\n\n        # Service layer\n        service = UserService(repo)\n        service.activate_user(user.id)\n        activated_user = repo.find_by_id(user.id)\n        assert activated_user.is_active == True\n\n    def test_top_down_api_flow(self, client):\n        \"\"\"\u0422\u0435\u0441\u0442 API \u043f\u043e\u0442\u043e\u043a\u0430 \u0441\u0432\u0435\u0440\u0445\u0443 \u0432\u043d\u0438\u0437.\"\"\"\n        # API \u0441\u043e\u0437\u0434\u0430\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\n        response = client.post('/users', json={'email': 'test@example.com'})\n        user_id = response.json()['id']\n\n        # API \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u0443\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\n        activate_response = client.put(f'/users/{user_id}/activate')\n        assert activate_response.status_code == 200\n\n        # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\n        get_response = client.get(f'/users/{user_id}')\n        assert get_response.json()['is_active'] == True\n</code></pre>"},{"location":"09_integration_testing/#docker","title":"\ud83d\udc33 \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441 Docker","text":""},{"location":"09_integration_testing/#docker-compose","title":"Docker Compose \u0434\u043b\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0442\u0435\u0441\u0442\u043e\u0432","text":"<pre><code># docker-compose.test.yml\nversion: '3.8'\nservices:\n  test-db:\n    image: postgres:13\n    environment:\n      POSTGRES_DB: test_db\n      POSTGRES_USER: test_user\n      POSTGRES_PASSWORD: test_pass\n    ports:\n      - \"5433:5432\"\n\n  test-redis:\n    image: redis:6\n    ports:\n      - \"6380:6379\"\n\n  test-app:\n    build: .\n    depends_on:\n      - test-db\n      - test-redis\n    environment:\n      DATABASE_URL: postgresql://test_user:test_pass@test-db:5432/test_db\n      REDIS_URL: redis://test-redis:6379/0\n    volumes:\n      - .:/app\n    command: pytest tests/integration/\n</code></pre>"},{"location":"09_integration_testing/#pytest-docker","title":"Pytest \u0441 Docker","text":"<pre><code>import pytest\nimport docker\nimport time\nimport psycopg2\n\n@pytest.fixture(scope=\"session\")\ndef docker_services():\n    \"\"\"\u0417\u0430\u043f\u0443\u0441\u043a Docker \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432 \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u043e\u0432.\"\"\"\n    client = docker.from_env()\n\n    # \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c PostgreSQL\n    postgres = client.containers.run(\n        \"postgres:13\",\n        environment={\n            \"POSTGRES_DB\": \"test_db\",\n            \"POSTGRES_USER\": \"test_user\", \n            \"POSTGRES_PASSWORD\": \"test_pass\"\n        },\n        ports={'5432/tcp': 5433},\n        detach=True,\n        remove=True\n    )\n\n    # \u0416\u0434\u0435\u043c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u0411\u0414\n    for _ in range(30):\n        try:\n            conn = psycopg2.connect(\n                host=\"localhost\",\n                port=5433,\n                database=\"test_db\",\n                user=\"test_user\",\n                password=\"test_pass\"\n            )\n            conn.close()\n            break\n        except psycopg2.OperationalError:\n            time.sleep(1)\n\n    yield {\n        'postgres': postgres,\n        'db_url': 'postgresql://test_user:test_pass@localhost:5433/test_db'\n    }\n\n    # Cleanup\n    postgres.stop()\n\ndef test_database_integration(docker_services):\n    \"\"\"\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u0442\u0435\u0441\u0442 \u0441 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0439 \u0411\u0414 \u0432 Docker.\"\"\"\n    db_url = docker_services['db_url']\n\n    # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0441 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0439 \u0411\u0414\n    app = create_app(database_url=db_url)\n\n    with app.app_context():\n        # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0442\u0430\u0431\u043b\u0438\u0446\u044b\n        db.create_all()\n\n        # \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438\n        user = User(email=\"test@example.com\")\n        db.session.add(user)\n        db.session.commit()\n\n        found_user = User.query.filter_by(email=\"test@example.com\").first()\n        assert found_user is not None\n</code></pre>"},{"location":"09_integration_testing/#_7","title":"\ud83d\udcc8 \u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0442\u0435\u0441\u0442\u043e\u0432","text":""},{"location":"09_integration_testing/#_8","title":"\u0421\u0431\u043e\u0440 \u043c\u0435\u0442\u0440\u0438\u043a \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438","text":"<pre><code>import time\nimport pytest\nfrom dataclasses import dataclass\nfrom typing import List\n\n@dataclass\nclass TestMetrics:\n    test_name: str\n    duration: float\n    db_queries: int\n    api_calls: int\n\nclass MetricsCollector:\n    def __init__(self):\n        self.metrics: List[TestMetrics] = []\n\n    def record_test(self, name: str, duration: float, db_queries: int = 0, api_calls: int = 0):\n        self.metrics.append(TestMetrics(name, duration, db_queries, api_calls))\n\n    def get_slow_tests(self, threshold: float = 1.0) -&gt; List[TestMetrics]:\n        return [m for m in self.metrics if m.duration &gt; threshold]\n\n@pytest.fixture\ndef metrics_collector():\n    return MetricsCollector()\n\ndef test_user_service_performance(metrics_collector, db_session):\n    \"\"\"\u0422\u0435\u0441\u0442 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439.\"\"\"\n    start_time = time.time()\n\n    service = UserService(db_session)\n\n    # \u0421\u043e\u0437\u0434\u0430\u0435\u043c 100 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439\n    for i in range(100):\n        service.create_user(f\"user{i}@example.com\", f\"User {i}\")\n\n    duration = time.time() - start_time\n\n    # \u0417\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u043c \u043c\u0435\u0442\u0440\u0438\u043a\u0438\n    metrics_collector.record_test(\n        \"test_user_service_performance\",\n        duration,\n        db_queries=100  # \u041f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e\n    )\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c\n    assert duration &lt; 5.0, f\"\u0422\u0435\u0441\u0442 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u0435\u0434\u043b\u0435\u043d\u043d\u044b\u0439: {duration}s\"\n</code></pre>"},{"location":"09_integration_testing/#_9","title":"\ud83c\udfaf \u041b\u0443\u0447\u0448\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438 \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f","text":""},{"location":"09_integration_testing/#1","title":"1. \u0418\u0437\u043e\u043b\u044f\u0446\u0438\u044f \u0442\u0435\u0441\u0442\u043e\u0432","text":"<pre><code>@pytest.fixture(autouse=True)\ndef clean_database(db_session):\n    \"\"\"\u041e\u0447\u0438\u0441\u0442\u043a\u0430 \u0411\u0414 \u043f\u043e\u0441\u043b\u0435 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430.\"\"\"\n    yield\n\n    # \u041e\u0447\u0438\u0449\u0430\u0435\u043c \u0432\u0441\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u044b\n    for table in reversed(Base.metadata.sorted_tables):\n        db_session.execute(table.delete())\n    db_session.commit()\n</code></pre>"},{"location":"09_integration_testing/#2","title":"2. \u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u043c\u0438","text":"<pre><code>@pytest.fixture\ndef sample_users(db_session):\n    \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439.\"\"\"\n    users = [\n        User(email=\"user1@example.com\", name=\"User 1\", role=\"admin\"),\n        User(email=\"user2@example.com\", name=\"User 2\", role=\"user\"),\n        User(email=\"user3@example.com\", name=\"User 3\", role=\"user\"),\n    ]\n\n    for user in users:\n        db_session.add(user)\n    db_session.commit()\n\n    return users\n\ndef test_user_search(sample_users, client):\n    \"\"\"\u0422\u0435\u0441\u0442 \u043f\u043e\u0438\u0441\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439.\"\"\"\n    response = client.get('/api/users/search?q=User')\n\n    assert response.status_code == 200\n    users = response.json()\n    assert len(users) == 3\n</code></pre>"},{"location":"09_integration_testing/#3","title":"3. \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f","text":"<pre><code>import os\nimport pytest\n\n@pytest.fixture(scope=\"session\", autouse=True)\ndef setup_test_environment():\n    \"\"\"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u043e\u0432.\"\"\"\n    # \u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u043e\u0432\n    os.environ.update({\n        'ENVIRONMENT': 'test',\n        'DEBUG': 'False',\n        'DATABASE_URL': 'postgresql://test:test@localhost/test_db',\n        'REDIS_URL': 'redis://localhost:6380/0',\n        'EMAIL_BACKEND': 'console',  # \u041d\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0435 emails\n    })\n\n    yield\n\n    # \u041e\u0447\u0438\u0441\u0442\u043a\u0430 \u043f\u043e\u0441\u043b\u0435 \u0442\u0435\u0441\u0442\u043e\u0432\n    for key in ['ENVIRONMENT', 'DEBUG', 'DATABASE_URL', 'REDIS_URL', 'EMAIL_BACKEND']:\n        os.environ.pop(key, None)\n</code></pre>"},{"location":"09_integration_testing/#_10","title":"\ud83c\udfaf \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0448\u0430\u0433\u0438","text":"<p>\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u0438\u0437\u0443\u0447\u0438\u043c \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 TDD \u0432 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0441 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u043c\u0438 \u043f\u0440\u0438\u043c\u0435\u0440\u0430\u043c\u0438 \u043d\u0430 Django \u0438 Flask.</p>"},{"location":"09_integration_testing/#_11","title":"\ud83e\uddea \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u0432\u043e\u0438 \u0437\u043d\u0430\u043d\u0438\u044f","text":""},{"location":"09_integration_testing/#_12","title":"\ud83d\udd17 \u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0442\u0435\u043c\u044b","text":"<ul> <li>Mock \u043e\u0431\u044a\u0435\u043a\u0442\u044b - \u0438\u0437\u043e\u043b\u044f\u0446\u0438\u044f vs \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f</li> <li>\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b - \u043f\u0440\u0438\u043c\u0435\u0440\u044b \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0442\u0435\u0441\u0442\u043e\u0432</li> <li>TDD \u0432 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 - \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439</li> <li>\u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 \u0442\u0435\u0445\u043d\u0438\u043a\u0438 - \u0441\u043b\u043e\u0436\u043d\u044b\u0435 \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0438</li> <li>CI/CD \u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u044f - \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0442\u0435\u0441\u0442\u043e\u0432</li> <li>\u041b\u0443\u0447\u0448\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438 - \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0442\u0435\u0441\u0442\u043e\u0432</li> </ul> <p>\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430: TDD \u0432 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435</p> <p>\ud83d\udd17 \u041a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b \u0441\u0432\u044f\u0437\u0430\u043d\u044b \u2014 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u043a \u0432\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f\u043c!</p>"},{"location":"10_web_development_tdd/","title":"TDD \u0432 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435","text":""},{"location":"10_web_development_tdd/#tdd-_1","title":"\ud83c\udfaf \u041f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 TDD \u0432 \u0432\u0435\u0431-\u043f\u0440\u043e\u0435\u043a\u0442\u0430\u0445","text":"<p>\u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u0432\u044b\u0437\u043e\u0432\u044b \u0434\u043b\u044f TDD: HTTP \u0437\u0430\u043f\u0440\u043e\u0441\u044b, \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445, \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b, \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f. \u0412 \u044d\u0442\u043e\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043a\u0430\u043a \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c TDD \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0432\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439 \u043d\u0430 Python.</p>"},{"location":"10_web_development_tdd/#-tdd","title":"\ud83c\udf10 \u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u0432\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0434\u043b\u044f TDD","text":""},{"location":"10_web_development_tdd/#_1","title":"\u0421\u043b\u043e\u0438\u0441\u0442\u0430\u044f \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430","text":"<pre><code># \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0434\u043b\u044f TDD\nwebapp/\n\u251c\u2500\u2500 domain/              # \u0411\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u0430 (\u044f\u0434\u0440\u043e)\n\u2502   \u251c\u2500\u2500 models.py       # \u0414\u043e\u043c\u0435\u043d\u043d\u044b\u0435 \u043c\u043e\u0434\u0435\u043b\u0438\n\u2502   \u251c\u2500\u2500 services.py     # \u0411\u0438\u0437\u043d\u0435\u0441-\u0441\u0435\u0440\u0432\u0438\u0441\u044b\n\u2502   \u2514\u2500\u2500 repositories.py # \u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0435\u0432\n\u251c\u2500\u2500 infrastructure/     # \u0412\u043d\u0435\u0448\u043d\u0438\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438\n\u2502   \u251c\u2500\u2500 database.py     # \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0411\u0414\n\u2502   \u251c\u2500\u2500 email.py        # Email \u0441\u0435\u0440\u0432\u0438\u0441\n\u2502   \u2514\u2500\u2500 storage.py      # \u0424\u0430\u0439\u043b\u043e\u0432\u043e\u0435 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435\n\u251c\u2500\u2500 web/                # \u0412\u0435\u0431-\u0441\u043b\u043e\u0439\n\u2502   \u251c\u2500\u2500 api/           # REST API\n\u2502   \u251c\u2500\u2500 views.py       # \u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f\n\u2502   \u2514\u2500\u2500 forms.py       # \u0424\u043e\u0440\u043c\u044b\n\u2514\u2500\u2500 tests/\n    \u251c\u2500\u2500 unit/          # Unit \u0442\u0435\u0441\u0442\u044b\n    \u251c\u2500\u2500 integration/   # \u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b\n    \u2514\u2500\u2500 e2e/          # End-to-end \u0442\u0435\u0441\u0442\u044b\n</code></pre>"},{"location":"10_web_development_tdd/#tdd-flask","title":"\ud83d\udd25 TDD \u0441 Flask","text":""},{"location":"10_web_development_tdd/#api","title":"\u041f\u0440\u043e\u0435\u043a\u0442: API \u0431\u043b\u043e\u0433\u0430","text":""},{"location":"10_web_development_tdd/#1","title":"\u0418\u0442\u0435\u0440\u0430\u0446\u0438\u044f 1: \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u0430","text":""},{"location":"10_web_development_tdd/#red","title":"\ud83d\udd34 RED: \u0422\u0435\u0441\u0442 \u043c\u043e\u0434\u0435\u043b\u0438","text":"<pre><code># tests/unit/test_models.py\nimport pytest\nfrom datetime import datetime\nfrom domain.models import Post, User\n\ndef test_create_post():\n    \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u0430 \u0441 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u043e\u043c \u0438 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u044b\u043c.\"\"\"\n    author = User(email=\"author@example.com\", name=\"Author\")\n    post = Post(\n        title=\"Test Post\", \n        content=\"Test content\",\n        author=author\n    )\n\n    assert post.title == \"Test Post\"\n    assert post.content == \"Test content\"\n    assert post.author == author\n    assert isinstance(post.created_at, datetime)\n    assert post.slug == \"test-post\"\n\ndef test_post_requires_title():\n    \"\"\"\u041f\u043e\u0441\u0442 \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a.\"\"\"\n    author = User(email=\"author@example.com\", name=\"Author\")\n\n    with pytest.raises(ValueError, match=\"Title is required\"):\n        Post(title=\"\", content=\"Content\", author=author)\n</code></pre>"},{"location":"10_web_development_tdd/#green-post","title":"\ud83d\udfe2 GREEN: \u041c\u043e\u0434\u0435\u043b\u044c Post","text":"<pre><code># domain/models.py\nfrom datetime import datetime\nfrom dataclasses import dataclass\nfrom typing import Optional\nimport re\n\n@dataclass\nclass User:\n    email: str\n    name: str\n    id: Optional[int] = None\n\n@dataclass  \nclass Post:\n    title: str\n    content: str\n    author: User\n    id: Optional[int] = None\n    created_at: datetime = None\n    slug: str = None\n\n    def __post_init__(self):\n        if not self.title.strip():\n            raise ValueError(\"Title is required\")\n\n        if self.created_at is None:\n            self.created_at = datetime.now()\n\n        if self.slug is None:\n            self.slug = self._generate_slug(self.title)\n\n    def _generate_slug(self, title: str) -&gt; str:\n        \"\"\"\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f URL slug \u0438\u0437 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0430.\"\"\"\n        slug = re.sub(r'[^\\w\\s-]', '', title.lower())\n        slug = re.sub(r'[-\\s]+', '-', slug)\n        return slug.strip('-')\n</code></pre>"},{"location":"10_web_development_tdd/#2","title":"\u0418\u0442\u0435\u0440\u0430\u0446\u0438\u044f 2: \u0421\u0435\u0440\u0432\u0438\u0441 \u0434\u043b\u044f \u0431\u043b\u043e\u0433\u0430","text":""},{"location":"10_web_development_tdd/#red_1","title":"\ud83d\udd34 RED: \u0422\u0435\u0441\u0442 \u0441\u0435\u0440\u0432\u0438\u0441\u0430","text":"<pre><code># tests/unit/test_blog_service.py\nimport pytest\nfrom unittest.mock import Mock\nfrom domain.services import BlogService\nfrom domain.models import Post, User\n\n@pytest.fixture\ndef mock_post_repository():\n    return Mock()\n\n@pytest.fixture\ndef blog_service(mock_post_repository):\n    return BlogService(post_repository=mock_post_repository)\n\ndef test_create_post_service(blog_service, mock_post_repository):\n    \"\"\"\u0421\u0435\u0440\u0432\u0438\u0441 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u0441\u0442\u0430.\"\"\"\n    author = User(email=\"author@example.com\", name=\"Author\")\n    mock_post_repository.save.return_value = Post(\n        title=\"Test Post\",\n        content=\"Test content\", \n        author=author,\n        id=1\n    )\n\n    post = blog_service.create_post(\n        title=\"Test Post\",\n        content=\"Test content\",\n        author=author\n    )\n\n    assert post.id == 1\n    mock_post_repository.save.assert_called_once()\n\ndef test_get_posts_by_author(blog_service, mock_post_repository):\n    \"\"\"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u043e\u0432 \u043f\u043e \u0430\u0432\u0442\u043e\u0440\u0443.\"\"\"\n    author = User(email=\"author@example.com\", name=\"Author\")\n    expected_posts = [\n        Post(title=\"Post 1\", content=\"Content 1\", author=author),\n        Post(title=\"Post 2\", content=\"Content 2\", author=author)\n    ]\n    mock_post_repository.find_by_author.return_value = expected_posts\n\n    posts = blog_service.get_posts_by_author(author)\n\n    assert len(posts) == 2\n    assert posts == expected_posts\n    mock_post_repository.find_by_author.assert_called_once_with(author)\n</code></pre>"},{"location":"10_web_development_tdd/#green","title":"\ud83d\udfe2 GREEN: \u0421\u0435\u0440\u0432\u0438\u0441 \u0431\u043b\u043e\u0433\u0430","text":"<pre><code># domain/services.py\nfrom typing import List\nfrom domain.models import Post, User\n\nclass BlogService:\n    \"\"\"\u0421\u0435\u0440\u0432\u0438\u0441 \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u0431\u043b\u043e\u0433\u043e\u043c.\"\"\"\n\n    def __init__(self, post_repository):\n        self.post_repository = post_repository\n\n    def create_post(self, title: str, content: str, author: User) -&gt; Post:\n        \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u0441\u0442\u0430.\"\"\"\n        post = Post(title=title, content=content, author=author)\n        return self.post_repository.save(post)\n\n    def get_posts_by_author(self, author: User) -&gt; List[Post]:\n        \"\"\"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u043e\u0432 \u0430\u0432\u0442\u043e\u0440\u0430.\"\"\"\n        return self.post_repository.find_by_author(author)\n\n    def get_all_posts(self) -&gt; List[Post]:\n        \"\"\"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0432\u0441\u0435\u0445 \u043f\u043e\u0441\u0442\u043e\u0432.\"\"\"\n        return self.post_repository.find_all()\n\n    def get_post_by_slug(self, slug: str) -&gt; Post:\n        \"\"\"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u0430 \u043f\u043e slug.\"\"\"\n        return self.post_repository.find_by_slug(slug)\n</code></pre>"},{"location":"10_web_development_tdd/#3-flask-api","title":"\u0418\u0442\u0435\u0440\u0430\u0446\u0438\u044f 3: Flask API","text":""},{"location":"10_web_development_tdd/#red-api","title":"\ud83d\udd34 RED: \u0422\u0435\u0441\u0442 API","text":"<pre><code># tests/integration/test_blog_api.py\nimport pytest\nimport json\nfrom web.app import create_app\n\n@pytest.fixture\ndef app():\n    \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 Flask \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u043e\u0432.\"\"\"\n    app = create_app({\n        'TESTING': True,\n        'DATABASE_URL': 'sqlite:///:memory:'\n    })\n\n    with app.app_context():\n        from infrastructure.database import db\n        db.create_all()\n        yield app\n\n@pytest.fixture\ndef client(app):\n    \"\"\"\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0439 \u043a\u043b\u0438\u0435\u043d\u0442.\"\"\"\n    return app.test_client()\n\n@pytest.fixture\ndef auth_headers():\n    \"\"\"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438.\"\"\"\n    return {\n        'Authorization': 'Bearer test-token',\n        'Content-Type': 'application/json'\n    }\n\ndef test_create_post_api(client, auth_headers):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u0441\u0442\u0430 \u0447\u0435\u0440\u0435\u0437 API.\"\"\"\n    post_data = {\n        'title': 'Test Post',\n        'content': 'This is test content for the post.'\n    }\n\n    response = client.post(\n        '/api/posts',\n        data=json.dumps(post_data),\n        headers=auth_headers\n    )\n\n    assert response.status_code == 201\n    response_data = json.loads(response.data)\n    assert response_data['title'] == 'Test Post'\n    assert response_data['slug'] == 'test-post'\n    assert 'id' in response_data\n\ndef test_get_posts_api(client):\n    \"\"\"\u0422\u0435\u0441\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u043f\u0438\u0441\u043a\u0430 \u043f\u043e\u0441\u0442\u043e\u0432.\"\"\"\n    response = client.get('/api/posts')\n\n    assert response.status_code == 200\n    posts = json.loads(response.data)\n    assert isinstance(posts, list)\n\ndef test_get_post_by_slug_api(client, auth_headers):\n    \"\"\"\u0422\u0435\u0441\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043f\u043e\u0441\u0442\u0430 \u043f\u043e slug.\"\"\"\n    # \u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u043e\u0441\u0442\n    post_data = {'title': 'Test Post', 'content': 'Test content'}\n    create_response = client.post(\n        '/api/posts',\n        data=json.dumps(post_data),\n        headers=auth_headers\n    )\n\n    # \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u043f\u043e\u0441\u0442 \u043f\u043e slug\n    response = client.get('/api/posts/test-post')\n\n    assert response.status_code == 200\n    post = json.loads(response.data)\n    assert post['title'] == 'Test Post'\n    assert post['slug'] == 'test-post'\n\ndef test_create_post_unauthorized(client):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u0441\u0442\u0430 \u0431\u0435\u0437 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438.\"\"\"\n    post_data = {'title': 'Test Post', 'content': 'Test content'}\n\n    response = client.post(\n        '/api/posts',\n        data=json.dumps(post_data),\n        headers={'Content-Type': 'application/json'}\n    )\n\n    assert response.status_code == 401\n</code></pre>"},{"location":"10_web_development_tdd/#green-flask-api","title":"\ud83d\udfe2 GREEN: Flask API","text":"<pre><code># web/app.py\nfrom flask import Flask, request, jsonify, g\nfrom domain.services import BlogService\nfrom infrastructure.database import db, PostRepository\nfrom web.auth import require_auth, get_current_user\n\ndef create_app(config=None):\n    app = Flask(__name__)\n\n    if config:\n        app.config.update(config)\n\n    db.init_app(app)\n\n    @app.route('/api/posts', methods=['POST'])\n    @require_auth\n    def create_post():\n        \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u0441\u0442\u0430.\"\"\"\n        data = request.get_json()\n\n        if not data or 'title' not in data or 'content' not in data:\n            return jsonify({'error': 'Title and content required'}), 400\n\n        blog_service = BlogService(PostRepository(db.session))\n        author = get_current_user()\n\n        try:\n            post = blog_service.create_post(\n                title=data['title'],\n                content=data['content'],\n                author=author\n            )\n\n            return jsonify({\n                'id': post.id,\n                'title': post.title,\n                'content': post.content,\n                'slug': post.slug,\n                'created_at': post.created_at.isoformat(),\n                'author': {\n                    'id': post.author.id,\n                    'name': post.author.name\n                }\n            }), 201\n\n        except ValueError as e:\n            return jsonify({'error': str(e)}), 400\n\n    @app.route('/api/posts', methods=['GET'])\n    def get_posts():\n        \"\"\"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430 \u043f\u043e\u0441\u0442\u043e\u0432.\"\"\"\n        blog_service = BlogService(PostRepository(db.session))\n        posts = blog_service.get_all_posts()\n\n        return jsonify([{\n            'id': post.id,\n            'title': post.title,\n            'slug': post.slug,\n            'created_at': post.created_at.isoformat(),\n            'author': {\n                'id': post.author.id,\n                'name': post.author.name\n            }\n        } for post in posts])\n\n    @app.route('/api/posts/&lt;slug&gt;', methods=['GET'])\n    def get_post(slug):\n        \"\"\"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u0430 \u043f\u043e slug.\"\"\"\n        blog_service = BlogService(PostRepository(db.session))\n        post = blog_service.get_post_by_slug(slug)\n\n        if not post:\n            return jsonify({'error': 'Post not found'}), 404\n\n        return jsonify({\n            'id': post.id,\n            'title': post.title,\n            'content': post.content,\n            'slug': post.slug,\n            'created_at': post.created_at.isoformat(),\n            'author': {\n                'id': post.author.id,\n                'name': post.author.name\n            }\n        })\n\n    return app\n</code></pre>"},{"location":"10_web_development_tdd/#tdd-django","title":"\ud83c\udfad TDD \u0441 Django","text":""},{"location":"10_web_development_tdd/#todo","title":"\u041f\u0440\u043e\u0435\u043a\u0442: \u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u0437\u0430\u0434\u0430\u0447 (TODO)","text":""},{"location":"10_web_development_tdd/#1-task","title":"\u0418\u0442\u0435\u0440\u0430\u0446\u0438\u044f 1: \u041c\u043e\u0434\u0435\u043b\u044c Task","text":""},{"location":"10_web_development_tdd/#red-django","title":"\ud83d\udd34 RED: \u0422\u0435\u0441\u0442 \u043c\u043e\u0434\u0435\u043b\u0438 Django","text":"<pre><code># tests/test_models.py\nimport pytest\nfrom django.test import TestCase\nfrom django.contrib.auth.models import User\nfrom django.core.exceptions import ValidationError\nfrom tasks.models import Task\n\n@pytest.mark.django_db\nclass TestTaskModel:\n    \"\"\"\u0422\u0435\u0441\u0442\u044b \u043c\u043e\u0434\u0435\u043b\u0438 Task.\"\"\"\n\n    def test_create_task(self):\n        \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438.\"\"\"\n        user = User.objects.create_user(\n            username='testuser',\n            email='test@example.com'\n        )\n\n        task = Task.objects.create(\n            title='Test Task',\n            description='Test description',\n            owner=user\n        )\n\n        assert task.title == 'Test Task'\n        assert task.description == 'Test description'\n        assert task.owner == user\n        assert task.status == 'pending'\n        assert not task.completed\n\n    def test_task_requires_title(self):\n        \"\"\"\u0417\u0430\u0434\u0430\u0447\u0430 \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a.\"\"\"\n        user = User.objects.create_user(\n            username='testuser',\n            email='test@example.com'\n        )\n\n        with pytest.raises(ValidationError):\n            task = Task(title='', owner=user)\n            task.full_clean()\n\n    def test_task_complete_method(self):\n        \"\"\"\u041c\u0435\u0442\u043e\u0434 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438.\"\"\"\n        user = User.objects.create_user(\n            username='testuser',\n            email='test@example.com'\n        )\n\n        task = Task.objects.create(\n            title='Test Task',\n            owner=user\n        )\n\n        task.complete()\n\n        assert task.completed == True\n        assert task.status == 'completed'\n        assert task.completed_at is not None\n</code></pre>"},{"location":"10_web_development_tdd/#green-django","title":"\ud83d\udfe2 GREEN: Django \u043c\u043e\u0434\u0435\u043b\u044c","text":"<pre><code># tasks/models.py\nfrom django.db import models\nfrom django.contrib.auth.models import User\nfrom django.utils import timezone\nfrom django.core.exceptions import ValidationError\n\nclass Task(models.Model):\n    \"\"\"\u041c\u043e\u0434\u0435\u043b\u044c \u0437\u0430\u0434\u0430\u0447\u0438.\"\"\"\n\n    STATUS_CHOICES = [\n        ('pending', 'Pending'),\n        ('in_progress', 'In Progress'),\n        ('completed', 'Completed'),\n        ('cancelled', 'Cancelled'),\n    ]\n\n    title = models.CharField(max_length=200)\n    description = models.TextField(blank=True)\n    status = models.CharField(\n        max_length=20, \n        choices=STATUS_CHOICES, \n        default='pending'\n    )\n    completed = models.BooleanField(default=False)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n    completed_at = models.DateTimeField(null=True, blank=True)\n\n    owner = models.ForeignKey(\n        User, \n        on_delete=models.CASCADE,\n        related_name='tasks'\n    )\n\n    class Meta:\n        ordering = ['-created_at']\n\n    def __str__(self):\n        return self.title\n\n    def clean(self):\n        \"\"\"\u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f \u043c\u043e\u0434\u0435\u043b\u0438.\"\"\"\n        if not self.title.strip():\n            raise ValidationError({'title': 'Title cannot be empty'})\n\n    def complete(self):\n        \"\"\"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443.\"\"\"\n        self.completed = True\n        self.status = 'completed'\n        self.completed_at = timezone.now()\n        self.save()\n\n    def reopen(self):\n        \"\"\"\u041f\u0435\u0440\u0435\u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443.\"\"\"\n        self.completed = False\n        self.status = 'pending'\n        self.completed_at = None\n        self.save()\n</code></pre>"},{"location":"10_web_development_tdd/#2-views-forms","title":"\u0418\u0442\u0435\u0440\u0430\u0446\u0438\u044f 2: Views \u0438 Forms","text":""},{"location":"10_web_development_tdd/#red_2","title":"\ud83d\udd34 RED: \u0422\u0435\u0441\u0442 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0439","text":"<pre><code># tests/test_views.py\nimport pytest\nfrom django.test import Client\nfrom django.contrib.auth.models import User\nfrom django.urls import reverse\nfrom tasks.models import Task\n\n@pytest.mark.django_db\nclass TestTaskViews:\n    \"\"\"\u0422\u0435\u0441\u0442\u044b \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0439 \u0437\u0430\u0434\u0430\u0447.\"\"\"\n\n    @pytest.fixture\n    def user(self):\n        return User.objects.create_user(\n            username='testuser',\n            email='test@example.com',\n            password='testpass123'\n        )\n\n    @pytest.fixture\n    def client(self):\n        return Client()\n\n    @pytest.fixture\n    def authenticated_client(self, client, user):\n        client.login(username='testuser', password='testpass123')\n        return client\n\n    def test_task_list_view(self, authenticated_client, user):\n        \"\"\"\u0422\u0435\u0441\u0442 \u0441\u043f\u0438\u0441\u043a\u0430 \u0437\u0430\u0434\u0430\u0447.\"\"\"\n        # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0437\u0430\u0434\u0430\u0447\n        Task.objects.create(title='Task 1', owner=user)\n        Task.objects.create(title='Task 2', owner=user)\n\n        response = authenticated_client.get(reverse('task_list'))\n\n        assert response.status_code == 200\n        assert 'Task 1' in response.content.decode()\n        assert 'Task 2' in response.content.decode()\n\n    def test_task_create_view_get(self, authenticated_client):\n        \"\"\"\u0422\u0435\u0441\u0442 GET \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438.\"\"\"\n        response = authenticated_client.get(reverse('task_create'))\n\n        assert response.status_code == 200\n        assert 'form' in response.context\n\n    def test_task_create_view_post(self, authenticated_client, user):\n        \"\"\"\u0422\u0435\u0441\u0442 POST \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438.\"\"\"\n        response = authenticated_client.post(reverse('task_create'), {\n            'title': 'New Task',\n            'description': 'New task description'\n        })\n\n        assert response.status_code == 302  # \u0420\u0435\u0434\u0438\u0440\u0435\u043a\u0442 \u043f\u043e\u0441\u043b\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f\n\n        # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0447\u0442\u043e \u0437\u0430\u0434\u0430\u0447\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0430\n        task = Task.objects.get(title='New Task')\n        assert task.owner == user\n        assert task.description == 'New task description'\n\n    def test_task_detail_view(self, authenticated_client, user):\n        \"\"\"\u0422\u0435\u0441\u0442 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0437\u0430\u0434\u0430\u0447\u0438.\"\"\"\n        task = Task.objects.create(\n            title='Test Task',\n            description='Test description',\n            owner=user\n        )\n\n        response = authenticated_client.get(\n            reverse('task_detail', kwargs={'pk': task.pk})\n        )\n\n        assert response.status_code == 200\n        assert task.title in response.content.decode()\n        assert task.description in response.content.decode()\n\n    def test_task_complete_view(self, authenticated_client, user):\n        \"\"\"\u0422\u0435\u0441\u0442 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438.\"\"\"\n        task = Task.objects.create(title='Test Task', owner=user)\n\n        response = authenticated_client.post(\n            reverse('task_complete', kwargs={'pk': task.pk})\n        )\n\n        assert response.status_code == 302\n\n        task.refresh_from_db()\n        assert task.completed == True\n        assert task.status == 'completed'\n\n    def test_unauthorized_access(self, client):\n        \"\"\"\u0422\u0435\u0441\u0442 \u043d\u0435\u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u0430.\"\"\"\n        response = client.get(reverse('task_list'))\n        assert response.status_code == 302  # \u0420\u0435\u0434\u0438\u0440\u0435\u043a\u0442 \u043d\u0430 \u043b\u043e\u0433\u0438\u043d\n</code></pre>"},{"location":"10_web_development_tdd/#green-django-views","title":"\ud83d\udfe2 GREEN: Django views","text":"<pre><code># tasks/views.py\nfrom django.shortcuts import render, get_object_or_404, redirect\nfrom django.contrib.auth.decorators import login_required\nfrom django.contrib import messages\nfrom django.urls import reverse\nfrom .models import Task\nfrom .forms import TaskForm\n\n@login_required\ndef task_list(request):\n    \"\"\"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0434\u0430\u0447 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n    tasks = Task.objects.filter(owner=request.user)\n\n    return render(request, 'tasks/list.html', {\n        'tasks': tasks\n    })\n\n@login_required  \ndef task_detail(request, pk):\n    \"\"\"\u0414\u0435\u0442\u0430\u043b\u044c\u043d\u044b\u0439 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0437\u0430\u0434\u0430\u0447\u0438.\"\"\"\n    task = get_object_or_404(Task, pk=pk, owner=request.user)\n\n    return render(request, 'tasks/detail.html', {\n        'task': task\n    })\n\n@login_required\ndef task_create(request):\n    \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0438.\"\"\"\n    if request.method == 'POST':\n        form = TaskForm(request.POST)\n        if form.is_valid():\n            task = form.save(commit=False)\n            task.owner = request.user\n            task.save()\n\n            messages.success(request, 'Task created successfully!')\n            return redirect('task_detail', pk=task.pk)\n    else:\n        form = TaskForm()\n\n    return render(request, 'tasks/create.html', {\n        'form': form\n    })\n\n@login_required\ndef task_complete(request, pk):\n    \"\"\"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438.\"\"\"\n    task = get_object_or_404(Task, pk=pk, owner=request.user)\n\n    if request.method == 'POST':\n        task.complete()\n        messages.success(request, f'Task \"{task.title}\" completed!')\n\n    return redirect('task_detail', pk=task.pk)\n\n# tasks/forms.py\nfrom django import forms\nfrom .models import Task\n\nclass TaskForm(forms.ModelForm):\n    \"\"\"\u0424\u043e\u0440\u043c\u0430 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f/\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438.\"\"\"\n\n    class Meta:\n        model = Task\n        fields = ['title', 'description']\n        widgets = {\n            'title': forms.TextInput(attrs={\n                'class': 'form-control',\n                'placeholder': 'Enter task title'\n            }),\n            'description': forms.Textarea(attrs={\n                'class': 'form-control',\n                'rows': 4,\n                'placeholder': 'Enter task description'\n            })\n        }\n\n    def clean_title(self):\n        title = self.cleaned_data['title']\n        if not title.strip():\n            raise forms.ValidationError('Title cannot be empty')\n        return title.strip()\n</code></pre>"},{"location":"10_web_development_tdd/#3-api-views-django-rest-framework","title":"\u0418\u0442\u0435\u0440\u0430\u0446\u0438\u044f 3: API Views (Django REST Framework)","text":""},{"location":"10_web_development_tdd/#red-api_1","title":"\ud83d\udd34 RED: \u0422\u0435\u0441\u0442 API","text":"<pre><code># tests/test_api.py\nimport pytest\nimport json\nfrom django.contrib.auth.models import User\nfrom rest_framework.test import APIClient\nfrom rest_framework import status\nfrom tasks.models import Task\n\n@pytest.mark.django_db\nclass TestTaskAPI:\n    \"\"\"\u0422\u0435\u0441\u0442\u044b API \u0437\u0430\u0434\u0430\u0447.\"\"\"\n\n    @pytest.fixture\n    def user(self):\n        return User.objects.create_user(\n            username='testuser',\n            email='test@example.com',\n            password='testpass123'\n        )\n\n    @pytest.fixture\n    def api_client(self):\n        return APIClient()\n\n    @pytest.fixture\n    def authenticated_client(self, api_client, user):\n        api_client.force_authenticate(user=user)\n        return api_client\n\n    def test_get_tasks_list(self, authenticated_client, user):\n        \"\"\"\u0422\u0435\u0441\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u043f\u0438\u0441\u043a\u0430 \u0437\u0430\u0434\u0430\u0447.\"\"\"\n        Task.objects.create(title='Task 1', owner=user)\n        Task.objects.create(title='Task 2', owner=user)\n\n        response = authenticated_client.get('/api/tasks/')\n\n        assert response.status_code == status.HTTP_200_OK\n        assert len(response.data) == 2\n\n    def test_create_task(self, authenticated_client):\n        \"\"\"\u0422\u0435\u0441\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438 \u0447\u0435\u0440\u0435\u0437 API.\"\"\"\n        data = {\n            'title': 'New API Task',\n            'description': 'Created via API'\n        }\n\n        response = authenticated_client.post('/api/tasks/', data)\n\n        assert response.status_code == status.HTTP_201_CREATED\n        assert response.data['title'] == 'New API Task'\n        assert 'id' in response.data\n\n        # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0447\u0442\u043e \u0437\u0430\u0434\u0430\u0447\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0430 \u0432 \u0411\u0414\n        task = Task.objects.get(title='New API Task')\n        assert task.description == 'Created via API'\n\n    def test_get_task_detail(self, authenticated_client, user):\n        \"\"\"\u0422\u0435\u0441\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u0437\u0430\u0434\u0430\u0447\u0435.\"\"\"\n        task = Task.objects.create(\n            title='Test Task',\n            description='Test description',\n            owner=user\n        )\n\n        response = authenticated_client.get(f'/api/tasks/{task.id}/')\n\n        assert response.status_code == status.HTTP_200_OK\n        assert response.data['title'] == 'Test Task'\n        assert response.data['description'] == 'Test description'\n\n    def test_update_task(self, authenticated_client, user):\n        \"\"\"\u0422\u0435\u0441\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438.\"\"\"\n        task = Task.objects.create(title='Original Title', owner=user)\n\n        data = {'title': 'Updated Title', 'description': 'Updated description'}\n        response = authenticated_client.put(f'/api/tasks/{task.id}/', data)\n\n        assert response.status_code == status.HTTP_200_OK\n        assert response.data['title'] == 'Updated Title'\n\n        task.refresh_from_db()\n        assert task.title == 'Updated Title'\n\n    def test_delete_task(self, authenticated_client, user):\n        \"\"\"\u0422\u0435\u0441\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438.\"\"\"\n        task = Task.objects.create(title='To Delete', owner=user)\n\n        response = authenticated_client.delete(f'/api/tasks/{task.id}/')\n\n        assert response.status_code == status.HTTP_204_NO_CONTENT\n        assert not Task.objects.filter(id=task.id).exists()\n\n    def test_unauthorized_access(self, api_client):\n        \"\"\"\u0422\u0435\u0441\u0442 \u043d\u0435\u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a API.\"\"\"\n        response = api_client.get('/api/tasks/')\n        assert response.status_code == status.HTTP_401_UNAUTHORIZED\n</code></pre>"},{"location":"10_web_development_tdd/#green-django-rest-api","title":"\ud83d\udfe2 GREEN: Django REST API","text":"<pre><code># tasks/serializers.py\nfrom rest_framework import serializers\nfrom .models import Task\n\nclass TaskSerializer(serializers.ModelSerializer):\n    \"\"\"\u0421\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u0430\u0442\u043e\u0440 \u0434\u043b\u044f \u043c\u043e\u0434\u0435\u043b\u0438 Task.\"\"\"\n\n    owner = serializers.StringRelatedField(read_only=True)\n\n    class Meta:\n        model = Task\n        fields = [\n            'id', 'title', 'description', 'status', \n            'completed', 'created_at', 'updated_at', \n            'completed_at', 'owner'\n        ]\n        read_only_fields = ['id', 'created_at', 'updated_at', 'completed_at', 'owner']\n\n    def validate_title(self, value):\n        \"\"\"\u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0430.\"\"\"\n        if not value.strip():\n            raise serializers.ValidationError(\"Title cannot be empty\")\n        return value.strip()\n\nclass TaskCreateSerializer(serializers.ModelSerializer):\n    \"\"\"\u0421\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u0430\u0442\u043e\u0440 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438.\"\"\"\n\n    class Meta:\n        model = Task\n        fields = ['title', 'description']\n\n    def validate_title(self, value):\n        if not value.strip():\n            raise serializers.ValidationError(\"Title cannot be empty\")\n        return value.strip()\n\n# tasks/api_views.py\nfrom rest_framework import generics, status\nfrom rest_framework.decorators import api_view, permission_classes\nfrom rest_framework.permissions import IsAuthenticated\nfrom rest_framework.response import Response\nfrom .models import Task\nfrom .serializers import TaskSerializer, TaskCreateSerializer\n\nclass TaskListCreateView(generics.ListCreateAPIView):\n    \"\"\"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0434\u0430\u0447 \u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0438.\"\"\"\n\n    permission_classes = [IsAuthenticated]\n\n    def get_queryset(self):\n        return Task.objects.filter(owner=self.request.user)\n\n    def get_serializer_class(self):\n        if self.request.method == 'POST':\n            return TaskCreateSerializer\n        return TaskSerializer\n\n    def perform_create(self, serializer):\n        serializer.save(owner=self.request.user)\n\nclass TaskDetailView(generics.RetrieveUpdateDestroyAPIView):\n    \"\"\"\u0414\u0435\u0442\u0430\u043b\u044c\u043d\u044b\u0439 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440, \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438.\"\"\"\n\n    serializer_class = TaskSerializer\n    permission_classes = [IsAuthenticated]\n\n    def get_queryset(self):\n        return Task.objects.filter(owner=self.request.user)\n\n@api_view(['POST'])\n@permission_classes([IsAuthenticated])\ndef complete_task(request, pk):\n    \"\"\"API \u0434\u043b\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438.\"\"\"\n    try:\n        task = Task.objects.get(pk=pk, owner=request.user)\n    except Task.DoesNotExist:\n        return Response(\n            {'error': 'Task not found'}, \n            status=status.HTTP_404_NOT_FOUND\n        )\n\n    task.complete()\n    serializer = TaskSerializer(task)\n\n    return Response(serializer.data)\n\n# tasks/urls.py\nfrom django.urls import path\nfrom . import views, api_views\n\nurlpatterns = [\n    # Web views\n    path('', views.task_list, name='task_list'),\n    path('create/', views.task_create, name='task_create'),\n    path('&lt;int:pk&gt;/', views.task_detail, name='task_detail'),\n    path('&lt;int:pk&gt;/complete/', views.task_complete, name='task_complete'),\n\n    # API views\n    path('api/tasks/', api_views.TaskListCreateView.as_view(), name='api_task_list'),\n    path('api/tasks/&lt;int:pk&gt;/', api_views.TaskDetailView.as_view(), name='api_task_detail'),\n    path('api/tasks/&lt;int:pk&gt;/complete/', api_views.complete_task, name='api_task_complete'),\n]\n</code></pre>"},{"location":"10_web_development_tdd/#tdd-fastapi","title":"\u26a1 TDD \u0441 FastAPI","text":""},{"location":"10_web_development_tdd/#user-management-api","title":"\u041f\u0440\u043e\u0435\u043a\u0442: User Management API","text":"<p>FastAPI \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0439 \u043f\u043e\u0434\u0445\u043e\u0434 \u043a \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044e API \u0441 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0435\u0439, \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0435\u0439 \u0438 \u0432\u044b\u0441\u043e\u043a\u043e\u0439 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c\u044e. \u0420\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c TDD \u0434\u043b\u044f \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0433\u043e API \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438.</p>"},{"location":"10_web_development_tdd/#1-pydantic","title":"\u0418\u0442\u0435\u0440\u0430\u0446\u0438\u044f 1: Pydantic \u043c\u043e\u0434\u0435\u043b\u0438 \u0438 \u0441\u0445\u0435\u043c\u044b","text":""},{"location":"10_web_development_tdd/#red_3","title":"\ud83d\udd34 RED: \u0422\u0435\u0441\u0442 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u0434\u0430\u043d\u043d\u044b\u0445","text":"<pre><code># tests/test_schemas.py\nimport pytest\nfrom datetime import datetime\nfrom pydantic import ValidationError\nfrom schemas.user import UserCreate, UserResponse, UserUpdate\n\ndef test_user_create_schema():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441\u0445\u0435\u043c\u044b \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n    user_data = {\n        \"email\": \"test@example.com\",\n        \"password\": \"securepassword123\",\n        \"name\": \"Test User\"\n    }\n\n    user = UserCreate(**user_data)\n\n    assert user.email == \"test@example.com\"\n    assert user.password == \"securepassword123\"\n    assert user.name == \"Test User\"\n\ndef test_user_create_email_validation():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438 email.\"\"\"\n    with pytest.raises(ValidationError) as exc_info:\n        UserCreate(\n            email=\"invalid-email\",\n            password=\"password123\",\n            name=\"Test User\"\n        )\n\n    assert \"value is not a valid email address\" in str(exc_info.value)\n\ndef test_user_create_password_strength():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0439 \u043a \u043f\u0430\u0440\u043e\u043b\u044e.\"\"\"\n    with pytest.raises(ValidationError) as exc_info:\n        UserCreate(\n            email=\"test@example.com\", \n            password=\"123\",  # \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u0438\u0439\n            name=\"Test User\"\n        )\n\n    assert \"Password must be at least 8 characters\" in str(exc_info.value)\n\ndef test_user_response_excludes_password():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0447\u0442\u043e \u0441\u0445\u0435\u043c\u0430 \u043e\u0442\u0432\u0435\u0442\u0430 \u043d\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043f\u0430\u0440\u043e\u043b\u044c.\"\"\"\n    user_data = {\n        \"id\": 1,\n        \"email\": \"test@example.com\",\n        \"name\": \"Test User\",\n        \"is_active\": True,\n        \"created_at\": datetime.now()\n    }\n\n    user = UserResponse(**user_data)\n\n    assert hasattr(user, 'email')\n    assert hasattr(user, 'name')\n    assert not hasattr(user, 'password')  # \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0432 \u043e\u0442\u0432\u0435\u0442\u0435\n\ndef test_user_update_optional_fields():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0447\u0442\u043e \u0432 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b.\"\"\"\n    # \u041f\u0443\u0441\u0442\u043e\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u043c\n    update = UserUpdate()\n    assert update.email is None\n    assert update.name is None\n\n    # \u0427\u0430\u0441\u0442\u0438\u0447\u043d\u043e\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c\n    update = UserUpdate(name=\"New Name\")\n    assert update.name == \"New Name\"\n    assert update.email is None\n</code></pre>"},{"location":"10_web_development_tdd/#green-pydantic","title":"\ud83d\udfe2 GREEN: Pydantic \u0441\u0445\u0435\u043c\u044b","text":"<pre><code># schemas/user.py\nfrom datetime import datetime\nfrom typing import Optional\nfrom pydantic import BaseModel, EmailStr, validator\n\nclass UserBase(BaseModel):\n    \"\"\"\u0411\u0430\u0437\u043e\u0432\u0430\u044f \u0441\u0445\u0435\u043c\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n    email: EmailStr\n    name: str\n\nclass UserCreate(UserBase):\n    \"\"\"\u0421\u0445\u0435\u043c\u0430 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n    password: str\n\n    @validator('password')\n    def validate_password(cls, v):\n        if len(v) &lt; 8:\n            raise ValueError('Password must be at least 8 characters')\n        if not any(c.isdigit() for c in v):\n            raise ValueError('Password must contain at least one digit')\n        return v\n\nclass UserUpdate(BaseModel):\n    \"\"\"\u0421\u0445\u0435\u043c\u0430 \u0434\u043b\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n    email: Optional[EmailStr] = None\n    name: Optional[str] = None\n\n    @validator('name')\n    def validate_name(cls, v):\n        if v is not None and len(v.strip()) == 0:\n            raise ValueError('Name cannot be empty')\n        return v.strip() if v else v\n\nclass UserResponse(UserBase):\n    \"\"\"\u0421\u0445\u0435\u043c\u0430 \u043e\u0442\u0432\u0435\u0442\u0430 \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n    id: int\n    is_active: bool\n    created_at: datetime\n\n    class Config:\n        from_attributes = True  # \u0414\u043b\u044f \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u0438 \u0441 SQLAlchemy\n\nclass UserInDB(UserResponse):\n    \"\"\"\u0421\u0445\u0435\u043c\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0431\u0430\u0437\u0435 \u0434\u0430\u043d\u043d\u044b\u0445.\"\"\"\n    password_hash: str\n\n# schemas/auth.py\nfrom pydantic import BaseModel\n\nclass Token(BaseModel):\n    \"\"\"\u0421\u0445\u0435\u043c\u0430 \u0442\u043e\u043a\u0435\u043d\u0430 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438.\"\"\"\n    access_token: str\n    token_type: str = \"bearer\"\n\nclass LoginRequest(BaseModel):\n    \"\"\"\u0421\u0445\u0435\u043c\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438.\"\"\"\n    email: EmailStr\n    password: str\n</code></pre>"},{"location":"10_web_development_tdd/#2-fastapi-endpoints-dependency-injection","title":"\u0418\u0442\u0435\u0440\u0430\u0446\u0438\u044f 2: FastAPI endpoints \u0441 dependency injection","text":""},{"location":"10_web_development_tdd/#red-api-endpoints","title":"\ud83d\udd34 RED: \u0422\u0435\u0441\u0442 API endpoints","text":"<pre><code># tests/test_user_api.py\nimport pytest\nfrom httpx import AsyncClient\nfrom fastapi import status\nfrom main import app\n\n@pytest.fixture\nasync def async_client():\n    \"\"\"\u0410\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u0439 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0439 \u043a\u043b\u0438\u0435\u043d\u0442.\"\"\"\n    async with AsyncClient(app=app, base_url=\"http://test\") as client:\n        yield client\n\n@pytest.fixture\nasync def sample_user_data():\n    \"\"\"\u0414\u0430\u043d\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n    return {\n        \"email\": \"testuser@example.com\",\n        \"password\": \"testpassword123\",\n        \"name\": \"Test User\"\n    }\n\n@pytest.mark.asyncio\nasync def test_create_user(async_client: AsyncClient, sample_user_data):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n    response = await async_client.post(\"/users/\", json=sample_user_data)\n\n    assert response.status_code == status.HTTP_201_CREATED\n\n    user_data = response.json()\n    assert user_data[\"email\"] == sample_user_data[\"email\"] \n    assert user_data[\"name\"] == sample_user_data[\"name\"]\n    assert \"password\" not in user_data  # \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0442\u044c\u0441\u044f\n    assert \"id\" in user_data\n    assert user_data[\"is_active\"] == True\n\n@pytest.mark.asyncio\nasync def test_create_user_duplicate_email(async_client: AsyncClient, sample_user_data):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 \u0434\u0443\u0431\u043b\u0438\u0440\u0443\u044e\u0449\u0438\u043c\u0441\u044f email.\"\"\"\n    # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\n    await async_client.post(\"/users/\", json=sample_user_data)\n\n    # \u041f\u044b\u0442\u0430\u0435\u043c\u0441\u044f \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0432\u0442\u043e\u0440\u043e\u0433\u043e \u0441 \u0442\u0435\u043c \u0436\u0435 email\n    response = await async_client.post(\"/users/\", json=sample_user_data)\n\n    assert response.status_code == status.HTTP_400_BAD_REQUEST\n    assert \"already registered\" in response.json()[\"detail\"]\n\n@pytest.mark.asyncio\nasync def test_get_users_list(async_client: AsyncClient, sample_user_data):\n    \"\"\"\u0422\u0435\u0441\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u043f\u0438\u0441\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439.\"\"\"\n    # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439\n    await async_client.post(\"/users/\", json=sample_user_data)\n\n    user_data_2 = sample_user_data.copy()\n    user_data_2[\"email\"] = \"user2@example.com\"\n    await async_client.post(\"/users/\", json=user_data_2)\n\n    # \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0441\u043f\u0438\u0441\u043e\u043a\n    response = await async_client.get(\"/users/\")\n\n    assert response.status_code == status.HTTP_200_OK\n    users = response.json()\n    assert len(users) == 2\n    assert any(user[\"email\"] == sample_user_data[\"email\"] for user in users)\n\n@pytest.mark.asyncio\nasync def test_get_user_by_id(async_client: AsyncClient, sample_user_data):\n    \"\"\"\u0422\u0435\u0441\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u043e ID.\"\"\"\n    # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\n    create_response = await async_client.post(\"/users/\", json=sample_user_data)\n    user_id = create_response.json()[\"id\"]\n\n    # \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u043e ID\n    response = await async_client.get(f\"/users/{user_id}\")\n\n    assert response.status_code == status.HTTP_200_OK\n    user_data = response.json()\n    assert user_data[\"id\"] == user_id\n    assert user_data[\"email\"] == sample_user_data[\"email\"]\n\n@pytest.mark.asyncio\nasync def test_get_user_not_found(async_client: AsyncClient):\n    \"\"\"\u0422\u0435\u0441\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043d\u0435\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n    response = await async_client.get(\"/users/999\")\n\n    assert response.status_code == status.HTTP_404_NOT_FOUND\n    assert \"User not found\" in response.json()[\"detail\"]\n\n@pytest.mark.asyncio\nasync def test_update_user(async_client: AsyncClient, sample_user_data):\n    \"\"\"\u0422\u0435\u0441\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n    # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\n    create_response = await async_client.post(\"/users/\", json=sample_user_data)\n    user_id = create_response.json()[\"id\"]\n\n    # \u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u043c \u0438\u043c\u044f\n    update_data = {\"name\": \"Updated Name\"}\n    response = await async_client.patch(f\"/users/{user_id}\", json=update_data)\n\n    assert response.status_code == status.HTTP_200_OK\n    user_data = response.json()\n    assert user_data[\"name\"] == \"Updated Name\"\n    assert user_data[\"email\"] == sample_user_data[\"email\"]  # email \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u0441\u044f\n\n@pytest.mark.asyncio\nasync def test_delete_user(async_client: AsyncClient, sample_user_data):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n    # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\n    create_response = await async_client.post(\"/users/\", json=sample_user_data)\n    user_id = create_response.json()[\"id\"]\n\n    # \u0423\u0434\u0430\u043b\u044f\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\n    response = await async_client.delete(f\"/users/{user_id}\")\n\n    assert response.status_code == status.HTTP_204_NO_CONTENT\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0447\u0442\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\n    get_response = await async_client.get(f\"/users/{user_id}\")\n    assert get_response.status_code == status.HTTP_404_NOT_FOUND\n</code></pre>"},{"location":"10_web_development_tdd/#green-fastapi-endpoints","title":"\ud83d\udfe2 GREEN: FastAPI endpoints","text":"<pre><code># main.py\nfrom fastapi import FastAPI, HTTPException, Depends, status\nfrom fastapi.security import HTTPBearer\nfrom typing import List\nfrom sqlalchemy.ext.asyncio import AsyncSession\n\nfrom database import get_db\nfrom schemas.user import UserCreate, UserResponse, UserUpdate\nfrom services.user_service import UserService\n\napp = FastAPI(\n    title=\"User Management API\",\n    description=\"TDD example with FastAPI\",\n    version=\"1.0.0\"\n)\n\nsecurity = HTTPBearer()\n\n# Dependency \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439\nasync def get_user_service(db: AsyncSession = Depends(get_db)) -&gt; UserService:\n    return UserService(db)\n\n@app.post(\"/users/\", response_model=UserResponse, status_code=status.HTTP_201_CREATED)\nasync def create_user(\n    user_data: UserCreate,\n    user_service: UserService = Depends(get_user_service)\n):\n    \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n    try:\n        user = await user_service.create_user(user_data)\n        return user\n    except ValueError as e:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=str(e)\n        )\n\n@app.get(\"/users/\", response_model=List[UserResponse])\nasync def get_users(\n    skip: int = 0,\n    limit: int = 100,\n    user_service: UserService = Depends(get_user_service)\n):\n    \"\"\"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439.\"\"\"\n    users = await user_service.get_users(skip=skip, limit=limit)\n    return users\n\n@app.get(\"/users/{user_id}\", response_model=UserResponse)\nasync def get_user(\n    user_id: int,\n    user_service: UserService = Depends(get_user_service)\n):\n    \"\"\"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u043e ID.\"\"\"\n    user = await user_service.get_user_by_id(user_id)\n    if not user:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"User not found\"\n        )\n    return user\n\n@app.patch(\"/users/{user_id}\", response_model=UserResponse)\nasync def update_user(\n    user_id: int,\n    user_update: UserUpdate,\n    user_service: UserService = Depends(get_user_service)\n):\n    \"\"\"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n    user = await user_service.update_user(user_id, user_update)\n    if not user:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"User not found\"\n        )\n    return user\n\n@app.delete(\"/users/{user_id}\", status_code=status.HTTP_204_NO_CONTENT)\nasync def delete_user(\n    user_id: int,\n    user_service: UserService = Depends(get_user_service)\n):\n    \"\"\"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n    success = await user_service.delete_user(user_id)\n    if not success:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"User not found\"\n        )\n</code></pre>"},{"location":"10_web_development_tdd/#3-async-database","title":"\u0418\u0442\u0435\u0440\u0430\u0446\u0438\u044f 3: Async database \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438","text":""},{"location":"10_web_development_tdd/#red_4","title":"\ud83d\udd34 RED: \u0422\u0435\u0441\u0442 \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439","text":"<pre><code># tests/test_user_service.py\nimport pytest\nfrom unittest.mock import AsyncMock, MagicMock\nfrom sqlalchemy.ext.asyncio import AsyncSession\n\nfrom services.user_service import UserService\nfrom schemas.user import UserCreate, UserUpdate\nfrom models.user import User\n\n@pytest.fixture\ndef mock_db_session():\n    \"\"\"\u041c\u043e\u043a \u0441\u0435\u0441\u0441\u0438\u0438 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445.\"\"\"\n    return AsyncMock(spec=AsyncSession)\n\n@pytest.fixture\ndef user_service(mock_db_session):\n    \"\"\"\u0421\u0435\u0440\u0432\u0438\u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0441 \u043c\u043e\u043a \u0431\u0430\u0437\u043e\u0439 \u0434\u0430\u043d\u043d\u044b\u0445.\"\"\"\n    return UserService(mock_db_session)\n\n@pytest.fixture\ndef sample_user_create():\n    \"\"\"\u0414\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n    return UserCreate(\n        email=\"test@example.com\",\n        password=\"testpassword123\",\n        name=\"Test User\"\n    )\n\n@pytest.mark.asyncio\nasync def test_create_user_success(user_service, mock_db_session, sample_user_create):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0433\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n    # \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u043c\u043e\u043a - \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 \u0442\u0430\u043a\u0438\u043c email \u043d\u0435\u0442\n    mock_db_session.execute.return_value.scalar_one_or_none.return_value = None\n\n    # \u041c\u043e\u043a\u0430\u0435\u043c \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\n    created_user = User(\n        id=1,\n        email=sample_user_create.email,\n        name=sample_user_create.name,\n        password_hash=\"hashed_password\",\n        is_active=True\n    )\n    mock_db_session.merge.return_value = created_user\n\n    result = await user_service.create_user(sample_user_create)\n\n    assert result.id == 1\n    assert result.email == sample_user_create.email\n    assert result.name == sample_user_create.name\n    assert result.is_active == True\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0447\u0442\u043e \u0431\u044b\u043b \u0432\u044b\u0437\u0432\u0430\u043d commit\n    mock_db_session.commit.assert_called_once()\n\n@pytest.mark.asyncio\nasync def test_create_user_duplicate_email(user_service, mock_db_session, sample_user_create):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 \u0434\u0443\u0431\u043b\u0438\u0440\u0443\u044e\u0449\u0438\u043c\u0441\u044f email.\"\"\"\n    # \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u043c\u043e\u043a - \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c email \u0443\u0436\u0435 \u0435\u0441\u0442\u044c\n    existing_user = User(\n        id=1,\n        email=sample_user_create.email,\n        name=\"Existing User\",\n        password_hash=\"hash\",\n        is_active=True\n    )\n    mock_db_session.execute.return_value.scalar_one_or_none.return_value = existing_user\n\n    with pytest.raises(ValueError, match=\"Email already registered\"):\n        await user_service.create_user(sample_user_create)\n\n@pytest.mark.asyncio\nasync def test_get_user_by_id_found(user_service, mock_db_session):\n    \"\"\"\u0422\u0435\u0441\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u043e ID.\"\"\"\n    expected_user = User(\n        id=1,\n        email=\"test@example.com\",\n        name=\"Test User\",\n        password_hash=\"hash\",\n        is_active=True\n    )\n    mock_db_session.get.return_value = expected_user\n\n    result = await user_service.get_user_by_id(1)\n\n    assert result == expected_user\n    mock_db_session.get.assert_called_once_with(User, 1)\n\n@pytest.mark.asyncio\nasync def test_get_user_by_id_not_found(user_service, mock_db_session):\n    \"\"\"\u0422\u0435\u0441\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043d\u0435\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n    mock_db_session.get.return_value = None\n\n    result = await user_service.get_user_by_id(999)\n\n    assert result is None\n\n@pytest.mark.asyncio\nasync def test_update_user_success(user_service, mock_db_session):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0433\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n    # \u0421\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\n    existing_user = User(\n        id=1,\n        email=\"old@example.com\",\n        name=\"Old Name\",\n        password_hash=\"hash\",\n        is_active=True\n    )\n    mock_db_session.get.return_value = existing_user\n\n    # \u0414\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f\n    update_data = UserUpdate(name=\"New Name\", email=\"new@example.com\")\n\n    result = await user_service.update_user(1, update_data)\n\n    assert result.name == \"New Name\"\n    assert result.email == \"new@example.com\"\n    mock_db_session.commit.assert_called_once()\n\n@pytest.mark.asyncio\nasync def test_delete_user_success(user_service, mock_db_session):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0433\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n    existing_user = User(id=1, email=\"test@example.com\", name=\"Test\")\n    mock_db_session.get.return_value = existing_user\n\n    result = await user_service.delete_user(1)\n\n    assert result == True\n    mock_db_session.delete.assert_called_once_with(existing_user)\n    mock_db_session.commit.assert_called_once()\n\n@pytest.mark.asyncio\nasync def test_delete_user_not_found(user_service, mock_db_session):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043d\u0435\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n    mock_db_session.get.return_value = None\n\n    result = await user_service.delete_user(999)\n\n    assert result == False\n    mock_db_session.delete.assert_not_called()\n    mock_db_session.commit.assert_not_called()\n</code></pre>"},{"location":"10_web_development_tdd/#green-user-service","title":"\ud83d\udfe2 GREEN: User service","text":"<pre><code># services/user_service.py\nfrom typing import List, Optional\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlalchemy import select\nfrom passlib.context import CryptContext\n\nfrom models.user import User\nfrom schemas.user import UserCreate, UserUpdate\n\nclass UserService:\n    \"\"\"\u0421\u0435\u0440\u0432\u0438\u0441 \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438.\"\"\"\n\n    def __init__(self, db_session: AsyncSession):\n        self.db = db_session\n        self.pwd_context = CryptContext(schemes=[\"bcrypt\"], deprecated=\"auto\")\n\n    async def create_user(self, user_data: UserCreate) -&gt; User:\n        \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n        # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c email\n        existing_user = await self._get_user_by_email(user_data.email)\n        if existing_user:\n            raise ValueError(\"Email already registered\")\n\n        # \u0425\u044d\u0448\u0438\u0440\u0443\u0435\u043c \u043f\u0430\u0440\u043e\u043b\u044c\n        password_hash = self.pwd_context.hash(user_data.password)\n\n        # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\n        user = User(\n            email=user_data.email,\n            name=user_data.name,\n            password_hash=password_hash,\n            is_active=True\n        )\n\n        self.db.add(user)\n        await self.db.commit()\n        await self.db.refresh(user)\n\n        return user\n\n    async def get_user_by_id(self, user_id: int) -&gt; Optional[User]:\n        \"\"\"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u043e ID.\"\"\"\n        return await self.db.get(User, user_id)\n\n    async def get_users(self, skip: int = 0, limit: int = 100) -&gt; List[User]:\n        \"\"\"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439.\"\"\"\n        query = select(User).offset(skip).limit(limit)\n        result = await self.db.execute(query)\n        return result.scalars().all()\n\n    async def update_user(self, user_id: int, user_update: UserUpdate) -&gt; Optional[User]:\n        \"\"\"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n        user = await self.get_user_by_id(user_id)\n        if not user:\n            return None\n\n        # \u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u043c \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044f\n        update_data = user_update.model_dump(exclude_unset=True)\n        for field, value in update_data.items():\n            setattr(user, field, value)\n\n        await self.db.commit()\n        await self.db.refresh(user)\n\n        return user\n\n    async def delete_user(self, user_id: int) -&gt; bool:\n        \"\"\"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n        user = await self.get_user_by_id(user_id)\n        if not user:\n            return False\n\n        await self.db.delete(user)\n        await self.db.commit()\n\n        return True\n\n    async def _get_user_by_email(self, email: str) -&gt; Optional[User]:\n        \"\"\"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u043e email.\"\"\"\n        query = select(User).where(User.email == email)\n        result = await self.db.execute(query)\n        return result.scalar_one_or_none()\n\n    def verify_password(self, plain_password: str, hashed_password: str) -&gt; bool:\n        \"\"\"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043f\u0430\u0440\u043e\u043b\u044f.\"\"\"\n        return self.pwd_context.verify(plain_password, hashed_password)\n\n# models/user.py\nfrom datetime import datetime\nfrom sqlalchemy import Boolean, DateTime, Integer, String\nfrom sqlalchemy.orm import DeclarativeBase, Mapped, mapped_column\nfrom sqlalchemy.sql import func\n\nclass Base(DeclarativeBase):\n    pass\n\nclass User(Base):\n    \"\"\"\u041c\u043e\u0434\u0435\u043b\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n\n    __tablename__ = \"users\"\n\n    id: Mapped[int] = mapped_column(Integer, primary_key=True, index=True)\n    email: Mapped[str] = mapped_column(String, unique=True, index=True)\n    name: Mapped[str] = mapped_column(String)\n    password_hash: Mapped[str] = mapped_column(String)\n    is_active: Mapped[bool] = mapped_column(Boolean, default=True)\n    created_at: Mapped[datetime] = mapped_column(\n        DateTime(timezone=True), \n        server_default=func.now()\n    )\n</code></pre>"},{"location":"10_web_development_tdd/#4-jwt","title":"\u0418\u0442\u0435\u0440\u0430\u0446\u0438\u044f 4: JWT \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f","text":""},{"location":"10_web_development_tdd/#red_5","title":"\ud83d\udd34 RED: \u0422\u0435\u0441\u0442 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438","text":"<pre><code># tests/test_auth.py\nimport pytest\nfrom unittest.mock import AsyncMock\nfrom fastapi import HTTPException\nfrom datetime import datetime, timedelta\n\nfrom services.auth_service import AuthService\nfrom services.user_service import UserService\nfrom schemas.auth import LoginRequest\nfrom models.user import User\n\n@pytest.fixture\ndef mock_user_service():\n    return AsyncMock(spec=UserService)\n\n@pytest.fixture\ndef auth_service(mock_user_service):\n    return AuthService(mock_user_service, secret_key=\"test_secret\")\n\n@pytest.fixture\ndef test_user():\n    return User(\n        id=1,\n        email=\"test@example.com\",\n        name=\"Test User\",\n        password_hash=\"$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW\",  # \"secret\"\n        is_active=True,\n        created_at=datetime.now()\n    )\n\n@pytest.mark.asyncio\nasync def test_authenticate_user_success(auth_service, mock_user_service, test_user):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0439 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n    mock_user_service._get_user_by_email.return_value = test_user\n    mock_user_service.verify_password.return_value = True\n\n    login_data = LoginRequest(email=\"test@example.com\", password=\"secret\")\n\n    result = await auth_service.authenticate_user(login_data)\n\n    assert result == test_user\n    mock_user_service._get_user_by_email.assert_called_once_with(\"test@example.com\")\n    mock_user_service.verify_password.assert_called_once_with(\"secret\", test_user.password_hash)\n\n@pytest.mark.asyncio \nasync def test_authenticate_user_wrong_email(auth_service, mock_user_service):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0441 \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u043c email.\"\"\"\n    mock_user_service._get_user_by_email.return_value = None\n\n    login_data = LoginRequest(email=\"wrong@example.com\", password=\"secret\")\n\n    result = await auth_service.authenticate_user(login_data)\n\n    assert result is None\n\n@pytest.mark.asyncio\nasync def test_authenticate_user_wrong_password(auth_service, mock_user_service, test_user):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0441 \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u043c \u043f\u0430\u0440\u043e\u043b\u0435\u043c.\"\"\"\n    mock_user_service._get_user_by_email.return_value = test_user\n    mock_user_service.verify_password.return_value = False\n\n    login_data = LoginRequest(email=\"test@example.com\", password=\"wrongpassword\")\n\n    result = await auth_service.authenticate_user(login_data)\n\n    assert result is None\n\n@pytest.mark.asyncio\nasync def test_create_access_token(auth_service, test_user):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f access token.\"\"\"\n    token = await auth_service.create_access_token(test_user)\n\n    assert isinstance(token, str)\n    assert len(token) &gt; 0\n\n    # \u0414\u0435\u043a\u043e\u0434\u0438\u0440\u0443\u0435\u043c \u0442\u043e\u043a\u0435\u043d \u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c payload\n    payload = auth_service._decode_token(token)\n    assert payload[\"sub\"] == str(test_user.id)\n    assert payload[\"email\"] == test_user.email\n    assert \"exp\" in payload\n\n@pytest.mark.asyncio\nasync def test_get_current_user_valid_token(auth_service, mock_user_service, test_user):\n    \"\"\"\u0422\u0435\u0441\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u043e \u0432\u0430\u043b\u0438\u0434\u043d\u043e\u043c\u0443 \u0442\u043e\u043a\u0435\u043d\u0443.\"\"\"\n    token = await auth_service.create_access_token(test_user)\n    mock_user_service.get_user_by_id.return_value = test_user\n\n    result = await auth_service.get_current_user(token)\n\n    assert result == test_user\n    mock_user_service.get_user_by_id.assert_called_once_with(test_user.id)\n\n@pytest.mark.asyncio\nasync def test_get_current_user_invalid_token(auth_service, mock_user_service):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441 \u043d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u044b\u043c \u0442\u043e\u043a\u0435\u043d\u043e\u043c.\"\"\"\n    with pytest.raises(HTTPException) as exc_info:\n        await auth_service.get_current_user(\"invalid_token\")\n\n    assert exc_info.value.status_code == 401\n    assert \"Could not validate credentials\" in str(exc_info.value.detail)\n\n@pytest.mark.asyncio\nasync def test_get_current_user_expired_token(auth_service, mock_user_service, test_user):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441 \u0438\u0441\u0442\u0435\u043a\u0448\u0438\u043c \u0442\u043e\u043a\u0435\u043d\u043e\u043c.\"\"\"\n    # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0442\u043e\u043a\u0435\u043d \u0441 \u0438\u0441\u0442\u0435\u043a\u0448\u0438\u043c \u0432\u0440\u0435\u043c\u0435\u043d\u0435\u043c\n    expired_token = auth_service._create_token(\n        data={\"sub\": str(test_user.id), \"email\": test_user.email},\n        expires_delta=timedelta(seconds=-1)  # \u0443\u0436\u0435 \u0438\u0441\u0442\u0435\u043a\n    )\n\n    with pytest.raises(HTTPException) as exc_info:\n        await auth_service.get_current_user(expired_token)\n\n    assert exc_info.value.status_code == 401\n</code></pre>"},{"location":"10_web_development_tdd/#green-auth-service-endpoints","title":"\ud83d\udfe2 GREEN: Auth service \u0438 endpoints","text":"<pre><code># services/auth_service.py\nfrom datetime import datetime, timedelta\nfrom typing import Optional\nfrom fastapi import HTTPException, status\nimport jwt\nfrom passlib.context import CryptContext\n\nfrom models.user import User\nfrom schemas.auth import LoginRequest\nfrom services.user_service import UserService\n\nclass AuthService:\n    \"\"\"\u0421\u0435\u0440\u0432\u0438\u0441 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438.\"\"\"\n\n    def __init__(self, user_service: UserService, secret_key: str):\n        self.user_service = user_service\n        self.secret_key = secret_key\n        self.algorithm = \"HS256\"\n        self.access_token_expire_minutes = 30\n\n    async def authenticate_user(self, login_data: LoginRequest) -&gt; Optional[User]:\n        \"\"\"\u0410\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n        user = await self.user_service._get_user_by_email(login_data.email)\n        if not user:\n            return None\n\n        if not self.user_service.verify_password(login_data.password, user.password_hash):\n            return None\n\n        return user\n\n    async def create_access_token(self, user: User) -&gt; str:\n        \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 access token.\"\"\"\n        data = {\n            \"sub\": str(user.id),\n            \"email\": user.email,\n            \"exp\": datetime.utcnow() + timedelta(minutes=self.access_token_expire_minutes)\n        }\n\n        return jwt.encode(data, self.secret_key, algorithm=self.algorithm)\n\n    async def get_current_user(self, token: str) -&gt; User:\n        \"\"\"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u043e \u0442\u043e\u043a\u0435\u043d\u0443.\"\"\"\n        credentials_exception = HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Could not validate credentials\",\n            headers={\"WWW-Authenticate\": \"Bearer\"},\n        )\n\n        try:\n            payload = jwt.decode(token, self.secret_key, algorithms=[self.algorithm])\n            user_id = int(payload.get(\"sub\"))\n            if user_id is None:\n                raise credentials_exception\n        except (jwt.PyJWTError, ValueError):\n            raise credentials_exception\n\n        user = await self.user_service.get_user_by_id(user_id)\n        if user is None:\n            raise credentials_exception\n\n        return user\n\n    def _decode_token(self, token: str) -&gt; dict:\n        \"\"\"\u0412\u0441\u043f\u043e\u043c\u043e\u0433\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043c\u0435\u0442\u043e\u0434 \u0434\u043b\u044f \u0434\u0435\u043a\u043e\u0434\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0442\u043e\u043a\u0435\u043d\u0430 (\u0434\u043b\u044f \u0442\u0435\u0441\u0442\u043e\u0432).\"\"\"\n        return jwt.decode(token, self.secret_key, algorithms=[self.algorithm])\n\n    def _create_token(self, data: dict, expires_delta: timedelta) -&gt; str:\n        \"\"\"\u0412\u0441\u043f\u043e\u043c\u043e\u0433\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043c\u0435\u0442\u043e\u0434 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0442\u043e\u043a\u0435\u043d\u0430 \u0441 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u043c \u0432\u0440\u0435\u043c\u0435\u043d\u0435\u043c \u0436\u0438\u0437\u043d\u0438.\"\"\"\n        data[\"exp\"] = datetime.utcnow() + expires_delta\n        return jwt.encode(data, self.secret_key, algorithm=self.algorithm)\n\n# \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432 main.py \u043d\u043e\u0432\u044b\u0435 endpoints\nfrom fastapi.security import HTTPBearer\nfrom services.auth_service import AuthService\nfrom schemas.auth import LoginRequest, Token\n\n# Dependency \u0434\u043b\u044f auth service\nasync def get_auth_service(\n    user_service: UserService = Depends(get_user_service)\n) -&gt; AuthService:\n    return AuthService(user_service, secret_key=\"your-secret-key\")\n\n# Dependency \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\nasync def get_current_user(\n    token: str = Depends(security),\n    auth_service: AuthService = Depends(get_auth_service)\n) -&gt; User:\n    return await auth_service.get_current_user(token.credentials)\n\n@app.post(\"/auth/login\", response_model=Token)\nasync def login(\n    login_data: LoginRequest,\n    auth_service: AuthService = Depends(get_auth_service)\n):\n    \"\"\"\u0410\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n    user = await auth_service.authenticate_user(login_data)\n    if not user:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Incorrect email or password\"\n        )\n\n    access_token = await auth_service.create_access_token(user)\n    return {\"access_token\": access_token, \"token_type\": \"bearer\"}\n\n@app.get(\"/auth/me\", response_model=UserResponse)\nasync def get_current_user_info(\n    current_user: User = Depends(get_current_user)\n):\n    \"\"\"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u0442\u0435\u043a\u0443\u0449\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435.\"\"\"\n    return current_user\n\n# \u0417\u0430\u0449\u0438\u0449\u0430\u0435\u043c \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 endpoints\n@app.patch(\"/users/{user_id}\", response_model=UserResponse)\nasync def update_user(\n    user_id: int,\n    user_update: UserUpdate,\n    current_user: User = Depends(get_current_user),  # \u0422\u0440\u0435\u0431\u0443\u0435\u043c \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438\n    user_service: UserService = Depends(get_user_service)\n):\n    \"\"\"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f (\u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445).\"\"\"\n    # \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043c\u043e\u0436\u0435\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0432\u043e\u0438 \u0434\u0430\u043d\u043d\u044b\u0435\n    if current_user.id != user_id:\n        raise HTTPException(\n            status_code=status.HTTP_403_FORBIDDEN,\n            detail=\"Not enough permissions\"\n        )\n\n    user = await user_service.update_user(user_id, user_update)\n    if not user:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"User not found\"\n        )\n    return user\n</code></pre>"},{"location":"10_web_development_tdd/#fastapi-pytest-asyncio","title":"FastAPI + pytest-asyncio \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f","text":"<pre><code># conftest.py\nimport pytest\nimport asyncio\nfrom httpx import AsyncClient\nfrom sqlalchemy.ext.asyncio import create_async_engine, AsyncSession\nfrom sqlalchemy.orm import sessionmaker\n\nfrom main import app\nfrom database import get_db\nfrom models.user import Base\n\n# Test database URL\nTEST_DATABASE_URL = \"sqlite+aiosqlite:///./test.db\"\n\n@pytest.fixture(scope=\"session\")\ndef event_loop():\n    \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 event loop \u0434\u043b\u044f \u0432\u0441\u0435\u0439 \u0441\u0435\u0441\u0441\u0438\u0438 \u0442\u0435\u0441\u0442\u043e\u0432.\"\"\"\n    loop = asyncio.get_event_loop_policy().new_event_loop()\n    yield loop\n    loop.close()\n\n@pytest.fixture(scope=\"session\")\nasync def test_engine():\n    \"\"\"\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0439 \u0434\u0432\u0438\u0436\u043e\u043a \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445.\"\"\"\n    engine = create_async_engine(TEST_DATABASE_URL, echo=True)\n\n    # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0442\u0430\u0431\u043b\u0438\u0446\u044b\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.create_all)\n\n    yield engine\n\n    # \u0423\u0434\u0430\u043b\u044f\u0435\u043c \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u043f\u043e\u0441\u043b\u0435 \u0442\u0435\u0441\u0442\u043e\u0432\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.drop_all)\n\n@pytest.fixture\nasync def test_session(test_engine):\n    \"\"\"\u0422\u0435\u0441\u0442\u043e\u0432\u0430\u044f \u0441\u0435\u0441\u0441\u0438\u044f \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445.\"\"\"\n    async_session = sessionmaker(\n        test_engine, class_=AsyncSession, expire_on_commit=False\n    )\n\n    async with async_session() as session:\n        yield session\n\n@pytest.fixture\nasync def test_client(test_session):\n    \"\"\"\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0439 HTTP \u043a\u043b\u0438\u0435\u043d\u0442.\"\"\"\n    # \u041f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u043c dependency \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445\n    app.dependency_overrides[get_db] = lambda: test_session\n\n    async with AsyncClient(app=app, base_url=\"http://test\") as client:\n        yield client\n\n    # \u041e\u0447\u0438\u0449\u0430\u0435\u043c \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f\n    app.dependency_overrides.clear()\n\n# pytest.ini\n[tool:pytest]\nasyncio_mode = auto\ntestpaths = tests\npython_files = test_*.py\npython_classes = Test*\npython_functions = test_*\naddopts = \n    --strict-markers\n    --tb=short\n    -v\nmarkers = \n    asyncio: marks tests as async\n</code></pre>"},{"location":"10_web_development_tdd/#-tdd_1","title":"\ud83d\udd27 \u041f\u043e\u043b\u0435\u0437\u043d\u044b\u0435 \u043f\u0430\u0442\u0442\u0435\u0440\u043d\u044b \u0434\u043b\u044f \u0432\u0435\u0431-TDD","text":""},{"location":"10_web_development_tdd/#1-page-object-pattern-e2e","title":"1. Page Object Pattern \u0434\u043b\u044f E2E \u0442\u0435\u0441\u0442\u043e\u0432","text":"<pre><code># tests/page_objects.py\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\n\nclass LoginPage:\n    \"\"\"Page Object \u0434\u043b\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043b\u043e\u0433\u0438\u043d\u0430.\"\"\"\n\n    def __init__(self, driver):\n        self.driver = driver\n        self.wait = WebDriverWait(driver, 10)\n\n    def open(self):\n        self.driver.get(\"http://localhost:8000/login\")\n        return self\n\n    def login(self, username, password):\n        username_field = self.wait.until(\n            EC.presence_of_element_located((By.NAME, \"username\"))\n        )\n        password_field = self.driver.find_element(By.NAME, \"password\")\n        submit_button = self.driver.find_element(By.XPATH, \"//button[@type='submit']\")\n\n        username_field.send_keys(username)\n        password_field.send_keys(password)\n        submit_button.click()\n\n        return TaskListPage(self.driver)\n\nclass TaskListPage:\n    \"\"\"Page Object \u0434\u043b\u044f \u0441\u043f\u0438\u0441\u043a\u0430 \u0437\u0430\u0434\u0430\u0447.\"\"\"\n\n    def __init__(self, driver):\n        self.driver = driver\n        self.wait = WebDriverWait(driver, 10)\n\n    def create_task(self, title, description=\"\"):\n        create_button = self.wait.until(\n            EC.element_to_be_clickable((By.LINK_TEXT, \"Create Task\"))\n        )\n        create_button.click()\n\n        return TaskCreatePage(self.driver).fill_form(title, description)\n\n    def get_task_titles(self):\n        task_elements = self.driver.find_elements(By.CSS_SELECTOR, \".task-title\")\n        return [element.text for element in task_elements]\n\n# tests/e2e/test_task_flow.py\nimport pytest\nfrom selenium import webdriver\nfrom tests.page_objects import LoginPage\n\n@pytest.fixture\ndef driver():\n    driver = webdriver.Chrome()\n    yield driver\n    driver.quit()\n\ndef test_complete_task_flow(driver, live_server):\n    \"\"\"E2E \u0442\u0435\u0441\u0442 \u043f\u043e\u043b\u043d\u043e\u0433\u043e \u043f\u043e\u0442\u043e\u043a\u0430 \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u0437\u0430\u0434\u0430\u0447\u0430\u043c\u0438.\"\"\"\n    # \u041b\u043e\u0433\u0438\u043d\n    task_page = (LoginPage(driver)\n                 .open()\n                 .login(\"testuser\", \"testpass123\"))\n\n    # \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438\n    task_page.create_task(\"E2E Test Task\", \"Created via E2E test\")\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0447\u0442\u043e \u0437\u0430\u0434\u0430\u0447\u0430 \u043f\u043e\u044f\u0432\u0438\u043b\u0430\u0441\u044c \u0432 \u0441\u043f\u0438\u0441\u043a\u0435\n    tasks = task_page.get_task_titles()\n    assert \"E2E Test Task\" in tasks\n</code></pre>"},{"location":"10_web_development_tdd/#2-factory-pattern","title":"2. Factory Pattern \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445","text":"<pre><code># tests/factories.py\nimport factory\nfrom django.contrib.auth.models import User\nfrom tasks.models import Task\n\nclass UserFactory(factory.django.DjangoModelFactory):\n    \"\"\"\u0424\u0430\u0431\u0440\u0438\u043a\u0430 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439.\"\"\"\n\n    class Meta:\n        model = User\n\n    username = factory.Sequence(lambda n: f\"user{n}\")\n    email = factory.LazyAttribute(lambda obj: f\"{obj.username}@example.com\")\n    first_name = factory.Faker('first_name')\n    last_name = factory.Faker('last_name')\n\nclass TaskFactory(factory.django.DjangoModelFactory):\n    \"\"\"\u0424\u0430\u0431\u0440\u0438\u043a\u0430 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447.\"\"\"\n\n    class Meta:\n        model = Task\n\n    title = factory.Faker('sentence', nb_words=4)\n    description = factory.Faker('text')\n    owner = factory.SubFactory(UserFactory)\n    status = 'pending'\n\n# \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u0442\u0435\u0441\u0442\u0430\u0445\ndef test_task_with_factory():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0444\u0430\u0431\u0440\u0438\u043a\u0438.\"\"\"\n    user = UserFactory(username='specificuser')\n    task = TaskFactory(owner=user, title='Specific Task')\n\n    assert task.owner.username == 'specificuser'\n    assert task.title == 'Specific Task'\n</code></pre>"},{"location":"10_web_development_tdd/#3","title":"3. \u041c\u0438\u043a\u0441\u0438\u043d\u044b \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u043e\u0432","text":"<pre><code># tests/mixins.py\nfrom django.contrib.auth.models import User\nfrom rest_framework.test import APIClient\n\nclass AuthenticatedTestMixin:\n    \"\"\"\u041c\u0438\u043a\u0441\u0438\u043d \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u043e\u0432 \u0441 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0435\u0439.\"\"\"\n\n    def setUp(self):\n        super().setUp()\n        self.user = User.objects.create_user(\n            username='testuser',\n            email='test@example.com',\n            password='testpass123'\n        )\n        self.client = APIClient()\n        self.client.force_authenticate(user=self.user)\n\nclass TaskTestMixin:\n    \"\"\"\u041c\u0438\u043a\u0441\u0438\u043d \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u043e\u0432 \u0441 \u0437\u0430\u0434\u0430\u0447\u0430\u043c\u0438.\"\"\"\n\n    def create_task(self, **kwargs):\n        defaults = {\n            'title': 'Test Task',\n            'description': 'Test description',\n            'owner': self.user\n        }\n        defaults.update(kwargs)\n        return Task.objects.create(**defaults)\n\n# \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043c\u0438\u043a\u0441\u0438\u043d\u043e\u0432\nclass TestTaskAPI(AuthenticatedTestMixin, TaskTestMixin, TestCase):\n\n    def test_create_task(self):\n        response = self.client.post('/api/tasks/', {\n            'title': 'New Task',\n            'description': 'New description'\n        })\n\n        self.assertEqual(response.status_code, 201)\n</code></pre>"},{"location":"10_web_development_tdd/#_2","title":"\ud83c\udfaf \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0448\u0430\u0433\u0438","text":"<p>\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 \u0442\u0435\u0445\u043d\u0438\u043a\u0438 TDD: BDD, \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b, \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438.</p>"},{"location":"10_web_development_tdd/#_3","title":"\ud83d\ude80 \u0418\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u0430\u044f \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430","text":""},{"location":"10_web_development_tdd/#flask-api-tdd","title":"\ud83c\udf10 Flask API \u0441 TDD","text":"<p>\u0413\u043e\u0442\u043e\u0432\u044b \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u043d\u043e\u0446\u0435\u043d\u043d\u044b\u0439 RESTful API? \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u0439\u0442\u0435 TODO API \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u044b TDD:</p> <p>\ud83c\udfaf \u0418\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0435: Flask API \u0441 TDD</p> <p>\u0412 \u044d\u0442\u043e\u043c \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0438 \u0432\u044b: - \u0421\u043e\u0437\u0434\u0430\u0434\u0438\u0442\u0435 \u043f\u043e\u043b\u043d\u043e\u0446\u0435\u043d\u043d\u044b\u0439 RESTful API \u0441 CRUD \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f\u043c\u0438 - \u041e\u0441\u0432\u043e\u0438\u0442\u0435 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0435 \u043f\u0430\u0442\u0442\u0435\u0440\u043d\u044b (Repository, Service, Model) - \u0418\u0437\u0443\u0447\u0438\u0442\u0435 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044e \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u043e\u0448\u0438\u0431\u043e\u043a - \u041f\u0440\u043e\u0442\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u0442\u0435 \u0432\u0441\u0435 HTTP \u043c\u0435\u0442\u043e\u0434\u044b \u0438 \u0441\u0442\u0430\u0442\u0443\u0441 \u043a\u043e\u0434\u044b - \u041f\u043e\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442\u0435 \u0441 edge cases \u0438 \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u043c\u0438 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u044f\u043c\u0438</p> <p>\u042d\u0442\u043e \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u043a\u0430\u0436\u0435\u0442, \u043a\u0430\u043a TDD \u043f\u043e\u043c\u043e\u0433\u0430\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043d\u0430\u0434\u0435\u0436\u043d\u044b\u0435 \u0438 \u0445\u043e\u0440\u043e\u0448\u043e \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0432\u0435\u0431-API!</p>"},{"location":"10_web_development_tdd/#_4","title":"\ud83e\uddea \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u0432\u043e\u0438 \u0437\u043d\u0430\u043d\u0438\u044f","text":""},{"location":"10_web_development_tdd/#_5","title":"\ud83d\udd17 \u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0442\u0435\u043c\u044b","text":"<ul> <li>\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b - \u0431\u0430\u0437\u043e\u0432\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b TDD</li> <li>Mock \u043e\u0431\u044a\u0435\u043a\u0442\u044b - \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u0432\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f\u0445</li> <li>\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 - \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u0435\u0431-API</li> <li>\u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 \u0442\u0435\u0445\u043d\u0438\u043a\u0438 - BDD, \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b</li> <li>TDD \u0438 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 - \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u0432\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439</li> <li>CI/CD \u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u044f - \u0434\u0435\u043f\u043b\u043e\u0439 \u0432\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439</li> </ul> <p>\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430: \u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 \u0442\u0435\u0445\u043d\u0438\u043a\u0438 TDD</p> <p>\ud83c\udf10 \u0412\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043f\u043e\u0434 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0435\u043c \u2014 \u0438\u0437\u0443\u0447\u0430\u0435\u043c \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 \u0442\u0435\u0445\u043d\u0438\u043a\u0438!</p>"},{"location":"11_advanced_tdd/","title":"\u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 \u0442\u0435\u0445\u043d\u0438\u043a\u0438 TDD","text":""},{"location":"11_advanced_tdd/#_1","title":"\ud83c\udfaf \u0412\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0432 \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 \u0442\u0435\u0445\u043d\u0438\u043a\u0438","text":"<p>\u041f\u043e\u0441\u043b\u0435 \u043e\u0441\u0432\u043e\u0435\u043d\u0438\u044f \u0431\u0430\u0437\u043e\u0432\u044b\u0445 \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u043e\u0432 TDD \u043d\u0430\u0441\u0442\u0430\u043b\u043e \u0432\u0440\u0435\u043c\u044f \u0438\u0437\u0443\u0447\u0438\u0442\u044c \u0431\u043e\u043b\u0435\u0435 \u0441\u043b\u043e\u0436\u043d\u044b\u0435 \u0438 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0442\u0435\u0445\u043d\u0438\u043a\u0438. \u0412 \u044d\u0442\u043e\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c BDD, \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b, \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0434\u0440\u0443\u0433\u0438\u0435 \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u044b.</p>"},{"location":"11_advanced_tdd/#behavior-driven-development-bdd","title":"\ud83c\udfad Behavior-Driven Development (BDD)","text":"<p>BDD \u0440\u0430\u0441\u0448\u0438\u0440\u044f\u0435\u0442 TDD, \u0444\u043e\u043a\u0443\u0441\u0438\u0440\u0443\u044f\u0441\u044c \u043d\u0430 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0441 \u0442\u043e\u0447\u043a\u0438 \u0437\u0440\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.</p>"},{"location":"11_advanced_tdd/#gherkin","title":"Gherkin \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441","text":"<pre><code># features/user_registration.feature\nFeature: User Registration\n  As a visitor\n  I want to register an account\n  So that I can access the application\n\n  Scenario: Successful registration\n    Given I am on the registration page\n    When I fill in the registration form with valid data\n    And I submit the form\n    Then I should see a success message\n    And I should receive a confirmation email\n\n  Scenario: Registration with invalid email\n    Given I am on the registration page\n    When I fill in the registration form with invalid email\n    And I submit the form\n    Then I should see an error message\n    And I should not receive a confirmation email\n</code></pre>"},{"location":"11_advanced_tdd/#behave","title":"\u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0441 behave","text":"<pre><code>uv add behave\n</code></pre> <pre><code># features/steps/user_registration.py\nfrom behave import given, when, then\nfrom selenium import webdriver\nfrom selenium.webdriver.common.by import By\n\n@given('I am on the registration page')\ndef step_on_registration_page(context):\n    context.driver = webdriver.Chrome()\n    context.driver.get('http://localhost:8000/register')\n\n@when('I fill in the registration form with valid data')\ndef step_fill_valid_data(context):\n    context.driver.find_element(By.NAME, 'email').send_keys('test@example.com')\n    context.driver.find_element(By.NAME, 'password').send_keys('password123')\n    context.driver.find_element(By.NAME, 'confirm_password').send_keys('password123')\n\n@when('I submit the form')\ndef step_submit_form(context):\n    context.driver.find_element(By.XPATH, \"//button[@type='submit']\").click()\n\n@then('I should see a success message')\ndef step_see_success_message(context):\n    success_element = context.driver.find_element(By.CLASS_NAME, 'success-message')\n    assert 'Registration successful' in success_element.text\n</code></pre>"},{"location":"11_advanced_tdd/#bdd-pytest-bdd","title":"BDD \u0441 pytest-bdd","text":"<pre><code>uv add pytest-bdd\n</code></pre> <pre><code># tests/bdd/test_user_registration.py\nimport pytest\nfrom pytest_bdd import scenarios, given, when, then, parsers\nfrom myapp import create_app\nfrom myapp.models import User\n\nscenarios('features/user_registration.feature')\n\n@pytest.fixture\ndef app():\n    return create_app({'TESTING': True})\n\n@pytest.fixture\ndef client(app):\n    return app.test_client()\n\n@given('I am a new user')\ndef new_user():\n    return {'email': 'test@example.com', 'password': 'password123'}\n\n@when(parsers.parse('I register with email \"{email}\"'))\ndef register_user(client, email):\n    return client.post('/register', data={\n        'email': email,\n        'password': 'password123'\n    })\n\n@then('I should be successfully registered')\ndef check_registration(response):\n    assert response.status_code == 201\n    user = User.query.filter_by(email='test@example.com').first()\n    assert user is not None\n</code></pre>"},{"location":"11_advanced_tdd/#_2","title":"\ud83c\udfdb \u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b","text":"<p>\u0422\u0435\u0441\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u044e\u0442 \u0441\u043e\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u0435 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0445 \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u043e\u0432.</p>"},{"location":"11_advanced_tdd/#_3","title":"\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439","text":"<pre><code># tests/architecture/test_dependencies.py\nimport ast\nimport os\nfrom pathlib import Path\n\ndef test_domain_has_no_infrastructure_dependencies():\n    \"\"\"\u0414\u043e\u043c\u0435\u043d\u043d\u044b\u0439 \u0441\u043b\u043e\u0439 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u0437\u0430\u0432\u0438\u0441\u0435\u0442\u044c \u043e\u0442 \u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b.\"\"\"\n    domain_path = Path('src/domain')\n\n    for python_file in domain_path.glob('**/*.py'):\n        with open(python_file, 'r') as f:\n            tree = ast.parse(f.read())\n\n        for node in ast.walk(tree):\n            if isinstance(node, ast.Import):\n                for alias in node.names:\n                    assert not alias.name.startswith('infrastructure'), \\\n                        f\"Domain module {python_file} imports infrastructure: {alias.name}\"\n\n            elif isinstance(node, ast.ImportFrom):\n                if node.module and node.module.startswith('infrastructure'):\n                    raise AssertionError(\n                        f\"Domain module {python_file} imports from infrastructure: {node.module}\"\n                    )\n\ndef test_no_circular_dependencies():\n    \"\"\"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f \u0446\u0438\u043a\u043b\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439.\"\"\"\n    import_graph = {}\n\n    for root, dirs, files in os.walk('src'):\n        for file in files:\n            if file.endswith('.py'):\n                module_path = os.path.join(root, file)\n                imports = extract_imports(module_path)\n                module_name = path_to_module_name(module_path)\n                import_graph[module_name] = imports\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0446\u0438\u043a\u043b\u044b\n    visited = set()\n    rec_stack = set()\n\n    def has_cycle(node):\n        if node in rec_stack:\n            return True\n        if node in visited:\n            return False\n\n        visited.add(node)\n        rec_stack.add(node)\n\n        for neighbor in import_graph.get(node, []):\n            if has_cycle(neighbor):\n                return True\n\n        rec_stack.remove(node)\n        return False\n\n    for module in import_graph:\n        assert not has_cycle(module), f\"Circular dependency detected involving {module}\"\n</code></pre>"},{"location":"11_advanced_tdd/#solid","title":"\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u043e\u0432 SOLID","text":"<pre><code>def test_interface_segregation_principle():\n    \"\"\"\u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0441\u0444\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u043c\u0438.\"\"\"\n    from domain.interfaces import UserRepository\n\n    methods = [method for method in dir(UserRepository) \n               if not method.startswith('_')]\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0447\u0442\u043e \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u043d\u0435 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0431\u043e\u043b\u044c\u0448\u043e\u0439\n    assert len(methods) &lt;= 10, f\"UserRepository interface too large: {len(methods)} methods\"\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0447\u0442\u043e \u043c\u0435\u0442\u043e\u0434\u044b \u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438 \u0441\u0432\u044f\u0437\u0430\u043d\u044b\n    user_methods = [m for m in methods if 'user' in m.lower()]\n    assert len(user_methods) / len(methods) &gt;= 0.8, \"Interface not cohesive\"\n\ndef test_dependency_inversion_principle():\n    \"\"\"\u0412\u044b\u0441\u043e\u043a\u043e\u0443\u0440\u043e\u0432\u043d\u0435\u0432\u044b\u0435 \u043c\u043e\u0434\u0443\u043b\u0438 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u0437\u0430\u0432\u0438\u0441\u0435\u0442\u044c \u043e\u0442 \u043d\u0438\u0437\u043a\u043e\u0443\u0440\u043e\u0432\u043d\u0435\u0432\u044b\u0445.\"\"\"\n    import inspect\n    from domain.services import UserService\n\n    # \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440\u0430\n    signature = inspect.signature(UserService.__init__)\n\n    for param_name, param in signature.parameters.items():\n        if param_name != 'self':\n            # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0447\u0442\u043e \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c - \u044d\u0442\u043e \u0430\u0431\u0441\u0442\u0440\u0430\u043a\u0446\u0438\u044f (\u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441)\n            assert hasattr(param.annotation, '__abstractmethods__'), \\\n                f\"UserService depends on concrete class: {param.annotation}\"\n</code></pre>"},{"location":"11_advanced_tdd/#_4","title":"\u26a1 \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438","text":""},{"location":"11_advanced_tdd/#_5","title":"\u0411\u0430\u0437\u043e\u0432\u044b\u0435 \u0442\u0435\u0441\u0442\u044b \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438","text":"<pre><code>import time\nimport pytest\nfrom memory_profiler import profile\n\ndef test_user_creation_performance():\n    \"\"\"\u0422\u0435\u0441\u0442 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n    from domain.services import UserService\n\n    service = UserService()\n\n    start_time = time.time()\n\n    # \u0421\u043e\u0437\u0434\u0430\u0435\u043c 1000 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439\n    for i in range(1000):\n        service.create_user(f\"user{i}@example.com\", f\"User {i}\")\n\n    end_time = time.time()\n    duration = end_time - start_time\n\n    # \u0414\u043e\u043b\u0436\u043d\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u0441\u044f \u043c\u0435\u043d\u0435\u0435 \u0447\u0435\u043c \u0437\u0430 5 \u0441\u0435\u043a\u0443\u043d\u0434\n    assert duration &lt; 5.0, f\"User creation too slow: {duration}s\"\n\n@profile\ndef test_memory_usage():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0430\u043c\u044f\u0442\u0438.\"\"\"\n    data = []\n\n    # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u043e\u0431\u044a\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0445\n    for i in range(100000):\n        data.append({'id': i, 'name': f'Item {i}'})\n\n    # \u041e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435\n    processed = [item for item in data if item['id'] % 2 == 0]\n\n    assert len(processed) == 50000\n\ndef test_database_query_performance(db_session):\n    \"\"\"\u0422\u0435\u0441\u0442 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043a \u0411\u0414.\"\"\"\n    from models import User\n\n    # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435\n    users = [User(email=f\"user{i}@example.com\") for i in range(1000)]\n    db_session.bulk_save_objects(users)\n    db_session.commit()\n\n    # \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441\u0430\n    start_time = time.time()\n\n    result = db_session.query(User).filter(\n        User.email.like('%100%')\n    ).all()\n\n    end_time = time.time()\n    duration = end_time - start_time\n\n    assert duration &lt; 0.1, f\"Query too slow: {duration}s\"\n    assert len(result) &gt; 0\n</code></pre>"},{"location":"11_advanced_tdd/#pytest-benchmark","title":"\u041f\u0440\u043e\u0444\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441 pytest-benchmark","text":"<pre><code>import pytest\n\ndef fibonacci(n):\n    \"\"\"\u0424\u0443\u043d\u043a\u0446\u0438\u044f \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438.\"\"\"\n    if n &lt;= 1:\n        return n\n    return fibonacci(n-1) + fibonacci(n-2)\n\ndef fibonacci_optimized(n, memo=None):\n    \"\"\"\u041e\u043f\u0442\u0438\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f.\"\"\"\n    if memo is None:\n        memo = {}\n    if n in memo:\n        return memo[n]\n    if n &lt;= 1:\n        return n\n    memo[n] = fibonacci_optimized(n-1, memo) + fibonacci_optimized(n-2, memo)\n    return memo[n]\n\ndef test_fibonacci_performance(benchmark):\n    \"\"\"\u0422\u0435\u0441\u0442 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 fibonacci.\"\"\"\n    result = benchmark(fibonacci, 20)\n    assert result == 6765\n\ndef test_fibonacci_optimized_performance(benchmark):\n    \"\"\"\u0422\u0435\u0441\u0442 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0432\u0435\u0440\u0441\u0438\u0438.\"\"\"\n    result = benchmark(fibonacci_optimized, 20)\n    assert result == 6765\n\ndef test_compare_algorithms(benchmark):\n    \"\"\"\u0421\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u043e\u0432.\"\"\"\n    @benchmark\n    def run_fibonacci():\n        return fibonacci(15)\n\n    result = run_fibonacci\n    assert result == 610\n\n# \u0417\u0430\u043f\u0443\u0441\u043a: uv run pytest --benchmark-compare\n</code></pre>"},{"location":"11_advanced_tdd/#property-based-testing","title":"\ud83d\udd27 Property-Based Testing","text":"<p>\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e Hypothesis.</p> <pre><code>uv add hypothesis\n</code></pre> <pre><code>from hypothesis import given, strategies as st\nimport pytest\n\ndef add(a, b):\n    return a + b\n\ndef multiply(a, b):\n    return a * b\n\n@given(st.integers(), st.integers())\ndef test_add_commutative(a, b):\n    \"\"\"\u0421\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u0438\u0432\u043d\u043e.\"\"\"\n    assert add(a, b) == add(b, a)\n\n@given(st.integers(), st.integers(), st.integers())\ndef test_add_associative(a, b, c):\n    \"\"\"\u0421\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0430\u0441\u0441\u043e\u0446\u0438\u0430\u0442\u0438\u0432\u043d\u043e.\"\"\"\n    assert add(add(a, b), c) == add(a, add(b, c))\n\n@given(st.integers())\ndef test_add_identity(a):\n    \"\"\"\u041d\u043e\u043b\u044c - \u043d\u0435\u0439\u0442\u0440\u0430\u043b\u044c\u043d\u044b\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442 \u0441\u043b\u043e\u0436\u0435\u043d\u0438\u044f.\"\"\"\n    assert add(a, 0) == a\n    assert add(0, a) == a\n\n@given(st.text())\ndef test_string_operations(s):\n    \"\"\"\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 \u0441\u043e \u0441\u0442\u0440\u043e\u043a\u0430\u043c\u0438.\"\"\"\n    # \u0414\u043b\u0438\u043d\u0430 \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u043f\u0440\u0438 \u043a\u043e\u043d\u043a\u0430\u0442\u0435\u043d\u0430\u0446\u0438\u0438 \u0441 \u043f\u0443\u0441\u0442\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u043e\u0439\n    assert len(s + \"\") == len(s)\n\n    # \u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0435 \u0434\u0432\u0430\u0436\u0434\u044b \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0438\u0441\u0445\u043e\u0434\u043d\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443\n    assert s[::-1][::-1] == s\n\n@given(st.lists(st.integers()))\ndef test_sort_properties(lst):\n    \"\"\"\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438.\"\"\"\n    sorted_lst = sorted(lst)\n\n    # \u0414\u043b\u0438\u043d\u0430 \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f\n    assert len(sorted_lst) == len(lst)\n\n    # \u0412\u0441\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u044e\u0442\u0441\u044f\n    assert sorted(lst) == sorted(sorted_lst)\n\n    # \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043e\u0442\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\n    for i in range(len(sorted_lst) - 1):\n        assert sorted_lst[i] &lt;= sorted_lst[i + 1]\n\n# \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u0442\u0438\u043f\u043e\u0432\nclass BankAccount:\n    def __init__(self, balance=0):\n        self.balance = balance\n\n    def deposit(self, amount):\n        if amount &lt;= 0:\n            raise ValueError(\"Amount must be positive\")\n        self.balance += amount\n\n    def withdraw(self, amount):\n        if amount &lt;= 0:\n            raise ValueError(\"Amount must be positive\")\n        if amount &gt; self.balance:\n            raise ValueError(\"Insufficient funds\")\n        self.balance -= amount\n\n@given(st.floats(min_value=0.01, max_value=1000000))\ndef test_account_deposit_increases_balance(amount):\n    \"\"\"\u041f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0432\u0430\u0435\u0442 \u0431\u0430\u043b\u0430\u043d\u0441.\"\"\"\n    account = BankAccount(100)\n    initial_balance = account.balance\n\n    account.deposit(amount)\n\n    assert account.balance == initial_balance + amount\n\n@given(\n    st.floats(min_value=100, max_value=1000),\n    st.floats(min_value=1, max_value=99)\n)\ndef test_account_withdraw_decreases_balance(initial_balance, amount):\n    \"\"\"\u0421\u043d\u044f\u0442\u0438\u0435 \u0443\u043c\u0435\u043d\u044c\u0448\u0430\u0435\u0442 \u0431\u0430\u043b\u0430\u043d\u0441.\"\"\"\n    account = BankAccount(initial_balance)\n\n    account.withdraw(amount)\n\n    assert account.balance == initial_balance - amount\n</code></pre>"},{"location":"11_advanced_tdd/#mutation-testing","title":"\ud83e\uddea Mutation Testing","text":"<p>\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430 \u0442\u0435\u0441\u0442\u043e\u0432 \u043f\u0443\u0442\u0435\u043c \u0432\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043c\u0443\u0442\u0430\u0446\u0438\u0439 \u0432 \u043a\u043e\u0434.</p> <pre><code>uv add mutmut\n</code></pre> <pre><code># src/calculator.py\ndef add(a, b):\n    return a + b\n\ndef subtract(a, b):\n    return a - b\n\ndef multiply(a, b):\n    return a * b\n\ndef divide(a, b):\n    if b == 0:\n        raise ZeroDivisionError(\"Cannot divide by zero\")\n    return a / b\n\n# tests/test_calculator.py\nimport pytest\nfrom src.calculator import add, subtract, multiply, divide\n\ndef test_add():\n    assert add(2, 3) == 5\n    assert add(-1, 1) == 0\n    assert add(0, 0) == 0\n\ndef test_subtract():\n    assert subtract(5, 3) == 2\n    assert subtract(0, 0) == 0\n    assert subtract(-1, -1) == 0\n\ndef test_multiply():\n    assert multiply(3, 4) == 12\n    assert multiply(0, 5) == 0\n    assert multiply(-2, 3) == -6\n\ndef test_divide():\n    assert divide(10, 2) == 5\n    assert divide(7, 2) == 3.5\n\ndef test_divide_by_zero():\n    with pytest.raises(ZeroDivisionError):\n        divide(10, 0)\n</code></pre> <pre><code># \u0417\u0430\u043f\u0443\u0441\u043a mutation testing\nuv run mutmut run --paths-to-mutate src/\n\n# \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432\nuv run mutmut results\n\n# \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0439 \u043c\u0443\u0442\u0430\u0446\u0438\u0438\nuv run mutmut show 1\n</code></pre>"},{"location":"11_advanced_tdd/#contract-testing","title":"\ud83d\udd04 Contract Testing","text":"<p>\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0442\u0440\u0430\u043a\u0442\u043e\u0432 \u043c\u0435\u0436\u0434\u0443 \u0441\u0435\u0440\u0432\u0438\u0441\u0430\u043c\u0438.</p> <pre><code># contracts/user_service_contract.py\nfrom abc import ABC, abstractmethod\nfrom typing import List, Optional\n\nclass UserServiceContract(ABC):\n    \"\"\"\u041a\u043e\u043d\u0442\u0440\u0430\u043a\u0442 \u0434\u043b\u044f \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439.\"\"\"\n\n    @abstractmethod\n    def create_user(self, email: str, name: str) -&gt; 'User':\n        \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n        pass\n\n    @abstractmethod\n    def find_user_by_email(self, email: str) -&gt; Optional['User']:\n        \"\"\"\u041f\u043e\u0438\u0441\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u043e email.\"\"\"\n        pass\n\n    @abstractmethod\n    def get_all_users(self) -&gt; List['User']:\n        \"\"\"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0432\u0441\u0435\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439.\"\"\"\n        pass\n\n# tests/contract_tests.py\nimport pytest\nfrom contracts.user_service_contract import UserServiceContract\n\nclass ContractTestSuite:\n    \"\"\"\u0411\u0430\u0437\u043e\u0432\u044b\u0439 \u043d\u0430\u0431\u043e\u0440 \u0442\u0435\u0441\u0442\u043e\u0432 \u0434\u043b\u044f \u043a\u043e\u043d\u0442\u0440\u0430\u043a\u0442\u0430.\"\"\"\n\n    @pytest.fixture\n    def service(self) -&gt; UserServiceContract:\n        \"\"\"\u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f.\"\"\"\n        raise NotImplementedError(\"Subclasses must implement this\")\n\n    def test_create_user(self, service):\n        \"\"\"\u0422\u0435\u0441\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n        user = service.create_user(\"test@example.com\", \"Test User\")\n\n        assert user is not None\n        assert user.email == \"test@example.com\"\n        assert user.name == \"Test User\"\n\n    def test_find_user_by_email(self, service):\n        \"\"\"\u0422\u0435\u0441\u0442 \u043f\u043e\u0438\u0441\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n        # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\n        created_user = service.create_user(\"test@example.com\", \"Test User\")\n\n        # \u041d\u0430\u0445\u043e\u0434\u0438\u043c \u0435\u0433\u043e\n        found_user = service.find_user_by_email(\"test@example.com\")\n\n        assert found_user is not None\n        assert found_user.email == created_user.email\n\n    def test_find_nonexistent_user(self, service):\n        \"\"\"\u0422\u0435\u0441\u0442 \u043f\u043e\u0438\u0441\u043a\u0430 \u043d\u0435\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n        user = service.find_user_by_email(\"nonexistent@example.com\")\n        assert user is None\n\nclass TestDatabaseUserService(ContractTestSuite):\n    \"\"\"\u0422\u0435\u0441\u0442\u044b \u0434\u043b\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0441 \u0411\u0414.\"\"\"\n\n    @pytest.fixture\n    def service(self):\n        from implementations.database_user_service import DatabaseUserService\n        return DatabaseUserService(test_database_url)\n\nclass TestMemoryUserService(ContractTestSuite):\n    \"\"\"\u0422\u0435\u0441\u0442\u044b \u0434\u043b\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0432 \u043f\u0430\u043c\u044f\u0442\u0438.\"\"\"\n\n    @pytest.fixture\n    def service(self):\n        from implementations.memory_user_service import MemoryUserService\n        return MemoryUserService()\n</code></pre>"},{"location":"11_advanced_tdd/#test-doubles-patterns","title":"\ud83c\udfad Test Doubles Patterns","text":"<p>\u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 \u043f\u0430\u0442\u0442\u0435\u0440\u043d\u044b \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0445 \u0434\u0443\u0431\u043b\u0435\u0440\u043e\u0432.</p>"},{"location":"11_advanced_tdd/#builder-pattern","title":"Builder Pattern \u0434\u043b\u044f \u0441\u043b\u043e\u0436\u043d\u044b\u0445 \u043c\u043e\u043a\u043e\u0432","text":"<pre><code>class MockHttpResponseBuilder:\n    \"\"\"\u0421\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c \u0434\u043b\u044f HTTP \u043e\u0442\u0432\u0435\u0442\u043e\u0432.\"\"\"\n\n    def __init__(self):\n        self.mock_response = Mock()\n        self.mock_response.status_code = 200\n        self.mock_response.headers = {}\n        self.mock_response.json.return_value = {}\n\n    def status(self, code):\n        self.mock_response.status_code = code\n        return self\n\n    def json_data(self, data):\n        self.mock_response.json.return_value = data\n        return self\n\n    def header(self, key, value):\n        self.mock_response.headers[key] = value\n        return self\n\n    def build(self):\n        return self.mock_response\n\ndef test_api_client_with_builder(mocker):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c builder \u0434\u043b\u044f \u043c\u043e\u043a\u0430.\"\"\"\n    mock_response = (MockHttpResponseBuilder()\n                     .status(201)\n                     .json_data({\"id\": 123, \"name\": \"Test User\"})\n                     .header(\"Content-Type\", \"application/json\")\n                     .build())\n\n    mocker.patch('requests.post', return_value=mock_response)\n\n    client = APIClient()\n    result = client.create_user(\"test@example.com\", \"Test User\")\n\n    assert result[\"id\"] == 123\n    assert result[\"name\"] == \"Test User\"\n</code></pre>"},{"location":"11_advanced_tdd/#fake","title":"Fake \u0441 \u0440\u0435\u0430\u043b\u0438\u0441\u0442\u0438\u0447\u043d\u044b\u043c \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435\u043c","text":"<pre><code>class FakeEmailService:\n    \"\"\"\u0420\u0435\u0430\u043b\u0438\u0441\u0442\u0438\u0447\u043d\u0430\u044f \u043f\u043e\u0434\u0434\u0435\u043b\u043a\u0430 email \u0441\u0435\u0440\u0432\u0438\u0441\u0430.\"\"\"\n\n    def __init__(self):\n        self.sent_emails = []\n        self.failure_rate = 0  # \u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043d\u0435\u0443\u0434\u0430\u0447\n        self.delay = 0  # \u0417\u0430\u0434\u0435\u0440\u0436\u043a\u0430 \u0432 \u0441\u0435\u043a\u0443\u043d\u0434\u0430\u0445\n\n    def set_failure_rate(self, rate):\n        \"\"\"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u0446\u0435\u043d\u0442 \u043d\u0435\u0443\u0434\u0430\u0447.\"\"\"\n        self.failure_rate = rate\n\n    def set_delay(self, seconds):\n        \"\"\"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0443 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438.\"\"\"\n        self.delay = seconds\n\n    def send_email(self, to, subject, body):\n        \"\"\"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 email \u0441 \u0440\u0435\u0430\u043b\u0438\u0441\u0442\u0438\u0447\u043d\u044b\u043c \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435\u043c.\"\"\"\n        import random\n        import time\n\n        # \u0418\u043c\u0438\u0442\u0438\u0440\u0443\u0435\u043c \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0443\n        time.sleep(self.delay)\n\n        # \u0418\u043c\u0438\u0442\u0438\u0440\u0443\u0435\u043c \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0435 \u043d\u0435\u0443\u0434\u0430\u0447\u0438\n        if random.random() &lt; self.failure_rate:\n            raise EmailSendError(\"Failed to send email\")\n\n        # \u0418\u043c\u0438\u0442\u0438\u0440\u0443\u0435\u043c \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044e email\n        if \"@\" not in to:\n            raise EmailValidationError(\"Invalid email address\")\n\n        # \u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0439 email\n        self.sent_emails.append({\n            'to': to,\n            'subject': subject,\n            'body': body,\n            'timestamp': time.time()\n        })\n\n        return True\n\n    def get_sent_emails(self, to=None):\n        \"\"\"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 emails.\"\"\"\n        if to:\n            return [email for email in self.sent_emails if email['to'] == to]\n        return self.sent_emails\n\ndef test_email_service_reliability():\n    \"\"\"\u0422\u0435\u0441\u0442 \u043d\u0430\u0434\u0435\u0436\u043d\u043e\u0441\u0442\u0438 email \u0441\u0435\u0440\u0432\u0438\u0441\u0430.\"\"\"\n    fake_email = FakeEmailService()\n    fake_email.set_failure_rate(0.1)  # 10% \u043d\u0435\u0443\u0434\u0430\u0447\n\n    notification_service = NotificationService(fake_email)\n\n    successes = 0\n    failures = 0\n\n    for i in range(100):\n        try:\n            notification_service.send_welcome_email(f\"user{i}@example.com\")\n            successes += 1\n        except EmailSendError:\n            failures += 1\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0447\u0442\u043e \u0441\u0435\u0440\u0432\u0438\u0441 \u0441\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441 \u043d\u0435\u0443\u0434\u0430\u0447\u0430\u043c\u0438\n    assert successes &gt; 80  # \u0411\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043e\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u044b\n    assert failures &gt; 0    # \u041d\u043e \u0435\u0441\u0442\u044c \u0438 \u043d\u0435\u0443\u0434\u0430\u0447\u0438\n</code></pre>"},{"location":"11_advanced_tdd/#_6","title":"\ud83c\udfaf \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0448\u0430\u0433\u0438","text":"<p>\u0422\u0435\u043f\u0435\u0440\u044c \u0443 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c \u0437\u043d\u0430\u043d\u0438\u044f \u043e \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0445 \u0442\u0435\u0445\u043d\u0438\u043a\u0430\u0445 TDD! \u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u0438\u0437\u0443\u0447\u0438\u043c \u043b\u0443\u0447\u0448\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438 \u0438 \u0442\u0438\u043f\u0438\u0447\u043d\u044b\u0435 \u0430\u043d\u0442\u0438\u043f\u0430\u0442\u0442\u0435\u0440\u043d\u044b.</p>"},{"location":"11_advanced_tdd/#_7","title":"\ud83e\uddea \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u0432\u043e\u0438 \u0437\u043d\u0430\u043d\u0438\u044f","text":""},{"location":"11_advanced_tdd/#_8","title":"\ud83d\ude80 \u0418\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u0430\u044f \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430","text":""},{"location":"11_advanced_tdd/#property-based-hypothesis","title":"\ud83e\uddea Property-Based \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441 HypothesisProperty-Based \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","text":"<p>\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u043e\u0441\u0432\u043e\u0438\u043c \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 \u0442\u0435\u0445\u043d\u0438\u043a\u0438 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043d\u0430 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0435!</p>              \u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 property-based \u0442\u0435\u0441\u0442\u044b \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c Hypothesis \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0441\u0432\u043e\u0439\u0441\u0442\u0432.          \u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435 \u0441\u043b\u0443\u0447\u0430\u0438: <ul> <li>\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 Hypothesis</li><li>\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043c\u043e\u0434\u0443\u043b\u044c \u0441 \u043c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u043c\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u044f\u043c\u0438</li><li>\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 property-based \u0442\u0435\u0441\u0442\u044b</li><li>\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0442\u0435\u0441\u0442\u044b \u0438 \u0438\u0437\u0443\u0447\u0438\u0442\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044e \u0434\u0430\u043d\u043d\u044b\u0445</li> </ul> \u0412\u0430\u0448 \u043a\u043e\u0434: # \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 Hypothesis # uv add hypothesis  # \u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043c\u043e\u0434\u0443\u043b\u044c math_ops.py def add(a, b):     return a + b  def multiply(a, b):     return a * b  # \u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0442\u0435\u0441\u0442\u044b test_properties.py from hypothesis import given, strategies as st from math_ops import add, multiply  @given(a=st.integers(), b=st.integers()) def test_add_commutative(a, b):     assert add(a, b) == add(b, a)  @given(a=st.integers()) def test_multiply_by_zero(a):     assert multiply(a, 0) == 0  # \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435: uv run pytest test_properties.py -v                  \ud83d\ude80 \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c                               \ud83d\udd04 \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c              \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438:"},{"location":"11_advanced_tdd/#_9","title":"\ud83d\udd17 \u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0442\u0435\u043c\u044b","text":"<ul> <li>TDD \u0432 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 - \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0445 \u0442\u0435\u0445\u043d\u0438\u043a \u0432 \u0432\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f\u0445</li> <li>\u041b\u0443\u0447\u0448\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438 - \u043a\u043e\u0433\u0434\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 \u0442\u0435\u0445\u043d\u0438\u043a\u0438</li> <li>TDD \u0438 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 - \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b \u0438 BDD</li> <li>\u041c\u0435\u0442\u0440\u0438\u043a\u0438 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f \u043a\u043e\u0434\u0430 - \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u0435 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430 \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0445 \u0442\u0435\u0441\u0442\u043e\u0432</li> <li>\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0438 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0438 - \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0434\u043b\u044f \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0445 \u0442\u0435\u0445\u043d\u0438\u043a</li> <li>CI/CD \u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u044f - \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0445 \u0442\u0435\u0441\u0442\u043e\u0432</li> </ul> <p>\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430: \u041b\u0443\u0447\u0448\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438 \u0438 \u0430\u043d\u0442\u0438\u043f\u0430\u0442\u0442\u0435\u0440\u043d\u044b</p> <p>\ud83d\ude80 \u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 \u0442\u0435\u0445\u043d\u0438\u043a\u0438 \u043e\u0441\u0432\u043e\u0435\u043d\u044b \u2014 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0439\u0442\u0435 \u0438\u0445 \u043c\u0443\u0434\u0440\u043e!</p>"},{"location":"12_best_practices/","title":"\u041b\u0443\u0447\u0448\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438 \u0438 \u0430\u043d\u0442\u0438\u043f\u0430\u0442\u0442\u0435\u0440\u043d\u044b TDD","text":""},{"location":"12_best_practices/#_1","title":"\ud83c\udfaf \u0426\u0435\u043b\u0438 \u0433\u043b\u0430\u0432\u044b","text":"<p>\u0412 \u044d\u0442\u043e\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043f\u0440\u043e\u0432\u0435\u0440\u0435\u043d\u043d\u044b\u0435 \u0432\u0440\u0435\u043c\u0435\u043d\u0435\u043c \u043b\u0443\u0447\u0448\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438 TDD, \u0442\u0438\u043f\u0438\u0447\u043d\u044b\u0435 \u043e\u0448\u0438\u0431\u043a\u0438 \u0438 \u0430\u043d\u0442\u0438\u043f\u0430\u0442\u0442\u0435\u0440\u043d\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0438\u0437\u0431\u0435\u0433\u0430\u0442\u044c. \u042d\u0442\u0438 \u0437\u043d\u0430\u043d\u0438\u044f \u043f\u043e\u043c\u043e\u0433\u0443\u0442 \u0432\u0430\u043c \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c TDD \u0432 \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u0445.</p>"},{"location":"12_best_practices/#tdd_1","title":"\u2705 \u041b\u0443\u0447\u0448\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438 TDD","text":""},{"location":"12_best_practices/#1","title":"1. \ud83d\ude80 \u041d\u0430\u0447\u0438\u043d\u0430\u0439\u0442\u0435 \u0441 \u043f\u0440\u043e\u0441\u0442\u0435\u0439\u0448\u0435\u0433\u043e \u0442\u0435\u0441\u0442\u0430","text":""},{"location":"12_best_practices/#_2","title":"\u2705 \u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e:","text":"<pre><code>def test_user_has_name():\n    \"\"\"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0438\u043c\u0435\u0435\u0442 \u0438\u043c\u044f.\"\"\"\n    user = User(\"John\")\n    assert user.name == \"John\"\n</code></pre>"},{"location":"12_best_practices/#_3","title":"\u274c \u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e:","text":"<pre><code>def test_complete_user_lifecycle():\n    \"\"\"\u041f\u043e\u043b\u043d\u044b\u0439 \u0436\u0438\u0437\u043d\u0435\u043d\u043d\u044b\u0439 \u0446\u0438\u043a\u043b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n    user = User(\"John\", \"john@example.com\", 25, [\"admin\", \"user\"])\n    user.login(\"password123\")\n    user.update_profile({\"bio\": \"Developer\"})\n    user.add_friend(another_user)\n    user.logout()\n    assert user.last_login is not None\n    # \u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0432 \u043e\u0434\u043d\u043e\u043c \u0442\u0435\u0441\u0442\u0435!\n</code></pre>"},{"location":"12_best_practices/#2","title":"2. \ud83d\udcdd \u041f\u0438\u0448\u0438\u0442\u0435 \u0432\u044b\u0440\u0430\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0438\u043c\u0435\u043d\u0430 \u0442\u0435\u0441\u0442\u043e\u0432","text":""},{"location":"12_best_practices/#_4","title":"\u2705 \u041e\u0442\u043b\u0438\u0447\u043d\u044b\u0435 \u0438\u043c\u0435\u043d\u0430:","text":"<pre><code>def test_withdraw_amount_greater_than_balance_raises_insufficient_funds_error():\n    \"\"\"\u0421\u043d\u044f\u0442\u0438\u0435 \u0441\u0443\u043c\u043c\u044b \u0431\u043e\u043b\u044c\u0448\u0435 \u0431\u0430\u043b\u0430\u043d\u0441\u0430 \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0443 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043a\u0430 \u0441\u0440\u0435\u0434\u0441\u0442\u0432.\"\"\"\n    pass\n\ndef test_new_shopping_cart_is_empty():\n    \"\"\"\u041d\u043e\u0432\u0430\u044f \u043a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u043e\u043a\u0443\u043f\u043e\u043a \u043f\u0443\u0441\u0442\u0430.\"\"\"\n    pass\n\ndef test_sending_email_to_invalid_address_raises_validation_error():\n    \"\"\"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 email \u043d\u0430 \u043d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0443 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438.\"\"\"\n    pass\n</code></pre>"},{"location":"12_best_practices/#_5","title":"\u274c \u041f\u043b\u043e\u0445\u0438\u0435 \u0438\u043c\u0435\u043d\u0430:","text":"<pre><code>def test_user():  # \u0427\u0442\u043e \u0438\u043c\u0435\u043d\u043d\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c?\n    pass\n\ndef test_1():  # \u041d\u0435\u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0432\u043d\u043e\n    pass\n\ndef test_edge_case():  # \u041a\u0430\u043a\u043e\u0439 \u0438\u043c\u0435\u043d\u043d\u043e edge case?\n    pass\n</code></pre>"},{"location":"12_best_practices/#3-aaa","title":"3. \ud83c\udfd7 \u0421\u043b\u0435\u0434\u0443\u0439\u0442\u0435 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0435 AAA","text":"<pre><code>def test_bank_transfer_between_accounts():\n    \"\"\"\u041f\u0435\u0440\u0435\u0432\u043e\u0434 \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u043c\u0435\u0436\u0434\u0443 \u0431\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u043c\u0438 \u0441\u0447\u0435\u0442\u0430\u043c\u0438.\"\"\"\n    # Arrange (\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430)\n    from_account = Account(\"ACC001\", initial_balance=1000)\n    to_account = Account(\"ACC002\", initial_balance=500)\n    transfer_amount = 250\n\n    # Act (\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435)\n    from_account.transfer(transfer_amount, to_account)\n\n    # Assert (\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430)\n    assert from_account.balance == 750\n    assert to_account.balance == 750\n</code></pre>"},{"location":"12_best_practices/#4","title":"4. \ud83c\udfaf \u041e\u0434\u0438\u043d \u0442\u0435\u0441\u0442 = \u043e\u0434\u043d\u0430 \u043a\u043e\u043d\u0446\u0435\u043f\u0446\u0438\u044f","text":""},{"location":"12_best_practices/#_6","title":"\u2705 \u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e:","text":"<pre><code>def test_valid_email_passes_validation():\n    \"\"\"\u0412\u0430\u043b\u0438\u0434\u043d\u044b\u0439 email \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044e.\"\"\"\n    assert is_valid_email(\"user@example.com\") == True\n\ndef test_email_without_at_symbol_fails_validation():\n    \"\"\"Email \u0431\u0435\u0437 \u0441\u0438\u043c\u0432\u043e\u043b\u0430 @ \u043d\u0435 \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044e.\"\"\"\n    assert is_valid_email(\"userexample.com\") == False\n\ndef test_email_without_domain_fails_validation():\n    \"\"\"Email \u0431\u0435\u0437 \u0434\u043e\u043c\u0435\u043d\u0430 \u043d\u0435 \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044e.\"\"\"\n    assert is_valid_email(\"user@\") == False\n</code></pre>"},{"location":"12_best_practices/#_7","title":"\u274c \u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e:","text":"<pre><code>def test_email_validation():\n    \"\"\"\u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f email.\"\"\"\n    # \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u043e\u043d\u0446\u0435\u043f\u0446\u0438\u0439 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\n    assert is_valid_email(\"user@example.com\") == True\n    assert is_valid_email(\"userexample.com\") == False\n    assert is_valid_email(\"user@\") == False\n    assert is_valid_email(\"@example.com\") == False\n    # \u0415\u0441\u043b\u0438 \u043e\u0434\u0438\u043d assert \u043f\u0430\u0434\u0430\u0435\u0442, \u043c\u044b \u043d\u0435 \u0443\u0437\u043d\u0430\u0435\u043c \u043e \u0434\u0440\u0443\u0433\u0438\u0445\n</code></pre>"},{"location":"12_best_practices/#5","title":"5. \u26a1 \u0411\u044b\u0441\u0442\u0440\u044b\u0435 \u0438 \u043d\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u044b\u0435 \u0442\u0435\u0441\u0442\u044b","text":""},{"location":"12_best_practices/#_8","title":"\u2705 \u0411\u044b\u0441\u0442\u0440\u044b\u0435 \u0442\u0435\u0441\u0442\u044b:","text":"<pre><code>def test_calculate_discount():\n    \"\"\"\u0420\u0430\u0441\u0447\u0435\u0442 \u0441\u043a\u0438\u0434\u043a\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u043c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u043e.\"\"\"\n    price = 100\n    discount_percent = 10\n\n    result = calculate_discount(price, discount_percent)\n\n    assert result == 90\n</code></pre>"},{"location":"12_best_practices/#_9","title":"\u274c \u041c\u0435\u0434\u043b\u0435\u043d\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b:","text":"<pre><code>def test_user_registration():\n    \"\"\"\u041c\u0435\u0434\u043b\u0435\u043d\u043d\u044b\u0439 \u0442\u0435\u0441\u0442 \u0441 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0439 \u0411\u0414.\"\"\"\n    # \u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0439 \u0411\u0414\n    db = connect_to_production_database()\n\n    # \u0420\u0435\u0430\u043b\u044c\u043d\u044b\u0439 HTTP \u0437\u0430\u043f\u0440\u043e\u0441\n    response = requests.post(\"https://api.example.com/users\", {\n        \"email\": \"test@example.com\"\n    })\n\n    # \u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u043e\u0442\u0432\u0435\u0442\u0430 \u043e\u0442 \u0432\u043d\u0435\u0448\u043d\u0435\u0433\u043e \u0441\u0435\u0440\u0432\u0438\u0441\u0430\n    time.sleep(2)\n\n    assert response.status_code == 201\n</code></pre>"},{"location":"12_best_practices/#6","title":"6. \ud83d\udd2c \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435, \u0430 \u043d\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e","text":""},{"location":"12_best_practices/#_10","title":"\u2705 \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435:","text":"<pre><code>def test_user_can_change_password():\n    \"\"\"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043c\u043e\u0436\u0435\u0442 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c.\"\"\"\n    user = User(\"john@example.com\")\n    old_password = \"old_password\"\n    new_password = \"new_password\"\n\n    user.set_password(old_password)\n    user.change_password(old_password, new_password)\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435, \u0430 \u043d\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e\n    assert user.verify_password(new_password) == True\n    assert user.verify_password(old_password) == False\n</code></pre>"},{"location":"12_best_practices/#_11","title":"\u274c \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e:","text":"<pre><code>def test_password_hashing_implementation():\n    \"\"\"\u0422\u0435\u0441\u0442 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0439 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0445\u0435\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f.\"\"\"\n    user = User(\"john@example.com\")\n    password = \"test_password\"\n\n    user.set_password(password)\n\n    # \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044e\u044e \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e\n    assert user._password_hash.startswith(\"$2b$\")  # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c bcrypt\n    assert len(user._salt) == 32  # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0434\u043b\u0438\u043d\u0443 \u0441\u043e\u043b\u0438\n    # \u0422\u0435\u0441\u0442 \u0441\u043b\u043e\u043c\u0430\u0435\u0442\u0441\u044f \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u0430 \u0445\u0435\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f\n</code></pre>"},{"location":"12_best_practices/#7","title":"7. \ud83c\udff7 \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043c\u0430\u0440\u043a\u0435\u0440\u044b \u0434\u043b\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438","text":"<pre><code>import pytest\n\n@pytest.mark.unit\ndef test_calculate_tax():\n    \"\"\"Unit \u0442\u0435\u0441\u0442 \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u043d\u0430\u043b\u043e\u0433\u0430.\"\"\"\n    assert calculate_tax(100) == 13\n\n@pytest.mark.integration\ndef test_user_registration_flow():\n    \"\"\"\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u0442\u0435\u0441\u0442 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438.\"\"\"\n    pass\n\n@pytest.mark.slow\ndef test_data_migration():\n    \"\"\"\u041c\u0435\u0434\u043b\u0435\u043d\u043d\u044b\u0439 \u0442\u0435\u0441\u0442 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445.\"\"\"\n    pass\n\n@pytest.mark.smoke\ndef test_application_starts():\n    \"\"\"\u0414\u044b\u043c\u043e\u0432\u043e\u0439 \u0442\u0435\u0441\u0442 \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f.\"\"\"\n    pass\n</code></pre>"},{"location":"12_best_practices/#8-edge-cases","title":"8. \ud83e\uddea \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438\u0437\u0430\u0446\u0438\u044e \u0434\u043b\u044f \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f edge cases","text":"<pre><code>@pytest.mark.parametrize(\"age,expected\", [\n    (17, False),  # \u041d\u0435\u0441\u043e\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u043e\u043b\u0435\u0442\u043d\u0438\u0439\n    (18, True),   # \u0413\u0440\u0430\u043d\u0438\u0446\u0430\n    (25, True),   # \u0412\u0437\u0440\u043e\u0441\u043b\u044b\u0439\n    (65, True),   # \u041f\u043e\u0436\u0438\u043b\u043e\u0439\n    (150, False), # \u041d\u0435\u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0439 \u0432\u043e\u0437\u0440\u0430\u0441\u0442\n])\ndef test_is_adult(age, expected):\n    \"\"\"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0441\u043e\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u043e\u043b\u0435\u0442\u0438\u044f \u0434\u043b\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u043e\u0432.\"\"\"\n    assert is_adult(age) == expected\n\n@pytest.mark.parametrize(\"email\", [\n    \"user@example.com\",\n    \"test.email+tag@domain.co.uk\",\n    \"user123@test-domain.org\",\n])\ndef test_valid_emails(email):\n    \"\"\"\u0412\u0430\u043b\u0438\u0434\u043d\u044b\u0435 email \u0430\u0434\u0440\u0435\u0441\u0430 \u043f\u0440\u043e\u0445\u043e\u0434\u044f\u0442 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044e.\"\"\"\n    assert is_valid_email(email) == True\n</code></pre>"},{"location":"12_best_practices/#tdd_2","title":"\u274c \u0410\u043d\u0442\u0438\u043f\u0430\u0442\u0442\u0435\u0440\u043d\u044b TDD","text":""},{"location":"12_best_practices/#1-the-liar","title":"1. \ud83d\udeab The Liar (\u041b\u0436\u0435\u0446)","text":"<p>\u0422\u0435\u0441\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442 \u043f\u043e \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u043c \u043f\u0440\u0438\u0447\u0438\u043d\u0430\u043c.</p>"},{"location":"12_best_practices/#_12","title":"\u274c \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430:","text":"<pre><code>def test_user_authentication():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n    user = User(\"john@example.com\", \"password\")\n\n    # \u0422\u0435\u0441\u0442 \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442, \u043d\u043e \u043d\u0435 \u043f\u043e \u0442\u043e\u0439 \u043f\u0440\u0438\u0447\u0438\u043d\u0435!\n    result = user.authenticate(\"wrong_password\")\n    assert result == True  # \u0412\u0441\u0435\u0433\u0434\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 True \u0438\u0437-\u0437\u0430 \u0431\u0430\u0433\u0430\n</code></pre>"},{"location":"12_best_practices/#_13","title":"\u2705 \u0420\u0435\u0448\u0435\u043d\u0438\u0435:","text":"<pre><code>def test_user_authentication_with_correct_password():\n    \"\"\"\u0410\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u0441 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u043c \u043f\u0430\u0440\u043e\u043b\u0435\u043c \u0443\u0441\u043f\u0435\u0448\u043d\u0430.\"\"\"\n    user = User(\"john@example.com\", \"password\")\n\n    result = user.authenticate(\"password\")\n    assert result == True\n\ndef test_user_authentication_with_wrong_password():\n    \"\"\"\u0410\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u0441 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u043c \u043f\u0430\u0440\u043e\u043b\u0435\u043c \u043d\u0435\u0443\u0441\u043f\u0435\u0448\u043d\u0430.\"\"\"\n    user = User(\"john@example.com\", \"password\")\n\n    result = user.authenticate(\"wrong_password\")\n    assert result == False\n</code></pre>"},{"location":"12_best_practices/#2-the-mockery","title":"2. \ud83d\udeab The Mockery (\u041f\u0435\u0440\u0435\u0434\u0440\u0430\u0437\u043d\u0438\u0432\u0430\u043d\u0438\u0435)","text":"<p>\u0427\u0440\u0435\u0437\u043c\u0435\u0440\u043d\u043e\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043c\u043e\u043a\u043e\u0432.</p>"},{"location":"12_best_practices/#_14","title":"\u274c \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430:","text":"<pre><code>def test_user_service_create_user(mocker):\n    \"\"\"\u041f\u0435\u0440\u0435\u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0442\u0435\u0441\u0442.\"\"\"\n    # \u041c\u043e\u043a\u0438\u0440\u0443\u0435\u043c \u0432\u0441\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438\n    mock_email_validator = mocker.Mock()\n    mock_password_hasher = mocker.Mock() \n    mock_database = mocker.Mock()\n    mock_logger = mocker.Mock()\n    mock_event_bus = mocker.Mock()\n\n    # \u0422\u0435\u0441\u0442 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442 \u0438\u0437 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0439 \u043b\u043e\u0433\u0438\u043a\u0438\n    service = UserService(\n        mock_email_validator,\n        mock_password_hasher,\n        mock_database,\n        mock_logger,\n        mock_event_bus\n    )\n\n    service.create_user(\"test@example.com\", \"password\")\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0442\u043e\u043b\u044c\u043a\u043e \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0441 \u043c\u043e\u043a\u0430\u043c\u0438\n    mock_database.save.assert_called_once()\n</code></pre>"},{"location":"12_best_practices/#_15","title":"\u2705 \u0420\u0435\u0448\u0435\u043d\u0438\u0435:","text":"<pre><code>def test_user_service_create_user():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u043c \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c.\"\"\"\n    # \u041c\u043e\u043a\u0438\u0440\u0443\u0435\u043c \u0442\u043e\u043b\u044c\u043a\u043e \u0432\u043d\u0435\u0448\u043d\u0438\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438\n    with patch('userservice.send_welcome_email') as mock_email:\n        service = UserService()\n\n        user = service.create_user(\"test@example.com\", \"password\")\n\n        # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435\n        assert user.email == \"test@example.com\"\n        assert user.password_hash is not None\n        mock_email.assert_called_once_with(user)\n</code></pre>"},{"location":"12_best_practices/#3-the-inspector","title":"3. \ud83d\udeab The Inspector (\u0418\u043d\u0441\u043f\u0435\u043a\u0442\u043e\u0440)","text":"<p>\u0422\u0435\u0441\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0437\u043d\u0430\u0435\u0442 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u043e \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u0439 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438.</p>"},{"location":"12_best_practices/#_16","title":"\u274c \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430:","text":"<pre><code>def test_shopping_cart_implementation_details():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u0439 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u043a\u043e\u0440\u0437\u0438\u043d\u044b.\"\"\"\n    cart = ShoppingCart()\n    product = Product(\"Laptop\", 1000)\n\n    cart.add_item(product)\n\n    # \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044e\u044e \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443 \u0434\u0430\u043d\u043d\u044b\u0445\n    assert len(cart._items) == 1\n    assert cart._items[product] == 1\n    assert cart._total_calculated == False\n</code></pre>"},{"location":"12_best_practices/#_17","title":"\u2705 \u0420\u0435\u0448\u0435\u043d\u0438\u0435:","text":"<pre><code>def test_shopping_cart_add_item():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0442\u043e\u0432\u0430\u0440\u0430 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443.\"\"\"\n    cart = ShoppingCart()\n    product = Product(\"Laptop\", 1000)\n\n    cart.add_item(product)\n\n    # \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u043e\u0435 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435\n    assert cart.item_count == 1\n    assert cart.total_price == 1000\n    assert product in cart.items\n</code></pre>"},{"location":"12_best_practices/#4-the-greedy-catcher","title":"4. \ud83d\udeab The Greedy Catcher (\u0416\u0430\u0434\u043d\u044b\u0439 \u043b\u043e\u0432\u0435\u0446)","text":"<p>\u0422\u0435\u0441\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043b\u043e\u0432\u0438\u0442 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043e\u0431\u0449\u0438\u0435 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f.</p>"},{"location":"12_best_practices/#_18","title":"\u274c \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430:","text":"<pre><code>def test_invalid_user_data_raises_exception():\n    \"\"\"\u041d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432\u044b\u0437\u044b\u0432\u0430\u044e\u0442 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435.\"\"\"\n    with pytest.raises(Exception):  # \u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043e\u0431\u0449\u0435\u0435 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\n        User(email=\"invalid\", age=-5)\n</code></pre>"},{"location":"12_best_practices/#_19","title":"\u2705 \u0420\u0435\u0448\u0435\u043d\u0438\u0435:","text":"<pre><code>def test_invalid_email_raises_validation_error():\n    \"\"\"\u041d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 email \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0443 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438.\"\"\"\n    with pytest.raises(ValidationError, match=\"Invalid email format\"):\n        User(email=\"invalid\", age=25)\n\ndef test_negative_age_raises_value_error():\n    \"\"\"\u041e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0432\u043e\u0437\u0440\u0430\u0441\u0442 \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442 ValueError.\"\"\"\n    with pytest.raises(ValueError, match=\"Age cannot be negative\"):\n        User(email=\"user@example.com\", age=-5)\n</code></pre>"},{"location":"12_best_practices/#5-the-giant","title":"5. \ud83d\udeab The Giant (\u0413\u0438\u0433\u0430\u043d\u0442)","text":"<p>\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u0442\u0435\u0441\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0432\u0435\u0449\u0435\u0439.</p>"},{"location":"12_best_practices/#_20","title":"\u274c \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430:","text":"<pre><code>def test_complete_e_commerce_flow():\n    \"\"\"\u041f\u043e\u043b\u043d\u044b\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043a\u043e\u043c\u043c\u0435\u0440\u0446\u0438\u0438.\"\"\"\n    # 200+ \u0441\u0442\u0440\u043e\u043a \u043a\u043e\u0434\u0430\n    user = create_user()\n    product = create_product()\n    cart = ShoppingCart()\n    cart.add_item(product)\n    order = place_order(cart, user)\n    payment = process_payment(order)\n    shipment = create_shipment(order)\n    # ... \u043c\u043d\u043e\u0433\u043e \u0434\u0440\u0443\u0433\u0438\u0445 \u043f\u0440\u043e\u0432\u0435\u0440\u043e\u043a\n    assert shipment.status == \"shipped\"\n</code></pre>"},{"location":"12_best_practices/#_21","title":"\u2705 \u0420\u0435\u0448\u0435\u043d\u0438\u0435:","text":"<pre><code>def test_user_can_add_product_to_cart():\n    \"\"\"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043c\u043e\u0436\u0435\u0442 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443.\"\"\"\n    user = create_user()\n    product = create_product()\n    cart = user.get_cart()\n\n    cart.add_item(product)\n\n    assert product in cart.items\n\ndef test_user_can_place_order_from_cart():\n    \"\"\"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437 \u0438\u0437 \u043a\u043e\u0440\u0437\u0438\u043d\u044b.\"\"\"\n    user = create_user()\n    cart = create_cart_with_items()\n\n    order = user.place_order(cart)\n\n    assert order.status == \"pending\"\n    assert order.items == cart.items\n</code></pre>"},{"location":"12_best_practices/#6-the-sleeper","title":"6. \ud83d\udeab The Sleeper (\u0421\u043e\u043d\u044f)","text":"<p>\u0422\u0435\u0441\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 sleep \u0438\u043b\u0438 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u0438.</p>"},{"location":"12_best_practices/#_22","title":"\u274c \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430:","text":"<pre><code>def test_cache_expiration():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0438\u0441\u0442\u0435\u0447\u0435\u043d\u0438\u044f \u043a\u0435\u0448\u0430.\"\"\"\n    cache = Cache(ttl=1)  # 1 \u0441\u0435\u043a\u0443\u043d\u0434\u0430\n    cache.set(\"key\", \"value\")\n\n    time.sleep(1.1)  # \u0416\u0434\u0435\u043c \u0438\u0441\u0442\u0435\u0447\u0435\u043d\u0438\u044f \u043a\u0435\u0448\u0430\n\n    assert cache.get(\"key\") is None\n</code></pre>"},{"location":"12_best_practices/#_23","title":"\u2705 \u0420\u0435\u0448\u0435\u043d\u0438\u0435:","text":"<pre><code>def test_cache_expiration(mocker):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0438\u0441\u0442\u0435\u0447\u0435\u043d\u0438\u044f \u043a\u0435\u0448\u0430 \u0441 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0432\u0440\u0435\u043c\u0435\u043d\u0438.\"\"\"\n    with patch('time.time') as mock_time:\n        mock_time.return_value = 1000\n\n        cache = Cache(ttl=1)\n        cache.set(\"key\", \"value\")\n\n        mock_time.return_value = 1002  # +2 \u0441\u0435\u043a\u0443\u043d\u0434\u044b\n\n        assert cache.get(\"key\") is None\n</code></pre>"},{"location":"12_best_practices/#_24","title":"\ud83c\udfc6 \u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438","text":""},{"location":"12_best_practices/#1_1","title":"1. \ud83d\udcca \u041c\u0435\u0442\u0440\u0438\u043a\u0438 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430 \u0442\u0435\u0441\u0442\u043e\u0432","text":"<pre><code># \u0425\u043e\u0440\u043e\u0448\u0438\u0435 \u043c\u0435\u0442\u0440\u0438\u043a\u0438:\n# - \u041f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u043a\u043e\u0434\u0430: 80-90%\n# - \u0412\u0440\u0435\u043c\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f unit \u0442\u0435\u0441\u0442\u043e\u0432: &lt; 10ms \u043a\u0430\u0436\u0434\u044b\u0439\n# - \u0421\u043e\u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u043e\u0432: 70% unit, 20% integration, 10% e2e\n# - \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u043e\u043a\u043e\u0432 \u0432 \u0442\u0435\u0441\u0442\u0435: &lt; 3\n\ndef test_fast_unit_test():\n    \"\"\"\u0411\u044b\u0441\u0442\u0440\u044b\u0439 unit \u0442\u0435\u0441\u0442.\"\"\"\n    start = time.time()\n    result = calculate_discount(100, 10)\n    end = time.time()\n\n    assert result == 90\n    assert (end - start) &lt; 0.01  # \u041c\u0435\u043d\u0435\u0435 10ms\n</code></pre>"},{"location":"12_best_practices/#2_1","title":"2. \ud83d\udd04 \u0420\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433 \u0442\u0435\u0441\u0442\u043e\u0432","text":"<pre><code># \u0414\u043e \u0440\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433\u0430: \u0434\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\ndef test_valid_user_creation():\n    user_data = {\n        \"email\": \"test@example.com\",\n        \"name\": \"Test User\",\n        \"age\": 25\n    }\n    user = User(**user_data)\n    assert user.email == \"test@example.com\"\n\ndef test_user_with_invalid_email():\n    user_data = {\n        \"email\": \"invalid-email\",\n        \"name\": \"Test User\", \n        \"age\": 25\n    }\n    with pytest.raises(ValidationError):\n        User(**user_data)\n\n# \u041f\u043e\u0441\u043b\u0435 \u0440\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433\u0430: \u0438\u0437\u0432\u043b\u0435\u0447\u0435\u043d\u0438\u0435 \u0444\u0438\u043a\u0441\u0442\u0443\u0440\u044b\n@pytest.fixture\ndef valid_user_data():\n    return {\n        \"email\": \"test@example.com\",\n        \"name\": \"Test User\",\n        \"age\": 25\n    }\n\ndef test_valid_user_creation(valid_user_data):\n    user = User(**valid_user_data)\n    assert user.email == \"test@example.com\"\n\ndef test_user_with_invalid_email(valid_user_data):\n    valid_user_data[\"email\"] = \"invalid-email\"\n    with pytest.raises(ValidationError):\n        User(**valid_user_data)\n</code></pre>"},{"location":"12_best_practices/#3","title":"3. \ud83d\udcdd \u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u043e\u0432","text":"<pre><code>def test_bank_account_overdraft_protection():\n    \"\"\"\n    \u0422\u0435\u0441\u0442 \u0437\u0430\u0449\u0438\u0442\u044b \u043e\u0442 \u043e\u0432\u0435\u0440\u0434\u0440\u0430\u0444\u0442\u0430.\n\n    Given: \u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0441\u0447\u0435\u0442 \u0441 \u0431\u0430\u043b\u0430\u043d\u0441\u043e\u043c $100\n    When: \u041f\u043e\u043f\u044b\u0442\u043a\u0430 \u0441\u043d\u044f\u0442\u044c $150\n    Then: \u0412\u043e\u0437\u043d\u0438\u043a\u0430\u0435\u0442 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 InsufficientFundsError\n    And: \u0411\u0430\u043b\u0430\u043d\u0441 \u043e\u0441\u0442\u0430\u0435\u0442\u0441\u044f \u043d\u0435\u0438\u0437\u043c\u0435\u043d\u043d\u044b\u043c\n    \"\"\"\n    account = BankAccount(initial_balance=100)\n\n    with pytest.raises(InsufficientFundsError):\n        account.withdraw(150)\n\n    assert account.balance == 100\n</code></pre>"},{"location":"12_best_practices/#4_1","title":"4. \ud83c\udfaf \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0430\u043d\u0438\u0447\u043d\u044b\u0445 \u0443\u0441\u043b\u043e\u0432\u0438\u0439","text":"<pre><code>@pytest.mark.parametrize(\"value,expected\", [\n    # \u0413\u0440\u0430\u043d\u0438\u0447\u043d\u044b\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f\n    (0, \"zero\"),\n    (1, \"positive\"),\n    (-1, \"negative\"),\n\n    # \u041a\u0440\u0430\u0439\u043d\u0438\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\n    (sys.maxsize, \"positive\"),\n    (-sys.maxsize, \"negative\"),\n\n    # \u041e\u0441\u043e\u0431\u044b\u0435 \u0441\u043b\u0443\u0447\u0430\u0438\n    (float('inf'), \"infinite\"),\n    (float('nan'), \"not_a_number\"),\n])\ndef test_number_classification_edge_cases(value, expected):\n    \"\"\"\u0422\u0435\u0441\u0442 \u043a\u043b\u0430\u0441\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0447\u0438\u0441\u0435\u043b \u0434\u043b\u044f \u0433\u0440\u0430\u043d\u0438\u0447\u043d\u044b\u0445 \u0441\u043b\u0443\u0447\u0430\u0435\u0432.\"\"\"\n    result = classify_number(value)\n    assert result == expected\n</code></pre>"},{"location":"12_best_practices/#-","title":"\ud83c\udfaf \u0427\u0435\u043a-\u043b\u0438\u0441\u0442 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430","text":""},{"location":"12_best_practices/#_25","title":"\u2705 \u0425\u043e\u0440\u043e\u0448\u0438\u0439 \u0442\u0435\u0441\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c:","text":"<ul> <li>[ ] Fast - \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0431\u044b\u0441\u0442\u0440\u043e (&lt; 10ms \u0434\u043b\u044f unit \u0442\u0435\u0441\u0442\u043e\u0432)</li> <li>[ ] Independent - \u043d\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u0434\u0440\u0443\u0433\u0438\u0445 \u0442\u0435\u0441\u0442\u043e\u0432</li> <li>[ ] Repeatable - \u0434\u0430\u0435\u0442 \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043f\u0440\u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u044b\u0445 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0445</li> <li>[ ] Self-validating - \u0447\u0435\u0442\u043a\u043e \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 pass/fail</li> <li>[ ] Timely - \u043d\u0430\u043f\u0438\u0441\u0430\u043d \u0434\u043e \u0438\u043b\u0438 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0441 \u043a\u043e\u0434\u043e\u043c</li> </ul>"},{"location":"12_best_practices/#_26","title":"\u2705 \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0438:","text":"<ul> <li>[ ] \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u0442 \u043e\u0434\u043d\u0443 \u043a\u043e\u043d\u0446\u0435\u043f\u0446\u0438\u044e</li> <li>[ ] \u0418\u043c\u0435\u0435\u0442 \u043f\u043e\u043d\u044f\u0442\u043d\u043e\u0435 \u0438\u043c\u044f</li> <li>[ ] \u0421\u043b\u0435\u0434\u0443\u0435\u0442 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0435 AAA</li> <li>[ ] \u041d\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432</li> <li>[ ] \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043c\u043e\u043a\u043e\u0432</li> <li>[ ] \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u0442 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435, \u0430 \u043d\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e</li> </ul>"},{"location":"12_best_practices/#_27","title":"\ud83c\udfaf \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0448\u0430\u0433\u0438","text":"<p>\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0438 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u043c\u043e\u0433\u0443\u0442 \u0432\u0430\u043c \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c TDD \u0432 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u0445.</p>"},{"location":"12_best_practices/#_28","title":"\ud83e\uddea \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u0432\u043e\u0438 \u0437\u043d\u0430\u043d\u0438\u044f","text":""},{"location":"12_best_practices/#_29","title":"\ud83d\udd17 \u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0442\u0435\u043c\u044b","text":"<ul> <li>\u041e\u0441\u043d\u043e\u0432\u044b TDD - \u0444\u0443\u043d\u0434\u0430\u043c\u0435\u043d\u0442\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u044b</li> <li>\u0426\u0438\u043a\u043b Red-Green-Refactor - \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043b\u0443\u0447\u0448\u0438\u0445 \u043f\u0440\u0430\u043a\u0442\u0438\u043a</li> <li>\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b - \u043f\u0440\u0438\u043c\u0435\u0440\u044b \u0445\u043e\u0440\u043e\u0448\u0438\u0445 \u0438 \u043f\u043b\u043e\u0445\u0438\u0445 \u043f\u0440\u0430\u043a\u0442\u0438\u043a</li> <li>Mock \u043e\u0431\u044a\u0435\u043a\u0442\u044b - \u043b\u0443\u0447\u0448\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f</li> <li>\u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 \u0442\u0435\u0445\u043d\u0438\u043a\u0438 - \u043a\u043e\u0433\u0434\u0430 \u043d\u0430\u0440\u0443\u0448\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u0430</li> <li>\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0438 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0438 - \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0434\u043b\u044f \u0441\u043e\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u044f \u043f\u0440\u0430\u043a\u0442\u0438\u043a</li> <li>TDD \u0438 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 - \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438</li> </ul> <p>\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430: \u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0438 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0438</p> <p>\ud83c\udfc6 \u0417\u043d\u0430\u043d\u0438\u0435 \u043b\u0443\u0447\u0448\u0438\u0445 \u043f\u0440\u0430\u043a\u0442\u0438\u043a \u2014 \u043f\u0443\u0442\u044c \u043a \u043c\u0430\u0441\u0442\u0435\u0440\u0441\u0442\u0432\u0443 TDD!</p>"},{"location":"13_tools_frameworks/","title":"\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0438 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0438 \u0434\u043b\u044f TDD \u0432 Python","text":""},{"location":"13_tools_frameworks/#_1","title":"\ud83c\udfaf \u041e\u0431\u0437\u043e\u0440 \u044d\u043a\u043e\u0441\u0438\u0441\u0442\u0435\u043c\u044b","text":"<p>Python \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0431\u043e\u0433\u0430\u0442\u0443\u044e \u044d\u043a\u043e\u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0434\u043b\u044f \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0433\u043e \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f TDD. \u0412 \u044d\u0442\u043e\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b, \u0438\u0445 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0438 \u0441\u043f\u043e\u0441\u043e\u0431\u044b \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u0432 \u0440\u0430\u0431\u043e\u0447\u0438\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u0441.</p>"},{"location":"13_tools_frameworks/#_2","title":"\ud83e\uddea \u0424\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0438 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f","text":""},{"location":"13_tools_frameworks/#1-pytest-","title":"1. pytest - \u041a\u043e\u0440\u043e\u043b\u044c \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f","text":"<p>\u041f\u043e\u0447\u0435\u043c\u0443 pytest? - \u041f\u0440\u043e\u0441\u0442\u043e\u0439 \u0438 \u043f\u043e\u043d\u044f\u0442\u043d\u044b\u0439 \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441 - \u0411\u043e\u0433\u0430\u0442\u0430\u044f \u044d\u043a\u043e\u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u043f\u043b\u0430\u0433\u0438\u043d\u043e\u0432 - \u0410\u0432\u0442\u043e\u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u043e\u0432 - \u041c\u043e\u0449\u043d\u044b\u0435 fixtures - \u041e\u0442\u043b\u0438\u0447\u043d\u0430\u044f \u043e\u0442\u0447\u0435\u0442\u043d\u043e\u0441\u0442\u044c</p> <pre><code># \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430\nuv add pytest\n\n# \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u043b\u0430\u0433\u0438\u043d\u044b\nuv add pytest-cov pytest-mock pytest-xdist pytest-html\n</code></pre>"},{"location":"13_tools_frameworks/#_3","title":"\u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u0438:","text":"<pre><code># \u041f\u0440\u043e\u0441\u0442\u044b\u0435 assertions\ndef test_simple():\n    assert 2 + 2 == 4\n\n# Fixtures \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f\n@pytest.fixture\ndef user():\n    return User(\"test@example.com\")\n\n# \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u0442\u0435\u0441\u0442\u043e\u0432\n@pytest.mark.parametrize(\"input,expected\", [\n    (1, 2), (2, 3), (3, 4)\n])\ndef test_increment(input, expected):\n    assert increment(input) == expected\n</code></pre>"},{"location":"13_tools_frameworks/#2-unittest-","title":"2. unittest - \u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0430\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430","text":"<p>\u041a\u043e\u0433\u0434\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c: - \u041a\u043e\u0440\u043f\u043e\u0440\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u044b \u0441 \u0441\u0442\u0440\u043e\u0433\u0438\u043c\u0438 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f\u043c\u0438 - \u041c\u0438\u0433\u0440\u0430\u0446\u0438\u044f \u0441 Java/C# \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432 - \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0443\u044e \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443</p> <pre><code>import unittest\n\nclass TestCalculator(unittest.TestCase):\n    def setUp(self):\n        self.calc = Calculator()\n\n    def test_add(self):\n        result = self.calc.add(2, 3)\n        self.assertEqual(result, 5)\n\n    def test_divide_by_zero(self):\n        with self.assertRaises(ZeroDivisionError):\n            self.calc.divide(10, 0)\n\nif __name__ == '__main__':\n    unittest.main()\n</code></pre>"},{"location":"13_tools_frameworks/#3-doctest-","title":"3. doctest - \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438","text":"<p>\u041f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435: - \u041f\u0440\u043e\u0441\u0442\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 - \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u043f\u0440\u0438\u043c\u0435\u0440\u043e\u0432 \u043a\u043e\u0434\u0430 - \u0411\u044b\u0441\u0442\u0440\u044b\u0435 smoke \u0442\u0435\u0441\u0442\u044b</p> <pre><code>def add(a, b):\n    \"\"\"\n    \u0421\u043a\u043b\u0430\u0434\u044b\u0432\u0430\u0435\u0442 \u0434\u0432\u0430 \u0447\u0438\u0441\u043b\u0430.\n\n    &gt;&gt;&gt; add(2, 3)\n    5\n    &gt;&gt;&gt; add(-1, 1)\n    0\n    &gt;&gt;&gt; add(0, 0)\n    0\n    \"\"\"\n    return a + b\n\n# \u0417\u0430\u043f\u0443\u0441\u043a doctest\nif __name__ == \"__main__\":\n    import doctest\n    doctest.testmod()\n</code></pre>"},{"location":"13_tools_frameworks/#_4","title":"\ud83d\udcca \u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0430\u043d\u0430\u043b\u0438\u0437\u0430 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f","text":""},{"location":"13_tools_frameworks/#1-coveragepy-pytest-cov","title":"1. coverage.py + pytest-cov","text":"<pre><code>uv add pytest-cov\n</code></pre>"},{"location":"13_tools_frameworks/#_5","title":"\u0411\u0430\u0437\u043e\u0432\u043e\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435:","text":"<pre><code># \u0417\u0430\u043f\u0443\u0441\u043a \u0441 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0435\u043c\nuv run pytest --cov=src\n\n# HTML \u043e\u0442\u0447\u0435\u0442\nuv run pytest --cov=src --cov-report=html\n\n# \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f\nuv run pytest --cov=src --cov-fail-under=80\n\n# \u0418\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u043e\u0432\nuv run pytest --cov=src --cov-report=html --cov-config=.coveragerc\n</code></pre>"},{"location":"13_tools_frameworks/#coveragerc","title":"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f .coveragerc:","text":"<pre><code>[run]\nsource = src\nomit = \n    */tests/*\n    */venv/*\n    */migrations/*\n    */settings/*\n\n[report]\nexclude_lines =\n    pragma: no cover\n    def __repr__\n    raise AssertionError\n    raise NotImplementedError\n\n[html]\ndirectory = htmlcov\n</code></pre>"},{"location":"13_tools_frameworks/#2-diff-cover","title":"2. diff-cover \u0434\u043b\u044f \u0438\u043d\u043a\u0440\u0435\u043c\u0435\u043d\u0442\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f","text":"<pre><code>uv add diff-cover\n\n# \u041f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u043d\u044b\u0445 \u0441\u0442\u0440\u043e\u043a\nuv run diff-cover coverage.xml --compare-branch=main --fail-under=90\n</code></pre>"},{"location":"13_tools_frameworks/#_6","title":"\ud83c\udccf \u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f","text":""},{"location":"13_tools_frameworks/#1-unittestmock","title":"1. unittest.mock (\u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u0439)","text":"<pre><code>from unittest.mock import Mock, patch, MagicMock\n\ndef test_api_call():\n    with patch('requests.get') as mock_get:\n        mock_response = Mock()\n        mock_response.json.return_value = {'status': 'success'}\n        mock_response.status_code = 200\n        mock_get.return_value = mock_response\n\n        result = fetch_user_data('123')\n\n        assert result['status'] == 'success'\n        mock_get.assert_called_once_with('/api/users/123')\n</code></pre>"},{"location":"13_tools_frameworks/#2-pytest-mock","title":"2. pytest-mock","text":"<pre><code>uv add pytest-mock\n</code></pre> <pre><code>def test_with_pytest_mock(mocker):\n    # \u0411\u043e\u043b\u0435\u0435 \u0443\u0434\u043e\u0431\u043d\u044b\u0439 \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441\n    mock_db = mocker.patch('myapp.database.save')\n    mock_email = mocker.patch('myapp.email.send')\n\n    user_service = UserService()\n    user = user_service.create_user('test@example.com')\n\n    mock_db.assert_called_once()\n    mock_email.assert_called_once()\n</code></pre>"},{"location":"13_tools_frameworks/#3-responses-http","title":"3. responses \u0434\u043b\u044f HTTP \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f","text":"<pre><code>uv add responses\n</code></pre> <pre><code>import responses\nimport requests\n\n@responses.activate\ndef test_api_integration():\n    responses.add(\n        responses.GET,\n        'https://api.example.com/users/123',\n        json={'id': 123, 'name': 'John'},\n        status=200\n    )\n\n    result = fetch_user_from_api('123')\n\n    assert result['name'] == 'John'\n</code></pre>"},{"location":"13_tools_frameworks/#fixtures","title":"\ud83c\udfd7 Fixtures \u0438 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435","text":""},{"location":"13_tools_frameworks/#1-factory_boy","title":"1. factory_boy \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432","text":"<pre><code>uv add factory-boy\n</code></pre> <pre><code>import factory\nfrom myapp.models import User, Post\n\nclass UserFactory(factory.Factory):\n    class Meta:\n        model = User\n\n    email = factory.Sequence(lambda n: f\"user{n}@example.com\")\n    name = factory.Faker('name')\n    age = factory.Faker('pyint', min_value=18, max_value=80)\n\nclass PostFactory(factory.Factory):\n    class Meta:\n        model = Post\n\n    title = factory.Faker('sentence', nb_words=4)\n    content = factory.Faker('text')\n    author = factory.SubFactory(UserFactory)\n\n# \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u0442\u0435\u0441\u0442\u0430\u0445\ndef test_user_can_create_post():\n    user = UserFactory()\n    post = PostFactory(author=user)\n\n    assert post.author == user\n    assert len(post.title) &gt; 0\n</code></pre>"},{"location":"13_tools_frameworks/#2-faker","title":"2. Faker \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445","text":"<pre><code>uv add faker\n</code></pre> <pre><code>from faker import Faker\n\nfake = Faker(['en_US', 'ru_RU'])  # \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u043b\u043e\u043a\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438\n\n@pytest.fixture\ndef sample_user_data():\n    return {\n        'email': fake.email(),\n        'name': fake.name(),\n        'phone': fake.phone_number(),\n        'address': fake.address(),\n        'birth_date': fake.date_of_birth(minimum_age=18, maximum_age=80)\n    }\n\ndef test_user_creation(sample_user_data):\n    user = User(**sample_user_data)\n    assert user.email == sample_user_data['email']\n</code></pre>"},{"location":"13_tools_frameworks/#3-model_bakery-django","title":"3. model_bakery \u0434\u043b\u044f Django \u043c\u043e\u0434\u0435\u043b\u0435\u0439","text":"<pre><code>uv add model-bakery\n</code></pre> <pre><code>from model_bakery import baker\n\ndef test_django_model():\n    # \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432\n    user = baker.make('auth.User')\n    post = baker.make('blog.Post', author=user)\n\n    assert post.author == user\n    assert post.pk is not None\n</code></pre>"},{"location":"13_tools_frameworks/#_7","title":"\ud83d\ude80 \u041f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u043e\u0432","text":""},{"location":"13_tools_frameworks/#1-pytest-xdist","title":"1. pytest-xdist","text":"<pre><code>uv add pytest-xdist\n\n# \u0417\u0430\u043f\u0443\u0441\u043a \u0432 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0432\nuv run pytest -n 4\n\n# \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0432\u044b\u0431\u043e\u0440 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0432\nuv run pytest -n auto\n\n# \u0417\u0430\u043f\u0443\u0441\u043a \u043d\u0430 \u0440\u0430\u0437\u043d\u044b\u0445 \u043c\u0430\u0448\u0438\u043d\u0430\u0445\nuv run pytest -d --tx socket=192.168.1.10//python\n</code></pre>"},{"location":"13_tools_frameworks/#2-pytest-parallel","title":"2. pytest-parallel","text":"<pre><code>uv add pytest-parallel\n\n# \u041f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u043d\u0443\u0442\u0440\u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430\nuv run pytest --workers 4\n</code></pre>"},{"location":"13_tools_frameworks/#_8","title":"\ud83d\udcc8 \u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0430\u043d\u0430\u043b\u0438\u0437\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438","text":""},{"location":"13_tools_frameworks/#1-pytest-benchmark","title":"1. pytest-benchmark","text":"<pre><code>uv add pytest-benchmark\n</code></pre> <pre><code>def test_sorting_performance(benchmark):\n    data = list(range(1000, 0, -1))\n\n    result = benchmark(sorted, data)\n\n    assert result == list(range(1, 1001))\n\ndef test_custom_algorithm_performance(benchmark):\n    @benchmark\n    def run_algorithm():\n        return complex_algorithm(large_dataset)\n\n    result = run_algorithm\n    assert result is not None\n</code></pre>"},{"location":"13_tools_frameworks/#2-pytest-profiling","title":"2. pytest-profiling","text":"<pre><code>uv add pytest-profiling\n\n# \u041f\u0440\u043e\u0444\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u043e\u0432\nuv run pytest --profile\n</code></pre>"},{"location":"13_tools_frameworks/#3-memory_profiler","title":"3. memory_profiler","text":"<pre><code>uv add memory-profiler psutil\n</code></pre> <pre><code>from memory_profiler import profile\n\n@profile\ndef test_memory_usage():\n    large_list = [i for i in range(1000000)]\n    del large_list\n</code></pre>"},{"location":"13_tools_frameworks/#_9","title":"\ud83c\udfa8 \u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430 \u043a\u043e\u0434\u0430","text":""},{"location":"13_tools_frameworks/#1-black-","title":"1. Black - \u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u0434\u0430","text":"<pre><code>uv add black\n\n# \u0424\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\nuv run black src/ tests/\n\n# \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0431\u0435\u0437 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439\nuv run black --check src/ tests/\n</code></pre>"},{"location":"13_tools_frameworks/#2-isort-","title":"2. isort - \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u0438\u043c\u043f\u043e\u0440\u0442\u043e\u0432","text":"<pre><code>uv add isort\n\n# \u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u0438\u043c\u043f\u043e\u0440\u0442\u043e\u0432\nuv run isort src/ tests/\n\n# \u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0441 black\nuv run isort --profile black src/ tests/\n</code></pre>"},{"location":"13_tools_frameworks/#3-flake8-","title":"3. flake8 - \u043b\u0438\u043d\u0442\u0435\u0440","text":"<pre><code>uv add flake8\n\n# \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043a\u043e\u0434\u0430\nuv run flake8 src/ tests/\n</code></pre>"},{"location":"13_tools_frameworks/#4-mypy-","title":"4. mypy - \u0441\u0442\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0442\u0438\u043f\u0438\u0437\u0430\u0446\u0438\u044f","text":"<pre><code>uv add mypy\n\n# \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0442\u0438\u043f\u043e\u0432\nuv run mypy src/\n</code></pre>"},{"location":"13_tools_frameworks/#5-pre-commit-","title":"5. pre-commit - \u0445\u0443\u043a\u0438 \u043f\u0435\u0440\u0435\u0434 \u043a\u043e\u043c\u043c\u0438\u0442\u043e\u043c","text":"<pre><code>uv add pre-commit\n\n# \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0445\u0443\u043a\u043e\u0432\nuv run pre-commit install\n</code></pre> <pre><code># .pre-commit-config.yaml\nrepos:\n  - repo: https://github.com/psf/black\n    rev: 23.12.1\n    hooks:\n      - id: black\n\n  - repo: https://github.com/pycqa/isort\n    rev: 5.13.2\n    hooks:\n      - id: isort\n\n  - repo: https://github.com/pycqa/flake8\n    rev: 7.0.0\n    hooks:\n      - id: flake8\n\n  - repo: local\n    hooks:\n      - id: tests\n        name: tests\n        entry: uv run pytest\n        language: system\n        pass_filenames: false\n        always_run: true\n</code></pre>"},{"location":"13_tools_frameworks/#-","title":"\ud83c\udf10 \u0412\u0435\u0431-\u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","text":""},{"location":"13_tools_frameworks/#1-selenium-e2e","title":"1. Selenium \u0434\u043b\u044f E2E \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f","text":"<pre><code>uv add selenium webdriver-manager\n</code></pre> <pre><code>from selenium import webdriver\nfrom selenium.webdriver.common.by import By\nfrom webdriver_manager.chrome import ChromeDriverManager\n\n@pytest.fixture\ndef driver():\n    options = webdriver.ChromeOptions()\n    options.add_argument('--headless')\n\n    driver = webdriver.Chrome(\n        ChromeDriverManager().install(),\n        options=options\n    )\n    yield driver\n    driver.quit()\n\ndef test_login_flow(driver):\n    driver.get(\"http://localhost:8000/login\")\n\n    email_input = driver.find_element(By.NAME, \"email\")\n    password_input = driver.find_element(By.NAME, \"password\")\n\n    email_input.send_keys(\"test@example.com\")\n    password_input.send_keys(\"password\")\n\n    submit_button = driver.find_element(By.XPATH, \"//button[@type='submit']\")\n    submit_button.click()\n\n    assert \"Dashboard\" in driver.title\n</code></pre>"},{"location":"13_tools_frameworks/#2-playwright","title":"2. Playwright (\u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u0430)","text":"<pre><code>uv add playwright pytest-playwright\n\n# \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043e\u0432\nuv run playwright install\n</code></pre> <pre><code>def test_login_with_playwright(page):\n    page.goto(\"http://localhost:8000/login\")\n\n    page.fill(\"input[name='email']\", \"test@example.com\")\n    page.fill(\"input[name='password']\", \"password\")\n    page.click(\"button[type='submit']\")\n\n    expect(page).to_have_title(\"Dashboard\")\n</code></pre>"},{"location":"13_tools_frameworks/#3-requests-api","title":"3. requests \u0434\u043b\u044f API \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f","text":"<pre><code>import requests\n\n@pytest.fixture\ndef api_client():\n    return requests.Session()\n\ndef test_user_api(api_client):\n    # \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\n    response = api_client.post('/api/users', json={\n        'email': 'test@example.com',\n        'name': 'Test User'\n    })\n\n    assert response.status_code == 201\n    user_data = response.json()\n\n    # \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\n    response = api_client.get(f'/api/users/{user_data[\"id\"]}')\n    assert response.status_code == 200\n    assert response.json()['email'] == 'test@example.com'\n</code></pre>"},{"location":"13_tools_frameworks/#_10","title":"\ud83d\uddc4 \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u0437 \u0434\u0430\u043d\u043d\u044b\u0445","text":""},{"location":"13_tools_frameworks/#1-pytest-postgresql","title":"1. pytest-postgresql","text":"<pre><code>uv add pytest-postgresql\n</code></pre> <pre><code>import pytest\nfrom pytest_postgresql import factories\n\npostgresql_proc = factories.postgresql_proc(\n    port=None, unixsocketdir='/tmp'\n)\npostgresql = factories.postgresql('postgresql_proc')\n\ndef test_database_operations(postgresql):\n    cursor = postgresql.cursor()\n    cursor.execute(\"CREATE TABLE test (id serial PRIMARY KEY, name text)\")\n    cursor.execute(\"INSERT INTO test (name) VALUES ('test_name')\")\n\n    cursor.execute(\"SELECT name FROM test WHERE id = 1\")\n    result = cursor.fetchone()\n\n    assert result[0] == 'test_name'\n</code></pre>"},{"location":"13_tools_frameworks/#2-sqlalchemy","title":"2. SQLAlchemy \u0441 \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0439 \u0411\u0414","text":"<pre><code>import pytest\nfrom sqlalchemy import create_engine\nfrom sqlalchemy.orm import sessionmaker\n\n@pytest.fixture(scope=\"session\")\ndef engine():\n    return create_engine(\"sqlite:///:memory:\")\n\n@pytest.fixture\ndef db_session(engine):\n    Base.metadata.create_all(engine)\n\n    Session = sessionmaker(bind=engine)\n    session = Session()\n\n    yield session\n\n    session.close()\n    Base.metadata.drop_all(engine)\n\ndef test_user_repository(db_session):\n    repo = UserRepository(db_session)\n\n    user = User(email=\"test@example.com\", name=\"Test\")\n    saved_user = repo.save(user)\n\n    assert saved_user.id is not None\n\n    found_user = repo.find_by_email(\"test@example.com\")\n    assert found_user.name == \"Test\"\n</code></pre>"},{"location":"13_tools_frameworks/#cicd","title":"\ud83d\udd27 CI/CD \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f","text":""},{"location":"13_tools_frameworks/#1-github-actions","title":"1. GitHub Actions","text":"<pre><code># .github/workflows/test.yml\nname: Tests\n\non: [push, pull_request]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n    strategy:\n      matrix:\n        python-version: [3.8, 3.9, 3.10, 3.11, 3.12]\n\n    steps:\n    - uses: actions/checkout@v3\n\n    - name: Install uv\n      uses: astral-sh/setup-uv@v1\n\n    - name: Set up Python $3.12\n      run: uv python install $3.12\n\n    - name: Install dependencies\n      run: uv sync\n\n    - name: Run tests\n      run: |\n        uv run pytest --cov=src --cov-report=xml\n\n    - name: Upload coverage to Codecov\n      uses: codecov/codecov-action@v3\n      with:\n        file: ./coverage.xml\n</code></pre>"},{"location":"13_tools_frameworks/#2-gitlab-ci","title":"2. GitLab CI","text":"<pre><code># .gitlab-ci.yml\nimage: python:3.11\n\nstages:\n  - test\n  - quality\n\nvariables:\n  PIP_CACHE_DIR: \"$CI_PROJECT_DIR/.cache/pip\"\n\ncache:\n  paths:\n    - .cache/pip\n    - .venv/\n\nbefore_script:\n  - curl -LsSf https://astral.sh/uv/install.sh | sh\n  - export PATH=\"$HOME/.cargo/bin:$PATH\"\n  - uv sync\n\ntest:\n  stage: test\n  script:\n    - uv run pytest --cov=src --cov-report=xml --cov-report=html\n  artifacts:\n    reports:\n      coverage_report:\n        coverage_format: cobertura\n        path: coverage.xml\n    paths:\n      - htmlcov/\n\nquality:\n  stage: quality\n  script:\n    - uv run black --check src/ tests/\n    - uv run isort --check-only src/ tests/\n    - uv run flake8 src/ tests/\n    - uv run mypy src/\n</code></pre>"},{"location":"13_tools_frameworks/#_11","title":"\ud83d\udcca \u041e\u0442\u0447\u0435\u0442\u043d\u043e\u0441\u0442\u044c \u0438 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433","text":""},{"location":"13_tools_frameworks/#1-pytest-html-html","title":"1. pytest-html \u0434\u043b\u044f HTML \u043e\u0442\u0447\u0435\u0442\u043e\u0432","text":"<pre><code>uv add pytest-html\n\n# \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f HTML \u043e\u0442\u0447\u0435\u0442\u0430\nuv run pytest --html=report.html --self-contained-html\n</code></pre>"},{"location":"13_tools_frameworks/#2-allure","title":"2. allure \u0434\u043b\u044f \u043a\u0440\u0430\u0441\u0438\u0432\u044b\u0445 \u043e\u0442\u0447\u0435\u0442\u043e\u0432","text":"<pre><code>uv add allure-pytest\n\n# \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f allure\nuv run pytest --alluredir=allure-results\n\n# \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043e\u0442\u0447\u0435\u0442\u0430\nallure serve allure-results\n</code></pre> <pre><code>import allure\n\n@allure.feature(\"User Management\")\n@allure.story(\"User Registration\")\ndef test_user_registration():\n    with allure.step(\"Create user data\"):\n        user_data = {\"email\": \"test@example.com\", \"name\": \"Test\"}\n\n    with allure.step(\"Register user\"):\n        user = register_user(user_data)\n\n    with allure.step(\"Verify user is created\"):\n        assert user.id is not None\n        assert user.email == user_data[\"email\"]\n</code></pre>"},{"location":"13_tools_frameworks/#_12","title":"\ud83c\udfaf \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u044b\u0439 \u0441\u0442\u0435\u043a \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432","text":""},{"location":"13_tools_frameworks/#_13","title":"\u0414\u043b\u044f \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u0438\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432:","text":"<pre><code>uv add pytest pytest-cov black isort\n</code></pre>"},{"location":"13_tools_frameworks/#_14","title":"\u0414\u043b\u044f \u0441\u0440\u0435\u0434\u043d\u0438\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432:","text":"<pre><code>uv add pytest pytest-cov pytest-mock pytest-xdist\nuv add black isort flake8 mypy\nuv add factory-boy faker\n</code></pre>"},{"location":"13_tools_frameworks/#_15","title":"\u0414\u043b\u044f \u043a\u0440\u0443\u043f\u043d\u044b\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432:","text":"<pre><code># \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\nuv add pytest pytest-cov pytest-mock pytest-xdist pytest-html\nuv add factory-boy faker responses\n\n# \u041a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u043e\u0434\u0430  \nuv add black isort flake8 mypy pre-commit\n\n# \u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c\nuv add pytest-benchmark pytest-profiling\n\n# \u0412\u0435\u0431-\u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\nuv add selenium playwright pytest-playwright\n\n# \u041e\u0442\u0447\u0435\u0442\u043d\u043e\u0441\u0442\u044c\nuv add allure-pytest\n</code></pre>"},{"location":"13_tools_frameworks/#_16","title":"\ud83c\udfaf \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0448\u0430\u0433\u0438","text":"<p>\u0412 \u0437\u0430\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u043f\u043e\u0434\u0432\u0435\u0434\u0435\u043c \u0438\u0442\u043e\u0433\u0438 \u043a\u0443\u0440\u0441\u0430 \u0438 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u0438\u043c \u0440\u0435\u0441\u0443\u0440\u0441\u044b \u0434\u043b\u044f \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0435\u0433\u043e \u0438\u0437\u0443\u0447\u0435\u043d\u0438\u044f TDD.</p>"},{"location":"13_tools_frameworks/#_17","title":"\ud83e\uddea \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u0432\u043e\u0438 \u0437\u043d\u0430\u043d\u0438\u044f","text":""},{"location":"13_tools_frameworks/#_18","title":"\ud83d\udd17 \u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0442\u0435\u043c\u044b","text":"<ul> <li>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f - \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432</li> <li>Pytest \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a - \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f</li> <li>\u041b\u0443\u0447\u0448\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438 - \u043a\u0430\u043a \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b</li> <li>CI/CD \u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u044f - \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u044f \u0441 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0430\u043c\u0438</li> <li>\u041c\u0435\u0442\u0440\u0438\u043a\u0438 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f \u043a\u043e\u0434\u0430 - \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0434\u043b\u044f \u043c\u0435\u0442\u0440\u0438\u043a</li> <li>\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438 \u0440\u0430\u0431\u043e\u0442\u044b \u0441 Legacy Code - \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0434\u043b\u044f legacy \u043a\u043e\u0434\u0430</li> </ul> <p>\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430: CI/CD \u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u044f</p> <p>\ud83d\udd27 \u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0438\u0437\u0443\u0447\u0435\u043d\u044b \u2014 \u0432\u0440\u0435\u043c\u044f \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c \u0438\u0445 \u0432 \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u0445!</p>"},{"location":"14_ci_cd_automation/","title":"CI/CD \u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432 TDD","text":""},{"location":"14_ci_cd_automation/#_1","title":"\ud83c\udfaf \u0426\u0435\u043b\u0438 \u0433\u043b\u0430\u0432\u044b","text":"<p>\u0412 \u044d\u0442\u043e\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044e TDD \u0441 \u0441\u0438\u0441\u0442\u0435\u043c\u0430\u043c\u0438 \u043d\u0435\u043f\u0440\u0435\u0440\u044b\u0432\u043d\u043e\u0439 \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u0438 \u043d\u0435\u043f\u0440\u0435\u0440\u044b\u0432\u043d\u043e\u0433\u043e \u0440\u0430\u0437\u0432\u0435\u0440\u0442\u044b\u0432\u0430\u043d\u0438\u044f (CI/CD). \u0412\u044b \u0443\u0437\u043d\u0430\u0435\u0442\u0435:</p> <ul> <li>\u041a\u0430\u043a \u0438\u043d\u0442\u0435\u0433\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 CI/CD \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d\u044b</li> <li>\u041b\u0443\u0447\u0448\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u0438 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f</li> <li>\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0434\u043b\u044f CI/CD \u0432 Python \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u0445</li> <li>\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438 \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0442\u0435\u0441\u0442\u043e\u0432</li> <li>\u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u0438 \u043e\u0442\u0447\u0435\u0442\u043d\u043e\u0441\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f</li> </ul>"},{"location":"14_ci_cd_automation/#ci","title":"\ud83d\udd04 \u041d\u0435\u043f\u0440\u0435\u0440\u044b\u0432\u043d\u0430\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f (CI)","text":""},{"location":"14_ci_cd_automation/#ci_1","title":"\u0427\u0442\u043e \u0442\u0430\u043a\u043e\u0435 CI?","text":"<p>Continuous Integration (CI) \u2014 \u044d\u0442\u043e \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430, \u043f\u0440\u0438 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0438 \u0440\u0435\u0433\u0443\u043b\u044f\u0440\u043d\u043e \u0438\u043d\u0442\u0435\u0433\u0440\u0438\u0440\u0443\u044e\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u043e\u0431\u0449\u0438\u0439 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439, \u0438 \u043a\u0430\u0436\u0434\u0430\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442\u0441\u044f \u0441\u0431\u043e\u0440\u043a\u043e\u0439 \u0438 \u0442\u0435\u0441\u0442\u0430\u043c\u0438.</p>"},{"location":"14_ci_cd_automation/#ci-tdd","title":"\u041f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430 CI \u0432 TDD","text":"<pre><code>graph TD\n    A[\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a] --&gt; B[\u041a\u043e\u043c\u043c\u0438\u0442 \u0432 Git]\n    B --&gt; C[\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0437\u0430\u043f\u0443\u0441\u043a CI]\n    C --&gt; D[\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439]\n    D --&gt; E[\u0417\u0430\u043f\u0443\u0441\u043a \u0442\u0435\u0441\u0442\u043e\u0432]\n    E --&gt; F[\u0410\u043d\u0430\u043b\u0438\u0437 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f]\n    F --&gt; G[\u0421\u0442\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u043d\u0430\u043b\u0438\u0437]\n    G --&gt; H[\u041e\u0442\u0447\u0435\u0442 \u043e \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435]</code></pre>"},{"location":"14_ci_cd_automation/#github-actions-python","title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 GitHub Actions \u0434\u043b\u044f Python \u043f\u0440\u043e\u0435\u043a\u0442\u0430","text":"<p>\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0444\u0430\u0439\u043b <code>.github/workflows/ci.yml</code>:</p> <pre><code>name: CI\n\non:\n  push:\n    branches: [ main, develop ]\n  pull_request:\n    branches: [ main ]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n    strategy:\n      matrix:\n        python-version: [\"3.12\", \"3.13\"]\n\n    steps:\n    - uses: actions/checkout@v4\n\n    - name: Set up Python $3.12\n      uses: actions/setup-python@v4\n      with:\n        python-version: $3.12\n\n    - name: Install uv\n      run: curl -LsSf https://astral.sh/uv/install.sh | sh\n\n    - name: Install dependencies\n      run: uv sync\n\n    - name: Run tests\n      run: uv run pytest --cov=src --cov-report=xml\n\n    - name: Upload coverage reports\n      uses: codecov/codecov-action@v3\n      with:\n        file: ./coverage.xml\n        flags: unittests\n        name: codecov-umbrella\n        fail_ci_if_error: true\n</code></pre>"},{"location":"14_ci_cd_automation/#cd","title":"\ud83d\ude80 \u041d\u0435\u043f\u0440\u0435\u0440\u044b\u0432\u043d\u043e\u0435 \u0440\u0430\u0437\u0432\u0435\u0440\u0442\u044b\u0432\u0430\u043d\u0438\u0435 (CD)","text":""},{"location":"14_ci_cd_automation/#_2","title":"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438 \u0440\u0430\u0437\u0432\u0435\u0440\u0442\u044b\u0432\u0430\u043d\u0438\u044f","text":""},{"location":"14_ci_cd_automation/#1-automatic-deployment","title":"1. \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0440\u0430\u0437\u0432\u0435\u0440\u0442\u044b\u0432\u0430\u043d\u0438\u0435 (Automatic Deployment)","text":"<pre><code># \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u0435 ci.yml\n  deploy:\n    needs: test\n    runs-on: ubuntu-latest\n    if: github.ref == 'refs/heads/main'\n\n    steps:\n    - name: Deploy to production\n      run: |\n        echo \"Deploying to production...\"\n        # \u0412\u0430\u0448\u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0440\u0430\u0437\u0432\u0435\u0440\u0442\u044b\u0432\u0430\u043d\u0438\u044f\n</code></pre>"},{"location":"14_ci_cd_automation/#2-manual-approval","title":"2. \u0420\u0443\u0447\u043d\u043e\u0435 \u043e\u0434\u043e\u0431\u0440\u0435\u043d\u0438\u0435 (Manual Approval)","text":"<pre><code># staging-deployment.yml\nname: Deploy to Staging\n\non:\n  workflow_dispatch:\n    inputs:\n      environment:\n        description: 'Target environment'\n        required: true\n        default: 'staging'\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n\n    environment: $production\n\n    steps:\n    - name: Manual approval required\n      run: echo \"Waiting for manual approval...\"\n\n    - name: Deploy\n      run: echo \"Deploying to $production\"\n</code></pre>"},{"location":"14_ci_cd_automation/#cicd","title":"\ud83e\uddea \u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432 CI/CD","text":""},{"location":"14_ci_cd_automation/#_3","title":"\u041f\u0438\u0440\u0430\u043c\u0438\u0434\u0430 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f","text":"<pre><code>graph TD\n    A[End-to-End Tests] --&gt; B[Integration Tests]\n    B --&gt; C[Unit Tests]\n    C --&gt; D[1000+ \u0442\u0435\u0441\u0442\u043e\u0432]\n    E[\u041c\u0438\u043d\u0443\u0442\u044b] --&gt; F[\u0421\u0435\u043a\u0443\u043d\u0434\u044b]\n    G[\u0427\u0430\u0441\u044b] --&gt; H[\u041c\u0438\u043d\u0443\u0442\u044b]</code></pre>"},{"location":"14_ci_cd_automation/#_4","title":"\u041f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u043e\u0432","text":""},{"location":"14_ci_cd_automation/#pytest-xdist","title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 pytest-xdist","text":"<pre><code># pytest.ini\n[tool:pytest]\ntestpaths = tests\npython_files = test_*.py\npython_classes = Test*\npython_functions = test_*\naddopts =\n    --strict-markers\n    --strict-config\n    --cov=src\n    --cov-report=term-missing\n    --cov-report=xml\n    -n auto  # \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0432\n</code></pre>"},{"location":"14_ci_cd_automation/#_5","title":"\u0420\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u043e\u0432 \u043f\u043e \u0442\u0438\u043f\u0430\u043c","text":"<pre><code># tests/conftest.py\ndef pytest_collection_modifyitems(config, items):\n    \"\"\"\u0420\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u043e\u0432 \u043d\u0430 \u0433\u0440\u0443\u043f\u043f\u044b \u0434\u043b\u044f \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f.\"\"\"\n\n    for item in items:\n        # \u0411\u044b\u0441\u0442\u0440\u044b\u0435 unit \u0442\u0435\u0441\u0442\u044b\n        if \"unit\" in item.nodeid:\n            item.add_marker(pytest.mark.unit)\n\n        # \u041c\u0435\u0434\u043b\u0435\u043d\u043d\u044b\u0435 \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b\n        elif \"integration\" in item.nodeid:\n            item.add_marker(pytest.mark.integration)\n\n        # E2E \u0442\u0435\u0441\u0442\u044b\n        elif \"e2e\" in item.nodeid:\n            item.add_marker(pytest.mark.e2e)\n</code></pre>"},{"location":"14_ci_cd_automation/#_6","title":"\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f","text":""},{"location":"14_ci_cd_automation/#_7","title":"\u041b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","text":"<pre><code># \u0411\u044b\u0441\u0442\u0440\u044b\u0435 \u0442\u0435\u0441\u0442\u044b \u0434\u043b\u044f \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438\nuv run pytest tests/unit/ -v\n\n# \u041f\u043e\u043b\u043d\u044b\u0439 \u043d\u0430\u0431\u043e\u0440 \u0442\u0435\u0441\u0442\u043e\u0432\nuv run pytest\n\n# \u0421 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0435\u043c\nuv run pytest --cov=src --cov-report=html\n</code></pre>"},{"location":"14_ci_cd_automation/#_8","title":"\u0421\u0442\u0430\u0434\u0438\u0439\u043d\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","text":"<pre><code># .github/workflows/staging.yml\nname: Staging Tests\n\non:\n  push:\n    branches: [ staging ]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n\n    services:\n      postgres:\n        image: postgres:15\n        env:\n          POSTGRES_PASSWORD: postgres\n        options: &gt;-\n          --health-cmd pg_isready\n          --health-interval 10s\n          --health-timeout 5s\n          --health-retries 5\n\n    steps:\n    - uses: actions/checkout@v4\n\n    - name: Test with database\n      run: |\n        uv sync\n        uv run pytest tests/integration/\n      env:\n        DATABASE_URL: postgresql://postgres:postgres@localhost:5432/test\n</code></pre>"},{"location":"14_ci_cd_automation/#_9","title":"\ud83d\udcca \u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u0438 \u043e\u0442\u0447\u0435\u0442\u043d\u043e\u0441\u0442\u044c","text":""},{"location":"14_ci_cd_automation/#_10","title":"\u041e\u0442\u0447\u0435\u0442\u044b \u043e \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0438 \u043a\u043e\u0434\u0430","text":""},{"location":"14_ci_cd_automation/#codecov","title":"Codecov \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f","text":"<pre><code># codecov.yml\ncoverage:\n  status:\n    project:\n      default:\n        target: 80%\n        threshold: 1%\n    patch:\n      default:\n        target: 80%\n      branches: null\n\ncomment:\n  layout: \"reach,diff,flags,tree\"\n  behavior: default\n  require_changes: false\n</code></pre>"},{"location":"14_ci_cd_automation/#_11","title":"\u041b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u043e\u0442\u0447\u0435\u0442\u044b","text":"<pre><code># HTML \u043e\u0442\u0447\u0435\u0442 \u043e \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0438\nuv run pytest --cov=src --cov-report=html\nopen htmlcov/index.html\n\n# \u0422\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0447\u0435\u0442\nuv run pytest --cov=src --cov-report=term-missing\n</code></pre>"},{"location":"14_ci_cd_automation/#_12","title":"\u041a\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043c\u0435\u0442\u0440\u0438\u043a\u0438","text":""},{"location":"14_ci_cd_automation/#_13","title":"\u0421\u0442\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u043d\u0430\u043b\u0438\u0437","text":"<pre><code># .github/workflows/quality.yml\nname: Code Quality\n\non: [push, pull_request]\n\njobs:\n  quality:\n    runs-on: ubuntu-latest\n\n    steps:\n    - uses: actions/checkout@v4\n\n    - name: Set up Python\n      uses: actions/setup-python@v4\n      with:\n        python-version: \"3.12\"\n\n    - name: Install uv\n      run: curl -LsSf https://astral.sh/uv/install.sh | sh\n\n    - name: Install dependencies\n      run: uv sync\n\n    - name: Run ruff (linting)\n      run: uv run ruff check src/\n\n    - name: Run mypy (type checking)\n      run: uv run mypy src/\n\n    - name: Run bandit (security)\n      run: uv run bandit -r src/\n</code></pre>"},{"location":"14_ci_cd_automation/#_14","title":"\u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438","text":""},{"location":"14_ci_cd_automation/#_15","title":"\u0422\u0435\u0441\u0442\u044b \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438","text":"<pre><code># tests/performance/test_performance.py\nimport pytest\nimport time\nfrom src.calculator import Calculator\n\n@pytest.mark.benchmark\ndef test_calculator_speed(benchmark):\n    \"\"\"\u0422\u0435\u0441\u0442 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u043a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440\u0430.\"\"\"\n\n    calc = Calculator()\n\n    def operation():\n        return calc.add(1000, 2000)\n\n    # \u0418\u0437\u043c\u0435\u0440\u044f\u0435\u043c \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f\n    result = benchmark(operation)\n    assert result == 3000\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c, \u0447\u0442\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0431\u044b\u0441\u0442\u0440\u043e\n    assert benchmark.stats.mean &lt; 0.001  # \u041c\u0435\u043d\u0435\u0435 1\u043c\u0441\n</code></pre>"},{"location":"14_ci_cd_automation/#cicd_1","title":"\ud83d\udee0 \u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b CI/CD","text":""},{"location":"14_ci_cd_automation/#_16","title":"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u044b","text":"\u041f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430 \u041f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430 \u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043a\u0438 GitHub Actions \u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e, \u0438\u043d\u0442\u0435\u0433\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u043f\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 GitLab CI \u041f\u043e\u043b\u043d\u044b\u0439 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u0421\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 Jenkins \u0413\u0438\u0431\u043a\u043e\u0441\u0442\u044c, \u043f\u043b\u0430\u0433\u0438\u043d\u044b \u0422\u0440\u0435\u0431\u0443\u0435\u0442 \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u044f CircleCI \u041f\u0440\u043e\u0441\u0442\u043e\u0442\u0430, \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u041f\u043b\u0430\u0442\u043d\u044b\u0435 \u043c\u0438\u043d\u0443\u0442\u044b"},{"location":"14_ci_cd_automation/#_17","title":"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u0440\u0430\u0437\u043d\u044b\u0445 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c","text":""},{"location":"14_ci_cd_automation/#gitlab-ci-gitlab-ciyml","title":"GitLab CI (.gitlab-ci.yml)","text":"<pre><code>stages:\n  - test\n  - deploy\n\ntest:\n  stage: test\n  image: python:3.12\n  before_script:\n    - curl -LsSf https://astral.sh/uv/install.sh | sh\n    - uv sync\n  script:\n    - uv run pytest --cov=src\n  coverage: '/TOTAL.*\\s+(\\d+%)$/'\n\ndeploy:\n  stage: deploy\n  script:\n    - echo \"Deploy to production\"\n  only:\n    - main\n</code></pre>"},{"location":"14_ci_cd_automation/#jenkins-jenkinsfile","title":"Jenkins (Jenkinsfile)","text":"<pre><code>pipeline {\n    agent any\n\n    stages {\n        stage('Test') {\n            steps {\n                sh '''\n                    curl -LsSf https://astral.sh/uv/install.sh | sh\n                    uv sync\n                    uv run pytest --cov=src --junitxml=results.xml\n                '''\n            }\n            post {\n                always {\n                    junit 'results.xml'\n                }\n            }\n        }\n\n        stage('Deploy') {\n            when {\n                branch 'main'\n            }\n            steps {\n                sh 'echo \"Deploying...\"'\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"14_ci_cd_automation/#_18","title":"\ud83d\udcc8 \u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438","text":""},{"location":"14_ci_cd_automation/#feature-flags","title":"Feature Flags","text":"<pre><code># src/features.py\nimport os\n\nclass FeatureFlags:\n    @property\n    def enable_new_feature(self) -&gt; bool:\n        return os.getenv(\"ENABLE_NEW_FEATURE\", \"false\").lower() == \"true\"\n\n# tests/test_features.py\ndef test_new_feature_enabled(feature_flags):\n    feature_flags.enable_new_feature = True\n    # \u0422\u0435\u0441\u0442 \u043d\u043e\u0432\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438\n\ndef test_new_feature_disabled(feature_flags):\n    feature_flags.enable_new_feature = False\n    # \u0422\u0435\u0441\u0442 \u0441\u0442\u0430\u0440\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438\n</code></pre>"},{"location":"14_ci_cd_automation/#blue-green-deployment","title":"Blue-Green Deployment","text":"<pre><code># blue-green-deployment.yml\nname: Blue-Green Deployment\n\non:\n  workflow_dispatch:\n    inputs:\n      traffic_percentage:\n        description: 'Percentage of traffic to new version'\n        required: true\n        default: '10'\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n\n    steps:\n    - name: Deploy blue version\n      run: |\n        echo \"Deploying to blue environment...\"\n\n    - name: Run smoke tests\n      run: |\n        echo \"Running smoke tests on blue...\"\n\n    - name: Gradual traffic shift\n      run: |\n        echo \"Shifting ${{ no such element: super_collections.SuperDict object['traffic_percentage'] }}% traffic to blue...\"\n\n    - name: Full deployment\n      if: github.event.inputs.traffic_percentage == '100'\n      run: |\n        echo \"Full deployment to blue, shutting down green...\"\n</code></pre>"},{"location":"14_ci_cd_automation/#_19","title":"\ud83c\udfaf \u041b\u0443\u0447\u0448\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438","text":""},{"location":"14_ci_cd_automation/#1-fail-fast","title":"1. Fail Fast \u043f\u0440\u0438\u043d\u0446\u0438\u043f","text":"<pre><code># \u0411\u044b\u0441\u0442\u0440\u0430\u044f \u043e\u0442\u0431\u0440\u0430\u043a\u043e\u0432\u043a\u0430\njobs:\n  quick-checks:\n    runs-on: ubuntu-latest\n    steps:\n    - name: Quick syntax check\n      run: python -m py_compile src/\n    - name: Quick import check\n      run: python -c \"import src\"\n</code></pre>"},{"location":"14_ci_cd_automation/#2","title":"2. \u041a\u044d\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439","text":"<pre><code>steps:\n- uses: actions/cache@v3\n  with:\n    path: ~/.cache/uv\n    key: $ubuntu-latest-uv-$abc123def456\n    restore-keys: |\n      $ubuntu-latest-uv-\n</code></pre>"},{"location":"14_ci_cd_automation/#3","title":"3. \u041c\u0430\u0442\u0440\u0438\u0447\u043d\u044b\u0435 \u0441\u0431\u043e\u0440\u043a\u0438","text":"<pre><code>strategy:\n  matrix:\n    os: [ubuntu-latest, windows-latest, macos-latest]\n    python-version: [\"3.11\", \"3.12\", \"3.13\"]\n    exclude:\n      # \u0418\u0441\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043a\u043e\u043c\u0431\u0438\u043d\u0430\u0446\u0438\u0438\n      - os: macos-latest\n        python-version: \"3.11\"\n</code></pre>"},{"location":"14_ci_cd_automation/#4","title":"4. \u0423\u0441\u043b\u043e\u0432\u043d\u044b\u0435 \u0440\u0430\u0437\u0432\u0435\u0440\u0442\u044b\u0432\u0430\u043d\u0438\u044f","text":"<pre><code>deploy:\n  if: |\n    github.ref == 'refs/heads/main' &amp;&amp;\n    contains(github.event.head_commit.modified, 'src/')\n</code></pre>"},{"location":"14_ci_cd_automation/#_20","title":"\ud83d\udea8 \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043e\u0448\u0438\u0431\u043e\u043a \u0438 \u043e\u0442\u043a\u0430\u0442\u044b","text":""},{"location":"14_ci_cd_automation/#_21","title":"\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043e\u0442\u043a\u0430\u0442\u044b","text":"<pre><code>jobs:\n  rollback:\n    if: failure() &amp;&amp; github.ref == 'refs/heads/main'\n    runs-on: ubuntu-latest\n    steps:\n    - name: Rollback deployment\n      run: |\n        echo \"Rolling back to previous version...\"\n</code></pre>"},{"location":"14_ci_cd_automation/#_22","title":"\u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u044f","text":"<pre><code># health_check.py\nimport requests\nimport time\n\ndef wait_for_service(url: str, timeout: int = 300) -&gt; bool:\n    \"\"\"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u0441\u0435\u0440\u0432\u0438\u0441\u0430.\"\"\"\n    start_time = time.time()\n\n    while time.time() - start_time &lt; timeout:\n        try:\n            response = requests.get(url)\n            if response.status_code == 200:\n                return True\n        except requests.RequestException:\n            pass\n\n        time.sleep(10)\n\n    return False\n</code></pre> <p>\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430: \u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0438 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0438 \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430: \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043e\u0448\u0438\u0431\u043e\u043a</p>"},{"location":"14_ci_cd_automation/#_23","title":"\ud83c\udf93 \u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f","text":""},{"location":"14_ci_cd_automation/#1-ci","title":"\u0423\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0435 1: \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 CI \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u0442\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430","text":"<p>\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 CI \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d \u0434\u043b\u044f \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0441: - \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u043c \u0437\u0430\u043f\u0443\u0441\u043a\u043e\u043c \u0442\u0435\u0441\u0442\u043e\u0432 - \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u043e\u0439 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f \u043a\u043e\u0434\u0430 - \u0421\u0442\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u043c \u0430\u043d\u0430\u043b\u0438\u0437\u043e\u043c</p>"},{"location":"14_ci_cd_automation/#2_1","title":"\u0423\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0435 2: \u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f \u0440\u0430\u0437\u0432\u0435\u0440\u0442\u044b\u0432\u0430\u043d\u0438\u044f","text":"<p>\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u0439\u0442\u0435 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044e \u0440\u0430\u0437\u0432\u0435\u0440\u0442\u044b\u0432\u0430\u043d\u0438\u044f \u0434\u043b\u044f \u0432\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0441: - \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u043c\u0438 \u0442\u0435\u0441\u0442\u0430\u043c\u0438 - \u0420\u0443\u0447\u043d\u044b\u043c \u043e\u0434\u043e\u0431\u0440\u0435\u043d\u0438\u0435\u043c \u0434\u043b\u044f production - \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c\u044e \u043e\u0442\u043a\u0430\u0442\u0430</p>"},{"location":"14_ci_cd_automation/#3_1","title":"\u0423\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0435 3: \u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430 \u043a\u043e\u0434\u0430","text":"<p>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430 \u043a\u043e\u0434\u0430 \u0441: - \u041c\u0435\u0442\u0440\u0438\u043a\u0430\u043c\u0438 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f - \u0421\u0442\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u043c \u0430\u043d\u0430\u043b\u0438\u0437\u043e\u043c - \u041e\u0442\u0447\u0435\u0442\u0430\u043c\u0438 \u043e \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u043e\u043c \u0434\u043e\u043b\u0433\u0435</p>"},{"location":"14_ci_cd_automation/#_24","title":"\ud83e\uddea \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u0432\u043e\u0438 \u0437\u043d\u0430\u043d\u0438\u044f","text":""},{"location":"14_ci_cd_automation/#_25","title":"\ud83d\udd17 \u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0442\u0435\u043c\u044b","text":"<ul> <li>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f - \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 CI/CD \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f</li> <li>\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0438 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0438 - \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0434\u043b\u044f CI/CD</li> <li>\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 - \u0442\u0435\u0441\u0442\u044b \u0432 CI/CD</li> <li>TDD \u0432 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 - \u0434\u0435\u043f\u043b\u043e\u0439 \u0432\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439</li> <li>\u041c\u0435\u0442\u0440\u0438\u043a\u0438 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f \u043a\u043e\u0434\u0430 - \u043c\u0435\u0442\u0440\u0438\u043a\u0438 \u0432 CI/CD</li> <li>\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043e\u0448\u0438\u0431\u043e\u043a - \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043e\u0448\u0438\u0431\u043e\u043a \u0432 CI/CD</li> </ul> <p>\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430: \u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0438 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0438 \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430: \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043e\u0448\u0438\u0431\u043e\u043a</p>"},{"location":"14_ci_cd_automation/#_26","title":"\ud83d\udcda \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u044b","text":"<ul> <li>GitHub Actions Documentation</li> <li>pytest-xdist</li> <li>Codecov</li> <li>Jenkins Pipeline</li> </ul> <p>\u041f\u043e\u043c\u043d\u0438\u0442\u0435: \u0425\u043e\u0440\u043e\u0448\u0430\u044f CI/CD \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u2014 \u044d\u0442\u043e \u0438\u043d\u0432\u0435\u0441\u0442\u0438\u0446\u0438\u044f \u0432 \u043d\u0430\u0434\u0435\u0436\u043d\u043e\u0441\u0442\u044c \u0438 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438!</p>"},{"location":"15_error_handling_tdd/","title":"\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043e\u0448\u0438\u0431\u043e\u043a \u0438 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439 \u0432 TDD","text":""},{"location":"15_error_handling_tdd/#_1","title":"\ud83c\udfaf \u0412\u0432\u0435\u0434\u0435\u043d\u0438\u0435","text":"<p>\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043e\u0448\u0438\u0431\u043e\u043a \u2014 \u044d\u0442\u043e \u043a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0432\u0430\u0436\u043d\u0430\u044f \u0447\u0430\u0441\u0442\u044c TDD, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0447\u0430\u0441\u0442\u043e \u0438\u0433\u043d\u043e\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430\u043c\u0438. \u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u0441\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0439 \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u0443\u0435\u0442, \u0447\u0442\u043e \u0432\u0430\u0448\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \"\u0441\u0447\u0430\u0441\u0442\u043b\u0438\u0432\u044b\u0445\" \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u044f\u0445, \u043d\u043e \u0438 \u043f\u0440\u0438 \u0432\u043e\u0437\u043d\u0438\u043a\u043d\u043e\u0432\u0435\u043d\u0438\u0438 \u043e\u0448\u0438\u0431\u043e\u043a.</p>"},{"location":"15_error_handling_tdd/#_2","title":"\ud83e\udde0 \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u043e\u043d\u044f\u0442\u0438\u044f","text":""},{"location":"15_error_handling_tdd/#_3","title":"\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f","text":"<ul> <li>\u041e\u0448\u0438\u0431\u043a\u0430 (Error) \u2014 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0438\u043b\u0438 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442, \u043d\u0430\u0440\u0443\u0448\u0430\u044e\u0449\u0438\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c</li> <li>\u0418\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 (Exception) \u2014 \u043c\u0435\u0445\u0430\u043d\u0438\u0437\u043c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043e\u0448\u0438\u0431\u043e\u043a \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e\u0431 \u0438\u0441\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u044f\u0445</li> <li>\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043e\u0448\u0438\u0431\u043e\u043a \u2014 \u0432\u044b\u044f\u0432\u043b\u0435\u043d\u0438\u0435, \u043f\u0435\u0440\u0435\u0445\u0432\u0430\u0442 \u0438 \u0440\u0435\u0430\u043a\u0446\u0438\u044f \u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0438/\u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f</li> <li>\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043e\u0448\u0438\u0431\u043e\u043a \u2014 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0441\u0442\u0438 \u0440\u0435\u0430\u043a\u0446\u0438\u0438 \u043a\u043e\u0434\u0430 \u043d\u0430 \u0438\u0441\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438</li> </ul>"},{"location":"15_error_handling_tdd/#_4","title":"\u0426\u0435\u043b\u0438 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043e\u0448\u0438\u0431\u043e\u043a","text":"<ol> <li>\u0413\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0440\u0430\u0431\u043e\u0442\u0443 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043f\u0440\u0438 \u043e\u0448\u0438\u0431\u043a\u0430\u0445</li> <li>\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043f\u0435\u0440\u0435\u0445\u0432\u0430\u0442 \u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u043e\u0448\u0438\u0431\u043e\u043a</li> <li>\u041e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0430\u0445</li> <li>\u041f\u0440\u0435\u0434\u043e\u0442\u0432\u0440\u0430\u0442\u0438\u0442\u044c \u043d\u0435\u043e\u0442\u043b\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0438 \u0430\u0432\u0430\u0440\u0438\u0439\u043d\u043e\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435</li> </ol>"},{"location":"15_error_handling_tdd/#_5","title":"\ud83c\udff7 \u041a\u043b\u0430\u0441\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a","text":""},{"location":"15_error_handling_tdd/#1","title":"1. \u041f\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0432\u043e\u0437\u043d\u0438\u043a\u043d\u043e\u0432\u0435\u043d\u0438\u044f","text":"<pre><code># \u0421\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043e\u0448\u0438\u0431\u043a\u0438 (\u043d\u0430 \u044d\u0442\u0430\u043f\u0435 \u0438\u043d\u0442\u0435\u0440\u043f\u0440\u0435\u0442\u0430\u0446\u0438\u0438)\ndef invalid_syntax():\n    return \"missing quote  # SyntaxError\n\n# \u041b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043e\u0448\u0438\u0431\u043a\u0438 (\u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0430\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f)\ndef calculate_age(birth_year):\n    return 2024 + birth_year  # \u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c: 2024 - birth_year\n\n# \u041e\u0448\u0438\u0431\u043a\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f\ndef divide_numbers(a, b):\n    return a / b  # ZeroDivisionError \u043f\u0440\u0438 b=0\n</code></pre>"},{"location":"15_error_handling_tdd/#2","title":"2. \u041f\u043e \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0443","text":"<pre><code># \u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u043e\u0448\u0438\u0431\u043a\u0438\ndef read_config_file():\n    with open('config.txt', 'r') as f:  # FileNotFoundError\n        return f.read()\n\n# \u041e\u0448\u0438\u0431\u043a\u0438 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438 \u0432\u0445\u043e\u0434\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445\ndef create_user(email, age):\n    if not email or '@' not in email:\n        raise ValueError(\"Invalid email format\")\n    if age &lt; 0 or age &gt; 150:\n        raise ValueError(\"Invalid age\")\n\n# \u041e\u0448\u0438\u0431\u043a\u0438 \u0431\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u0438\ndef withdraw_money(account, amount):\n    if amount &gt; account.balance:\n        raise InsufficientFundsError(\"Not enough money\")\n</code></pre>"},{"location":"15_error_handling_tdd/#3","title":"3. \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f","text":"<pre><code># \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439\nclass BankAccountError(Exception):\n    \"\"\"Base exception for bank account operations.\"\"\"\n    pass\n\nclass InsufficientFundsError(BankAccountError):\n    \"\"\"Raised when account has insufficient funds.\"\"\"\n    pass\n\nclass InvalidAmountError(BankAccountError):\n    \"\"\"Raised when amount is invalid.\"\"\"\n    pass\n\nclass AccountNotFoundError(BankAccountError):\n    \"\"\"Raised when account doesn't exist.\"\"\"\n    pass\n</code></pre>"},{"location":"15_error_handling_tdd/#tdd_1","title":"\ud83d\udd34 TDD \u043f\u043e\u0434\u0445\u043e\u0434 \u043a \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044e \u043e\u0448\u0438\u0431\u043e\u043a","text":""},{"location":"15_error_handling_tdd/#tdd_2","title":"\u041f\u0440\u0438\u043d\u0446\u0438\u043f\u044b \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043e\u0448\u0438\u0431\u043e\u043a \u0432 TDD","text":"<ol> <li>\u0422\u0435\u0441\u0442\u044b \u043d\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u043e\u0448\u0438\u0431\u043e\u043a \u043f\u0438\u0448\u0443\u0442\u0441\u044f \u0414\u041e \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438</li> <li>\u041e\u0445\u0432\u0430\u0442 \u0432\u0441\u0435\u0445 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0445 \u043e\u0448\u0438\u0431\u043e\u0447\u043d\u044b\u0445 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0435\u0432, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0433\u0440\u0430\u043d\u0438\u0447\u043d\u044b\u0435 \u0441\u043b\u0443\u0447\u0430\u0438</li> <li>\u042f\u0432\u043d\u043e\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u043e\u0436\u0438\u0434\u0430\u0435\u043c\u043e\u0433\u043e \u0442\u0438\u043f\u0430 \u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f</li> <li>\u0410\u0442\u043e\u043c\u0430\u0440\u043d\u043e\u0441\u0442\u044c \u0438 \u043d\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c \u0442\u0435\u0441\u0442\u043e\u0432</li> </ol>"},{"location":"15_error_handling_tdd/#red-green-refactor","title":"RED-GREEN-REFACTOR \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043e\u0448\u0438\u0431\u043e\u043a","text":""},{"location":"15_error_handling_tdd/#red","title":"\ud83d\udd34 RED: \u0422\u0435\u0441\u0442 \u043d\u0430 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435","text":"<pre><code># test_bank_account.py\nimport pytest\nfrom bank_account import BankAccount, InsufficientFundsError\n\ndef test_withdraw_more_than_balance_raises_error():\n    \"\"\"\u0421\u043d\u044f\u0442\u0438\u0435 \u0441\u0443\u043c\u043c\u044b \u0431\u043e\u043b\u044c\u0448\u0435 \u0431\u0430\u043b\u0430\u043d\u0441\u0430 \u0434\u043e\u043b\u0436\u043d\u043e \u0432\u044b\u0437\u044b\u0432\u0430\u0442\u044c \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435.\"\"\"\n    account = BankAccount(100)\n\n    with pytest.raises(InsufficientFundsError) as exc_info:\n        account.withdraw(150)\n\n    assert \"insufficient funds\" in str(exc_info.value).lower()\n    assert account.balance == 100  # \u0411\u0430\u043b\u0430\u043d\u0441 \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u0441\u044f\n</code></pre>"},{"location":"15_error_handling_tdd/#green","title":"\ud83d\udfe2 GREEN: \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f","text":"<pre><code># bank_account.py\nclass InsufficientFundsError(Exception):\n    pass\n\nclass BankAccount:\n    def __init__(self, initial_balance=0):\n        self.balance = initial_balance\n\n    def withdraw(self, amount):\n        if amount &gt; self.balance:\n            raise InsufficientFundsError(\"Insufficient funds\")\n        self.balance -= amount\n</code></pre>"},{"location":"15_error_handling_tdd/#refactor","title":"\ud83d\udd35 REFACTOR: \u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0435 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438","text":"<pre><code>class BankAccount:\n    def __init__(self, initial_balance=0):\n        self._validate_amount(initial_balance)\n        self.balance = initial_balance\n\n    def withdraw(self, amount):\n        self._validate_amount(amount)\n        if amount &gt; self.balance:\n            raise InsufficientFundsError(\n                f\"Cannot withdraw {amount}. Available balance: {self.balance}\"\n            )\n        self.balance -= amount\n\n    def _validate_amount(self, amount):\n        if amount &lt; 0:\n            raise ValueError(\"Amount cannot be negative\")\n        if not isinstance(amount, (int, float)):\n            raise TypeError(\"Amount must be a number\")\n</code></pre>"},{"location":"15_error_handling_tdd/#_6","title":"\ud83e\uddea \u0422\u0435\u0445\u043d\u0438\u043a\u0438 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439","text":""},{"location":"15_error_handling_tdd/#1-pytestraises","title":"1. pytest.raises","text":"<pre><code>import pytest\n\ndef test_division_by_zero():\n    \"\"\"\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043d\u0430 \u043d\u043e\u043b\u044c.\"\"\"\n    with pytest.raises(ZeroDivisionError):\n        result = 10 / 0\n\ndef test_division_by_zero_with_message():\n    \"\"\"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0435.\"\"\"\n    with pytest.raises(ZeroDivisionError) as exc_info:\n        result = 10 / 0\n\n    assert \"division by zero\" in str(exc_info.value)\n\ndef test_specific_exception_type():\n    \"\"\"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u0442\u0438\u043f\u0430 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f.\"\"\"\n    with pytest.raises(ValueError, match=r\"invalid literal.*\"):\n        int(\"not_a_number\")\n</code></pre>"},{"location":"15_error_handling_tdd/#2-unittesttestcase","title":"2. unittest.TestCase","text":"<pre><code>import unittest\n\nclass TestErrorHandling(unittest.TestCase):\n\n    def test_value_error_raised(self):\n        \"\"\"\u0422\u0435\u0441\u0442 \u0441 unittest assertRaises.\"\"\"\n        with self.assertRaises(ValueError) as context:\n            int(\"not_a_number\")\n\n        self.assertIn(\"invalid literal\", str(context.exception))\n\n    def test_exception_message(self):\n        \"\"\"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f.\"\"\"\n        with self.assertRaisesRegex(ValueError, r\"invalid literal.*\"):\n            int(\"not_a_number\")\n\n    def test_no_exception_raised(self):\n        \"\"\"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430, \u0447\u0442\u043e \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u041d\u0415 \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u0435\u0442.\"\"\"\n        try:\n            result = int(\"42\")\n            self.assertEqual(result, 42)\n        except ValueError:\n            self.fail(\"ValueError raised unexpectedly\")\n</code></pre>"},{"location":"15_error_handling_tdd/#3_1","title":"3. \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439","text":"<pre><code>def test_user_validation_errors():\n    \"\"\"\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u043e\u0448\u0438\u0431\u043e\u043a \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438.\"\"\"\n\n    # \u0422\u0435\u0441\u0442 1: \u041f\u0443\u0441\u0442\u043e\u0439 email\n    with pytest.raises(ValueError, match=\"Email cannot be empty\"):\n        create_user(\"\", \"password123\")\n\n    # \u0422\u0435\u0441\u0442 2: \u041d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 email\n    with pytest.raises(ValueError, match=\"Invalid email format\"):\n        create_user(\"invalid-email\", \"password123\")\n\n    # \u0422\u0435\u0441\u0442 3: \u0421\u043b\u0430\u0431\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c\n    with pytest.raises(ValueError, match=\"Password too weak\"):\n        create_user(\"user@example.com\", \"123\")\n\n@pytest.mark.parametrize(\"invalid_input,expected_error\", [\n    (\"\", \"Email cannot be empty\"),\n    (\"invalid-email\", \"Invalid email format\"),\n    (\"user@domain\", \"Invalid domain\"),\n])\ndef test_email_validation_errors(invalid_input, expected_error):\n    \"\"\"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0442\u0435\u0441\u0442 \u043e\u0448\u0438\u0431\u043e\u043a \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438.\"\"\"\n    with pytest.raises(ValueError, match=expected_error):\n        validate_email(invalid_input)\n</code></pre>"},{"location":"15_error_handling_tdd/#_7","title":"\ud83c\udfad \u041f\u043e\u0434\u0445\u043e\u0434\u044b \u043a \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044e \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043e\u0448\u0438\u0431\u043e\u043a","text":""},{"location":"15_error_handling_tdd/#1_1","title":"1. \u041f\u043e\u0437\u0438\u0442\u0438\u0432\u043d\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","text":"<pre><code>def test_successful_user_creation():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0433\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n    user = create_user(\"john@example.com\", \"StrongP@ssw0rd!\")\n\n    assert user.email == \"john@example.com\"\n    assert user.is_active is True\n    assert user.created_at is not None\n</code></pre>"},{"location":"15_error_handling_tdd/#2_1","title":"2. \u041d\u0435\u0433\u0430\u0442\u0438\u0432\u043d\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","text":"<pre><code>def test_user_creation_with_invalid_data():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 \u043d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u044b\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u043c\u0438.\"\"\"\n\n    # \u041d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 email\n    with pytest.raises(ValueError):\n        create_user(\"invalid-email\", \"password\")\n\n    # \u041f\u0443\u0441\u0442\u043e\u0439 \u043f\u0430\u0440\u043e\u043b\u044c\n    with pytest.raises(ValueError):\n        create_user(\"user@example.com\", \"\")\n\n    # None \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\n    with pytest.raises(TypeError):\n        create_user(None, None)\n</code></pre>"},{"location":"15_error_handling_tdd/#3_2","title":"3. \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0430\u043d\u0438\u0447\u043d\u044b\u0445 \u0443\u0441\u043b\u043e\u0432\u0438\u0439","text":"<pre><code>def test_boundary_conditions():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0433\u0440\u0430\u043d\u0438\u0447\u043d\u044b\u0445 \u0443\u0441\u043b\u043e\u0432\u0438\u0439.\"\"\"\n\n    # \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\n    user = create_user(\"a@b.co\", \"1234567890\")  # \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430\n    assert user is not None\n\n    # \u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\n    long_email = \"a\" * 50 + \"@\" + \"b\" * 50 + \".com\"\n    user = create_user(long_email, \"x\" * 100)\n    assert user is not None\n\n    # \u041f\u0440\u0435\u0432\u044b\u0448\u0435\u043d\u0438\u0435 \u0433\u0440\u0430\u043d\u0438\u0446\n    with pytest.raises(ValueError):\n        create_user(\"a\" * 300 + \"@example.com\", \"password\")  # \u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u044b\u0439 email\n</code></pre>"},{"location":"15_error_handling_tdd/#_8","title":"\ud83d\udee1 \u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043e\u0448\u0438\u0431\u043e\u043a","text":""},{"location":"15_error_handling_tdd/#1-fail-fast","title":"1. Fail Fast (\u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u043e\u0442\u043a\u0430\u0437)","text":"<pre><code>def process_payment(amount, card_number, cvv):\n    \"\"\"\u0411\u044b\u0441\u0442\u0440\u043e \u043f\u0430\u0434\u0430\u0435\u043c \u043f\u0440\u0438 \u043f\u0435\u0440\u0432\u043e\u0439 \u0436\u0435 \u043e\u0448\u0438\u0431\u043a\u0435.\"\"\"\n\n    # \u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f \u0432\u0445\u043e\u0434\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445\n    if amount &lt;= 0:\n        raise ValueError(\"Amount must be positive\")\n\n    if not card_number or len(card_number) != 16:\n        raise ValueError(\"Invalid card number\")\n\n    if not cvv or len(cvv) != 3:\n        raise ValueError(\"Invalid CVV\")\n\n    # \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043f\u043b\u0430\u0442\u0435\u0436\u0430...\n    return process_transaction(amount, card_number, cvv)\n\ndef test_payment_fail_fast():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438 Fail Fast.\"\"\"\n\n    # \u0422\u0435\u0441\u0442 \u043f\u0430\u0434\u0430\u0435\u0442 \u0441\u0440\u0430\u0437\u0443 \u043d\u0430 \u043f\u0435\u0440\u0432\u043e\u0439 \u043e\u0448\u0438\u0431\u043a\u0435\n    with pytest.raises(ValueError, match=\"Amount must be positive\"):\n        process_payment(-100, \"1234567890123456\", \"123\")\n\n    # \u041d\u0435 \u0434\u043e\u0445\u043e\u0434\u0438\u043c \u0434\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043a\u0430\u0440\u0442\u044b \u043f\u0440\u0438 \u043d\u0435\u0432\u0435\u0440\u043d\u043e\u0439 \u0441\u0443\u043c\u043c\u0435\n    with pytest.raises(ValueError, match=\"Amount must be positive\"):\n        process_payment(0, \"invalid\", \"bad\")  # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e amount\n</code></pre>"},{"location":"15_error_handling_tdd/#2-graceful-degradation","title":"2. Graceful Degradation (\u0418\u0437\u044f\u0449\u043d\u0430\u044f \u0434\u0435\u0433\u0440\u0430\u0434\u0430\u0446\u0438\u044f)","text":"<pre><code>def get_user_profile(user_id):\n    \"\"\"\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c \u0447\u0430\u0441\u0442\u0438\u0447\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u0438 \u043e\u0448\u0438\u0431\u043a\u0430\u0445.\"\"\"\n    profile = {\"id\": user_id}\n\n    try:\n        profile[\"basic_info\"] = get_basic_info(user_id)\n    except DatabaseError:\n        profile[\"basic_info\"] = {\"name\": \"Unknown\", \"email\": \"N/A\"}\n\n    try:\n        profile[\"preferences\"] = get_user_preferences(user_id)\n    except ServiceUnavailableError:\n        profile[\"preferences\"] = get_default_preferences()\n\n    return profile\n\ndef test_graceful_degradation(mocker):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0438\u0437\u044f\u0449\u043d\u043e\u0439 \u0434\u0435\u0433\u0440\u0430\u0434\u0430\u0446\u0438\u0438.\"\"\"\n    # \u041c\u043e\u043a\u0438\u0440\u0443\u0435\u043c \u043e\u0448\u0438\u0431\u043a\u0443 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0431\u0430\u0437\u043e\u0432\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438\n    mocker.patch('myapp.get_basic_info', side_effect=DatabaseError())\n    mocker.patch('myapp.get_user_preferences', return_value={\"theme\": \"dark\"})\n\n    profile = get_user_profile(123)\n\n    assert profile[\"id\"] == 123\n    assert profile[\"basic_info\"][\"name\"] == \"Unknown\"  # Fallback \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\n    assert profile[\"preferences\"][\"theme\"] == \"dark\"   # \u0423\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e\n</code></pre>"},{"location":"15_error_handling_tdd/#3-retry-circuit-breaker","title":"3. Retry \u0438 Circuit Breaker","text":"<pre><code>import time\nfrom functools import wraps\n\ndef retry(max_attempts=3, delay=1):\n    \"\"\"\u0414\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440 \u0434\u043b\u044f \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u044b\u0445 \u043f\u043e\u043f\u044b\u0442\u043e\u043a.\"\"\"\n    def decorator(func):\n        @wraps(func)\n        def wrapper(*args, **kwargs):\n            last_exception = None\n\n            for attempt in range(max_attempts):\n                try:\n                    return func(*args, **kwargs)\n                except (ConnectionError, TimeoutError) as e:\n                    last_exception = e\n                    if attempt &lt; max_attempts - 1:\n                        time.sleep(delay)\n                    continue\n                except Exception as e:\n                    # \u041d\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u0435\u043c \u0434\u043b\u044f \u0434\u0440\u0443\u0433\u0438\u0445 \u0442\u0438\u043f\u043e\u0432 \u043e\u0448\u0438\u0431\u043e\u043a\n                    raise e\n\n            raise last_exception\n        return wrapper\n    return decorator\n\n@retry(max_attempts=3, delay=0.1)\ndef unreliable_api_call():\n    \"\"\"\u041d\u0435\u043d\u0430\u0434\u0435\u0436\u043d\u044b\u0439 API \u0432\u044b\u0437\u043e\u0432.\"\"\"\n    if random.random() &lt; 0.7:  # 70% \u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0438\n        raise ConnectionError(\"Network error\")\n    return {\"status\": \"success\"}\n\ndef test_retry_mechanism(mocker):\n    \"\"\"\u0422\u0435\u0441\u0442 \u043c\u0435\u0445\u0430\u043d\u0438\u0437\u043c\u0430 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u044b\u0445 \u043f\u043e\u043f\u044b\u0442\u043e\u043a.\"\"\"\n    mock_func = mocker.Mock()\n    mock_func.side_effect = [\n        ConnectionError(\"First failure\"),\n        ConnectionError(\"Second failure\"),\n        {\"status\": \"success\"}  # \u0422\u0440\u0435\u0442\u044c\u044f \u043f\u043e\u043f\u044b\u0442\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u0430\n    ]\n\n    # \u041f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u043c \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440 \u043a mock \u0444\u0443\u043d\u043a\u0446\u0438\u0438\n    retried_func = retry(max_attempts=3, delay=0)(mock_func)\n\n    result = retried_func()\n\n    assert result == {\"status\": \"success\"}\n    assert mock_func.call_count == 3  # \u0411\u044b\u043b\u043e 3 \u043f\u043e\u043f\u044b\u0442\u043a\u0438\n</code></pre>"},{"location":"15_error_handling_tdd/#_9","title":"\ud83d\udd2c \u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 \u0442\u0435\u0445\u043d\u0438\u043a\u0438","text":""},{"location":"15_error_handling_tdd/#1_2","title":"1. \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a","text":"<pre><code>import logging\nimport pytest\n\ndef risky_operation(data):\n    \"\"\"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u0441 \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u043e\u0448\u0438\u0431\u043e\u043a.\"\"\"\n    logger = logging.getLogger(__name__)\n\n    try:\n        if not data:\n            raise ValueError(\"Data cannot be empty\")\n\n        result = process_data(data)\n        logger.info(f\"Successfully processed {len(data)} items\")\n        return result\n\n    except ValueError as e:\n        logger.error(f\"Validation error: {e}\")\n        raise\n    except Exception as e:\n        logger.critical(f\"Unexpected error: {e}\")\n        raise\n\ndef test_error_logging(caplog):\n    \"\"\"\u0422\u0435\u0441\u0442 \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a.\"\"\"\n    with caplog.at_level(logging.ERROR):\n        with pytest.raises(ValueError):\n            risky_operation(None)\n\n    assert \"Validation error: Data cannot be empty\" in caplog.text\n    assert len(caplog.records) == 1\n    assert caplog.records[0].levelname == \"ERROR\"\n</code></pre>"},{"location":"15_error_handling_tdd/#2_2","title":"2. \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f","text":"<pre><code>class DatabaseTransaction:\n    def __init__(self, db):\n        self.db = db\n        self.in_transaction = False\n\n    def execute(self, operations):\n        \"\"\"\u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0432 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438.\"\"\"\n        try:\n            self.db.begin_transaction()\n            self.in_transaction = True\n\n            for operation in operations:\n                operation.execute(self.db)\n\n            self.db.commit()\n            self.in_transaction = False\n\n        except Exception as e:\n            if self.in_transaction:\n                self.db.rollback()\n                self.in_transaction = False\n            raise e\n\ndef test_transaction_rollback_on_error(mocker):\n    \"\"\"\u0422\u0435\u0441\u0442 \u043e\u0442\u043a\u0430\u0442\u0430 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043f\u0440\u0438 \u043e\u0448\u0438\u0431\u043a\u0435.\"\"\"\n    mock_db = mocker.Mock()\n    failing_operation = mocker.Mock()\n    failing_operation.execute.side_effect = RuntimeError(\"Operation failed\")\n\n    transaction = DatabaseTransaction(mock_db)\n\n    with pytest.raises(RuntimeError):\n        transaction.execute([failing_operation])\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0447\u0442\u043e \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f \u0431\u044b\u043b\u0430 \u043d\u0430\u0447\u0430\u0442\u0430 \u0438 \u043e\u0442\u043a\u0430\u0447\u0435\u043d\u0430\n    mock_db.begin_transaction.assert_called_once()\n    mock_db.rollback.assert_called_once()\n    mock_db.commit.assert_not_called()\n    assert transaction.in_transaction is False\n</code></pre>"},{"location":"15_error_handling_tdd/#3_3","title":"3. \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u0445 \u043e\u0448\u0438\u0431\u043e\u043a","text":"<pre><code>import asyncio\nimport pytest\n\nasync def async_operation(url):\n    \"\"\"\u0410\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0430\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u0441 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u043e\u0439 \u043e\u0448\u0438\u0431\u043e\u043a.\"\"\"\n    try:\n        async with aiohttp.ClientSession() as session:\n            async with session.get(url) as response:\n                if response.status &gt;= 400:\n                    raise HTTPError(f\"HTTP {response.status}\")\n                return await response.json()\n    except asyncio.TimeoutError:\n        raise TimeoutError(f\"Timeout while accessing {url}\")\n    except aiohttp.ClientError as e:\n        raise ConnectionError(f\"Connection failed: {e}\")\n\n@pytest.mark.asyncio\nasync def test_async_timeout_error(mocker):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0439 \u043e\u0448\u0438\u0431\u043a\u0438 \u0442\u0430\u0439\u043c\u0430\u0443\u0442\u0430.\"\"\"\n    # \u041c\u043e\u043a\u0438\u0440\u0443\u0435\u043c aiohttp \u0434\u043b\u044f \u0438\u043c\u0438\u0442\u0430\u0446\u0438\u0438 \u0442\u0430\u0439\u043c\u0430\u0443\u0442\u0430\n    mock_session = mocker.patch('aiohttp.ClientSession')\n    mock_session.return_value.__aenter__.return_value.get.side_effect = asyncio.TimeoutError()\n\n    with pytest.raises(TimeoutError, match=\"Timeout while accessing\"):\n        await async_operation(\"http://example.com\")\n\n@pytest.mark.asyncio\nasync def test_async_http_error(mocker):\n    \"\"\"\u0422\u0435\u0441\u0442 HTTP \u043e\u0448\u0438\u0431\u043a\u0438 \u0432 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438.\"\"\"\n    mock_response = mocker.Mock()\n    mock_response.status = 404\n\n    mock_session = mocker.patch('aiohttp.ClientSession')\n    mock_session.return_value.__aenter__.return_value.get.return_value.__aenter__.return_value = mock_response\n\n    with pytest.raises(HTTPError, match=\"HTTP 404\"):\n        await async_operation(\"http://example.com/not-found\")\n</code></pre>"},{"location":"15_error_handling_tdd/#_10","title":"\ud83d\udea8 \u0410\u043d\u0442\u0438\u043f\u0430\u0442\u0442\u0435\u0440\u043d\u044b \u0438 \u043e\u0448\u0438\u0431\u043a\u0438","text":""},{"location":"15_error_handling_tdd/#_11","title":"\u274c \u0427\u0442\u043e \u041d\u0415 \u0434\u0435\u043b\u0430\u0442\u044c","text":""},{"location":"15_error_handling_tdd/#1_3","title":"1. \u041f\u043e\u0433\u043b\u043e\u0449\u0435\u043d\u0438\u0435 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439","text":"<pre><code># \u274c \u041f\u043b\u043e\u0445\u043e: \u043c\u043e\u043b\u0447\u0430\u043b\u0438\u0432\u043e\u0435 \u043f\u043e\u0433\u043b\u043e\u0449\u0435\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a\ndef bad_error_handling(data):\n    try:\n        return process_data(data)\n    except:  # \u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0448\u0438\u0440\u043e\u043a\u0438\u0439 except\n        return None  # \u0422\u0435\u0440\u044f\u0435\u043c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0435\n\n# \u2705 \u0425\u043e\u0440\u043e\u0448\u043e: \u044f\u0432\u043d\u0430\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430\ndef good_error_handling(data):\n    try:\n        return process_data(data)\n    except ValueError as e:\n        logger.warning(f\"Invalid data provided: {e}\")\n        raise\n    except ConnectionError as e:\n        logger.error(f\"Connection failed: {e}\")\n        raise ServiceUnavailableError(\"Service temporarily unavailable\")\n</code></pre>"},{"location":"15_error_handling_tdd/#2_3","title":"2. \u041d\u0435\u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f","text":"<pre><code># \u274c \u041f\u043b\u043e\u0445\u043e: \u043d\u0435\u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f\ndef validate_age(age):\n    if age &lt; 0:\n        raise ValueError(\"Bad age\")  # \u0427\u0442\u043e \u0438\u043c\u0435\u043d\u043d\u043e \u043f\u043b\u043e\u0445\u043e\u0433\u043e?\n\n# \u2705 \u0425\u043e\u0440\u043e\u0448\u043e: \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f\ndef validate_age(age):\n    if not isinstance(age, int):\n        raise TypeError(f\"Age must be an integer, got {type(age).__name__}\")\n    if age &lt; 0:\n        raise ValueError(f\"Age cannot be negative, got {age}\")\n    if age &gt; 150:\n        raise ValueError(f\"Age cannot exceed 150, got {age}\")\n</code></pre>"},{"location":"15_error_handling_tdd/#3_4","title":"3. \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u0437\u0438\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0435\u0432","text":"<pre><code># \u274c \u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e: \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u0437\u0438\u0442\u0438\u0432\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b\ndef test_calculator_add():\n    assert add(2, 3) == 5\n\n# \u2705 \u041f\u043e\u043b\u043d\u043e: \u043f\u043e\u0437\u0438\u0442\u0438\u0432\u043d\u044b\u0435 \u0438 \u043d\u0435\u0433\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b\ndef test_calculator_add_positive():\n    assert add(2, 3) == 5\n\ndef test_calculator_add_with_zero():\n    assert add(0, 5) == 5\n    assert add(5, 0) == 5\n\ndef test_calculator_add_negative():\n    assert add(-2, 3) == 1\n    assert add(2, -3) == -1\n\ndef test_calculator_add_invalid_types():\n    with pytest.raises(TypeError):\n        add(\"2\", 3)\n\n    with pytest.raises(TypeError):\n        add(2, None)\n</code></pre>"},{"location":"15_error_handling_tdd/#_12","title":"\ud83d\udcca \u041c\u0435\u0442\u0440\u0438\u043a\u0438 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043e\u0448\u0438\u0431\u043e\u043a","text":""},{"location":"15_error_handling_tdd/#1_4","title":"1. \u041f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u0447\u043d\u044b\u0445 \u043f\u0443\u0442\u0435\u0439","text":"<pre><code># \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c coverage.py \u0434\u043b\u044f \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u044f \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f\n# \u0417\u0430\u043f\u0443\u0441\u043a: uv run pytest --cov=myapp --cov-branch --cov-report=html\n\ndef calculate_discount(price, discount_percent):\n    if price &lt; 0:                    # \u041e\u0448\u0438\u0431\u043e\u0447\u043d\u044b\u0439 \u043f\u0443\u0442\u044c 1\n        raise ValueError(\"Price cannot be negative\")\n\n    if discount_percent &lt; 0:         # \u041e\u0448\u0438\u0431\u043e\u0447\u043d\u044b\u0439 \u043f\u0443\u0442\u044c 2\n        raise ValueError(\"Discount cannot be negative\")\n\n    if discount_percent &gt; 100:       # \u041e\u0448\u0438\u0431\u043e\u0447\u043d\u044b\u0439 \u043f\u0443\u0442\u044c 3\n        raise ValueError(\"Discount cannot exceed 100%\")\n\n    return price * (1 - discount_percent / 100)  # \u0423\u0441\u043f\u0435\u0448\u043d\u044b\u0439 \u043f\u0443\u0442\u044c\n\n# \u0422\u0435\u0441\u0442\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u043f\u043e\u043a\u0440\u044b\u0442\u044c \u0412\u0421\u0415 \u043f\u0443\u0442\u0438\ndef test_calculate_discount_coverage():\n    # \u0423\u0441\u043f\u0435\u0448\u043d\u044b\u0439 \u043f\u0443\u0442\u044c\n    assert calculate_discount(100, 10) == 90\n\n    # \u0412\u0441\u0435 \u043e\u0448\u0438\u0431\u043e\u0447\u043d\u044b\u0435 \u043f\u0443\u0442\u0438\n    with pytest.raises(ValueError, match=\"Price cannot be negative\"):\n        calculate_discount(-100, 10)\n\n    with pytest.raises(ValueError, match=\"Discount cannot be negative\"):\n        calculate_discount(100, -10)\n\n    with pytest.raises(ValueError, match=\"Discount cannot exceed 100%\"):\n        calculate_discount(100, 110)\n</code></pre>"},{"location":"15_error_handling_tdd/#2_4","title":"2. \u0412\u0440\u0435\u043c\u044f \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u0441\u043b\u0435 \u043e\u0448\u0438\u0431\u043a\u0438","text":"<pre><code>import time\n\ndef test_error_recovery_time():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u0441\u043b\u0435 \u043e\u0448\u0438\u0431\u043a\u0438.\"\"\"\n    service = ResilientService()\n\n    # \u0418\u043c\u0438\u0442\u0438\u0440\u0443\u0435\u043c \u043e\u0448\u0438\u0431\u043a\u0443\n    start_time = time.time()\n\n    try:\n        service.failing_operation()\n    except ServiceError:\n        pass\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0431\u044b\u0441\u0442\u0440\u043e\u0435 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435\n    recovery_time = time.time() - start_time\n    assert recovery_time &lt; 1.0  # \u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043c\u0435\u043d\u0435\u0435 \u0447\u0435\u043c \u0437\u0430 1 \u0441\u0435\u043a\u0443\u043d\u0434\u0443\n\n    # \u0421\u0435\u0440\u0432\u0438\u0441 \u0434\u043e\u043b\u0436\u0435\u043d \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u043f\u043e\u0441\u043b\u0435 \u043e\u0448\u0438\u0431\u043a\u0438\n    result = service.normal_operation()\n    assert result is not None\n</code></pre>"},{"location":"15_error_handling_tdd/#_13","title":"\ud83c\udfaf \u041b\u0443\u0447\u0448\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438","text":""},{"location":"15_error_handling_tdd/#_14","title":"\u2705 \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438","text":"<ol> <li>\u041f\u043e\u043a\u0440\u044b\u0432\u0430\u0439\u0442\u0435 \u0442\u0435\u0441\u0442\u0430\u043c\u0438 \u0432\u0441\u0435 \u0432\u0435\u0442\u0432\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043e\u0448\u0438\u0431\u043e\u043a</li> <li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u043d\u044b\u0435 \u0442\u0438\u043f\u044b \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439</li> <li>\u041f\u0438\u0448\u0438\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0430\u0445</li> <li>\u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u043f\u043e\u0441\u043b\u0435 \u043e\u0448\u0438\u0431\u043e\u043a</li> <li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 pytest.mark.parametrize \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445 \u043e\u0448\u0438\u0431\u043e\u043a</li> <li>\u041b\u043e\u0433\u0438\u0440\u0443\u0439\u0442\u0435 \u043e\u0448\u0438\u0431\u043a\u0438 \u0441 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u043c \u0443\u0440\u043e\u0432\u043d\u0435\u043c \u0432\u0430\u0436\u043d\u043e\u0441\u0442\u0438</li> <li>\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0435 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0432 docstring</li> </ol>"},{"location":"15_error_handling_tdd/#-code-review","title":"\ud83d\udcdd \u0427\u0435\u043a-\u043b\u0438\u0441\u0442 \u0434\u043b\u044f code review","text":"<ul> <li>[ ] \u0412\u0441\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0435 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043f\u043e\u043a\u0440\u044b\u0442\u044b \u0442\u0435\u0441\u0442\u0430\u043c\u0438?</li> <li>[ ] \u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0430\u0445 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0432\u043d\u044b?</li> <li>[ ] \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u043d\u044b\u0435 \u0442\u0438\u043f\u044b \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439?</li> <li>[ ] \u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u0441\u043b\u0435 \u043e\u0448\u0438\u0431\u043e\u043a?</li> <li>[ ] \u041e\u0448\u0438\u0431\u043a\u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u043b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f?</li> <li>[ ] \u041d\u0435\u0442 \u043c\u043e\u043b\u0447\u0430\u043b\u0438\u0432\u043e\u0433\u043e \u043f\u043e\u0433\u043b\u043e\u0449\u0435\u043d\u0438\u044f \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439?</li> <li>[ ] \u0413\u0440\u0430\u043d\u0438\u0447\u043d\u044b\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u043f\u0440\u043e\u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u044b?</li> </ul>"},{"location":"15_error_handling_tdd/#_15","title":"\ud83d\udd2e \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0448\u0430\u0433\u0438","text":"<p>\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u0438\u0437\u0443\u0447\u0438\u043c \u043c\u0435\u0442\u0440\u0438\u043a\u0438 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f \u043a\u043e\u0434\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u043c\u043e\u0433\u0443\u0442 \u0438\u0437\u043c\u0435\u0440\u0438\u0442\u044c \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u0430\u0448\u0438\u0445 \u0442\u0435\u0441\u0442\u043e\u0432 \u0438 \u0443\u0431\u0435\u0434\u0438\u0442\u044c\u0441\u044f, \u0447\u0442\u043e \u0432\u0441\u0435 \u043f\u0443\u0442\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f (\u0432\u043a\u043b\u044e\u0447\u0430\u044f \u043e\u0448\u0438\u0431\u043e\u0447\u043d\u044b\u0435) \u043f\u0440\u043e\u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u044b.</p>"},{"location":"15_error_handling_tdd/#_16","title":"\ud83e\uddea \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u0432\u043e\u0438 \u0437\u043d\u0430\u043d\u0438\u044f","text":""},{"location":"15_error_handling_tdd/#_17","title":"\ud83d\udd17 \u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0442\u0435\u043c\u044b","text":"<ul> <li>\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b - \u043f\u0440\u0438\u043c\u0435\u0440\u044b \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043e\u0448\u0438\u0431\u043e\u043a</li> <li>Mock \u043e\u0431\u044a\u0435\u043a\u0442\u044b - \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439</li> <li>CI/CD \u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u044f - \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043e\u0448\u0438\u0431\u043e\u043a \u0432 CI/CD</li> <li>\u041c\u0435\u0442\u0440\u0438\u043a\u0438 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f \u043a\u043e\u0434\u0430 - \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043e\u0448\u0438\u0431\u043e\u043a</li> <li>\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438 \u0440\u0430\u0431\u043e\u0442\u044b \u0441 Legacy Code - \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043e\u0448\u0438\u0431\u043e\u043a \u0432 legacy \u043a\u043e\u0434\u0435</li> <li>\u041b\u0443\u0447\u0448\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438 - \u043b\u0443\u0447\u0448\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043e\u0448\u0438\u0431\u043e\u043a</li> </ul> <p>\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430: CI/CD \u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u044f \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430: \u041c\u0435\u0442\u0440\u0438\u043a\u0438 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f \u043a\u043e\u0434\u0430</p> <p>\u26a0\ufe0f \u041f\u043e\u043c\u043d\u0438\u0442\u0435: \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0430\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043e\u0448\u0438\u0431\u043e\u043a \u2014 \u044d\u0442\u043e \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u043e \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f, \u043d\u043e \u0438 \u043f\u0440\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u043e\u043f\u044b\u0442!</p>"},{"location":"16_code_coverage_metrics/","title":"\u041c\u0435\u0442\u0440\u0438\u043a\u0438 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f \u043a\u043e\u0434\u0430 \u0432 TDD","text":""},{"location":"16_code_coverage_metrics/#_1","title":"\ud83c\udfaf \u0412\u0432\u0435\u0434\u0435\u043d\u0438\u0435","text":"<p>\u041f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u043a\u043e\u0434\u0430 \u0442\u0435\u0441\u0442\u0430\u043c\u0438 \u2014 \u044d\u0442\u043e \u043a\u043b\u044e\u0447\u0435\u0432\u0430\u044f \u043c\u0435\u0442\u0440\u0438\u043a\u0430 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430 \u0432 TDD, \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0449\u0430\u044f, \u043a\u0430\u043a\u0430\u044f \u0447\u0430\u0441\u0442\u044c \u0432\u0430\u0448\u0435\u0433\u043e \u043a\u043e\u0434\u0430 \u0438\u0441\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u043f\u0440\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0435 \u0442\u0435\u0441\u0442\u043e\u0432. \u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043c\u0435\u0442\u0440\u0438\u043a \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f \u043f\u043e\u043c\u043e\u0433\u0430\u0435\u0442 \u0432\u044b\u044f\u0432\u0438\u0442\u044c \u043d\u0435\u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0443\u0447\u0430\u0441\u0442\u043a\u0438 \u043a\u043e\u0434\u0430 \u0438 \u043f\u043e\u0432\u044b\u0441\u0438\u0442\u044c \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u043d\u0430\u0431\u043e\u0440\u0430.</p>"},{"location":"16_code_coverage_metrics/#_2","title":"\ud83e\udde0 \u0427\u0442\u043e \u0442\u0430\u043a\u043e\u0435 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u043a\u043e\u0434\u0430?","text":""},{"location":"16_code_coverage_metrics/#_3","title":"\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435","text":"<p>\u041f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u043a\u043e\u0434\u0430 (Code Coverage) \u2014 \u043c\u0435\u0442\u0440\u0438\u043a\u0430, \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0449\u0430\u044f \u043f\u0440\u043e\u0446\u0435\u043d\u0442 \u0438\u0441\u0445\u043e\u0434\u043d\u043e\u0433\u043e \u043a\u043e\u0434\u0430 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u044b\u043b \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0442\u0435\u0441\u0442\u043e\u0432.</p>"},{"location":"16_code_coverage_metrics/#_4","title":"\u0412\u0430\u0436\u043d\u044b\u0435 \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u044b","text":"<ul> <li>\u041f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u041d\u0415 \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u0443\u0435\u0442 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a, \u043d\u043e \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u043d\u0430 \u043f\u043e\u0442\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b</li> <li>\u0412\u044b\u0441\u043e\u043a\u043e\u0435 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u043d\u0435 \u0432\u0441\u0435\u0433\u0434\u0430 \u043e\u0437\u043d\u0430\u0447\u0430\u0435\u0442 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b</li> <li>\u041f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u2014 \u044d\u0442\u043e \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0434\u043b\u044f \u0432\u044b\u044f\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432, \u0430 \u043d\u0435 \u0441\u0430\u043c\u043e\u0446\u0435\u043b\u044c</li> <li>100% \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u0440\u0435\u0434\u043a\u043e \u0434\u043e\u0441\u0442\u0438\u0436\u0438\u043c\u043e \u0438 \u044d\u043a\u043e\u043d\u043e\u043c\u0438\u0447\u0435\u0441\u043a\u0438 \u043d\u0435\u0446\u0435\u043b\u0435\u0441\u043e\u043e\u0431\u0440\u0430\u0437\u043d\u043e</li> </ul>"},{"location":"16_code_coverage_metrics/#_5","title":"\ud83d\udcca \u0412\u0438\u0434\u044b \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f \u043a\u043e\u0434\u0430","text":""},{"location":"16_code_coverage_metrics/#1-statement-coverage","title":"1. Statement Coverage (\u041f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0439)","text":"<p>\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0441\u0442\u0440\u043e\u043a \u043a\u043e\u0434\u0430.</p> <p>\u0424\u043e\u0440\u043c\u0443\u043b\u0430: <code>Statement Coverage = (\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435 \u0441\u0442\u0440\u043e\u043a\u0438 / \u041e\u0431\u0449\u0435\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0442\u0440\u043e\u043a) \u00d7 100%</code></p> <pre><code>def calculate_grade(score):\n    if score &gt;= 90:        # \u0421\u0442\u0440\u043e\u043a\u0430 1\n        return \"A\"         # \u0421\u0442\u0440\u043e\u043a\u0430 2\n    elif score &gt;= 80:      # \u0421\u0442\u0440\u043e\u043a\u0430 3\n        return \"B\"         # \u0421\u0442\u0440\u043e\u043a\u0430 4\n    else:                  # \u0421\u0442\u0440\u043e\u043a\u0430 5\n        return \"C\"         # \u0421\u0442\u0440\u043e\u043a\u0430 6\n\n# \u0422\u0435\u0441\u0442 \u043f\u043e\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0430\u0441\u0442\u044c \u0441\u0442\u0440\u043e\u043a\ndef test_grade_a():\n    assert calculate_grade(95) == \"A\"\n    # \u041f\u043e\u043a\u0440\u044b\u0442\u044b \u0441\u0442\u0440\u043e\u043a\u0438: 1, 2\n    # Statement Coverage = 2/6 = 33.3%\n\n# \u041f\u043e\u043b\u043d\u043e\u0435 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0439\ndef test_all_statements():\n    assert calculate_grade(95) == \"A\"  # \u0421\u0442\u0440\u043e\u043a\u0438 1, 2\n    assert calculate_grade(85) == \"B\"  # \u0421\u0442\u0440\u043e\u043a\u0438 3, 4\n    assert calculate_grade(75) == \"C\"  # \u0421\u0442\u0440\u043e\u043a\u0438 5, 6\n    # Statement Coverage = 6/6 = 100%\n</code></pre>"},{"location":"16_code_coverage_metrics/#2-branch-coverage","title":"2. Branch Coverage (\u041f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u0432\u0435\u0442\u0432\u0435\u0439)","text":"<p>\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0432\u0435\u0442\u0432\u0435\u0439 \u0443\u0441\u043b\u043e\u0432\u043d\u044b\u0445 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u0432.</p> <p>\u0424\u043e\u0440\u043c\u0443\u043b\u0430: <code>Branch Coverage = (\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435 \u0432\u0435\u0442\u0432\u0438 / \u041e\u0431\u0449\u0435\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u0435\u0442\u0432\u0435\u0439) \u00d7 100%</code></p> <pre><code>def is_valid_age(age):\n    if age &gt;= 0 and age &lt;= 150:  # 2 \u0443\u0441\u043b\u043e\u0432\u0438\u044f = 4 \u0432\u0435\u0442\u0432\u0438\n        return True\n    return False\n\n# \u041d\u0435\u043f\u043e\u043b\u043d\u043e\u0435 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u0432\u0435\u0442\u0432\u0435\u0439\ndef test_valid_age():\n    assert is_valid_age(25) == True\n    # \u041f\u043e\u043a\u0440\u044b\u0442\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u043d\u0430 \u0432\u0435\u0442\u0432\u044c: age &gt;= 0 (True) and age &lt;= 150 (True)\n    # Branch Coverage = 1/4 = 25%\n\n# \u041f\u043e\u043b\u043d\u043e\u0435 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u0432\u0435\u0442\u0432\u0435\u0439\ndef test_all_branches():\n    assert is_valid_age(25) == True    # age &gt;= 0 (True) and age &lt;= 150 (True)\n    assert is_valid_age(-5) == False   # age &gt;= 0 (False)\n    assert is_valid_age(200) == False  # age &gt;= 0 (True) and age &lt;= 150 (False)\n    # Branch Coverage = 4/4 = 100%\n</code></pre>"},{"location":"16_code_coverage_metrics/#3-function-coverage","title":"3. Function Coverage (\u041f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0439)","text":"<p>\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u0432\u044b\u0437\u0432\u0430\u043d\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u0438\u043b\u0438 \u043c\u0435\u0442\u043e\u0434\u043e\u0432.</p> <p>\u0424\u043e\u0440\u043c\u0443\u043b\u0430: <code>Function Coverage = (\u0412\u044b\u0437\u0432\u0430\u043d\u043d\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 / \u041e\u0431\u0449\u0435\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0444\u0443\u043d\u043a\u0446\u0438\u0439) \u00d7 100%</code></p> <pre><code>class Calculator:\n    def add(self, a, b):\n        return a + b\n\n    def subtract(self, a, b):\n        return a - b\n\n    def multiply(self, a, b):\n        return a * b\n\n    def divide(self, a, b):\n        return a / b\n\ndef test_partial_functions():\n    calc = Calculator()\n    assert calc.add(2, 3) == 5\n    assert calc.subtract(5, 2) == 3\n    # Function Coverage = 2/4 = 50%\n\ndef test_all_functions():\n    calc = Calculator()\n    assert calc.add(2, 3) == 5\n    assert calc.subtract(5, 2) == 3\n    assert calc.multiply(3, 4) == 12\n    assert calc.divide(10, 2) == 5\n    # Function Coverage = 4/4 = 100%\n</code></pre>"},{"location":"16_code_coverage_metrics/#4-path-coverage","title":"4. Path Coverage (\u041f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u043f\u0443\u0442\u0435\u0439)","text":"<p>\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0445 \u043f\u0443\u0442\u0435\u0439 \u0447\u0435\u0440\u0435\u0437 \u043a\u043e\u0434.</p> <pre><code>def complex_logic(a, b, c):\n    result = 0\n\n    if a &gt; 0:           # \u0423\u0441\u043b\u043e\u0432\u0438\u0435 1\n        result += 10\n\n    if b &gt; 0:           # \u0423\u0441\u043b\u043e\u0432\u0438\u0435 2\n        result += 20\n\n    if c &gt; 0:           # \u0423\u0441\u043b\u043e\u0432\u0438\u0435 3\n        result += 30\n\n    return result\n\n# \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0435 \u043f\u0443\u0442\u0438: 2^3 = 8 \u043a\u043e\u043c\u0431\u0438\u043d\u0430\u0446\u0438\u0439\ndef test_all_paths():\n    assert complex_logic(1, 1, 1) == 60   # Path: T,T,T\n    assert complex_logic(1, 1, 0) == 30   # Path: T,T,F\n    assert complex_logic(1, 0, 1) == 40   # Path: T,F,T\n    assert complex_logic(1, 0, 0) == 10   # Path: T,F,F\n    assert complex_logic(0, 1, 1) == 50   # Path: F,T,T\n    assert complex_logic(0, 1, 0) == 20   # Path: F,T,F\n    assert complex_logic(0, 0, 1) == 30   # Path: F,F,T\n    assert complex_logic(0, 0, 0) == 0    # Path: F,F,F\n    # Path Coverage = 8/8 = 100%\n</code></pre>"},{"location":"16_code_coverage_metrics/#5-condition-coverage","title":"5. Condition Coverage (\u041f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u0439)","text":"<p>\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043f\u0440\u043e\u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0431\u0443\u043b\u0435\u0432\u044b\u0445 \u043f\u043e\u0434\u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439.</p> <pre><code>def validate_user(email, age):\n    if email and \"@\" in email and age &gt;= 18:  # 3 \u0443\u0441\u043b\u043e\u0432\u0438\u044f\n        return True\n    return False\n\ndef test_condition_coverage():\n    # \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c \u043a\u0430\u0436\u0434\u043e\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u0435 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\n    assert validate_user(\"\", 20) == False         # email = False\n    assert validate_user(\"test\", 20) == False     # \"@\" in email = False  \n    assert validate_user(\"test@test.com\", 16) == False  # age &gt;= 18 = False\n    assert validate_user(\"test@test.com\", 20) == True   # \u0412\u0441\u0435 True\n    # Condition Coverage = 100%\n</code></pre>"},{"location":"16_code_coverage_metrics/#6-multiple-condition-coverage-mcdc","title":"6. Multiple Condition Coverage (MC/DC)","text":"<p>\u0412\u0441\u0435 \u043a\u043e\u043c\u0431\u0438\u043d\u0430\u0446\u0438\u0438 \u0443\u0441\u043b\u043e\u0432\u0438\u0439 \u0432 \u0441\u043b\u043e\u0436\u043d\u044b\u0445 \u0431\u0443\u043b\u0435\u0432\u044b\u0445 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f\u0445.</p> <pre><code>def access_granted(is_admin, is_owner, has_permission):\n    # \u0421\u043b\u043e\u0436\u043d\u043e\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u0435\n    return is_admin or (is_owner and has_permission)\n\ndef test_multiple_condition_coverage():\n    # \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c \u0432\u0441\u0435 \u0437\u043d\u0430\u0447\u0438\u043c\u044b\u0435 \u043a\u043e\u043c\u0431\u0438\u043d\u0430\u0446\u0438\u0438\n    assert access_granted(True, False, False) == True   # admin = True\n    assert access_granted(False, True, True) == True    # owner AND permission\n    assert access_granted(False, True, False) == False  # owner but no permission\n    assert access_granted(False, False, True) == False  # permission but not owner\n    assert access_granted(False, False, False) == False # nothing\n    # MC/DC Coverage \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0435\u0442 \u0432\u043b\u0438\u044f\u043d\u0438\u0435 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u043d\u0430 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\n</code></pre>"},{"location":"16_code_coverage_metrics/#python","title":"\ud83d\udee0 \u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u044f \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f \u0432 Python","text":""},{"location":"16_code_coverage_metrics/#1-coveragepy-","title":"1. Coverage.py - \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442","text":""},{"location":"16_code_coverage_metrics/#_6","title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0438 \u0431\u0430\u0437\u043e\u0432\u043e\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435","text":"<pre><code># \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430\nuv add coverage pytest-cov\n\n# \u0417\u0430\u043f\u0443\u0441\u043a \u0441 coverage\nuv run coverage run -m pytest\nuv run coverage report\nuv run coverage html\n\n# \u0418\u043b\u0438 \u0447\u0435\u0440\u0435\u0437 pytest-cov\nuv run pytest --cov=myapp --cov-report=html --cov-report=term\n</code></pre>"},{"location":"16_code_coverage_metrics/#coveragerc","title":"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f .coveragerc","text":"<pre><code># .coveragerc\n[run]\nsource = src/\nomit = \n    */tests/*\n    */venv/*\n    */virtualenv/*\n    */__pycache__/*\n    */site-packages/*\n    */migrations/*\n\n[report]\nexclude_lines =\n    pragma: no cover\n    def __repr__\n    raise AssertionError\n    raise NotImplementedError\n    if __name__ == .__main__.:\n\nshow_missing = True\nskip_covered = False\n\n[html]\ndirectory = htmlcov\n</code></pre>"},{"location":"16_code_coverage_metrics/#_7","title":"\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043f\u0440\u0438\u043c\u0435\u0440","text":"<pre><code># src/calculator.py\nclass Calculator:\n    def __init__(self):\n        self.history = []\n\n    def add(self, a, b):\n        \"\"\"Add two numbers.\"\"\"\n        result = a + b\n        self.history.append(f\"{a} + {b} = {result}\")\n        return result\n\n    def divide(self, a, b):\n        \"\"\"Divide two numbers.\"\"\"\n        if b == 0:\n            raise ValueError(\"Cannot divide by zero\")\n        result = a / b\n        self.history.append(f\"{a} / {b} = {result}\")\n        return result\n\n    def get_history(self):  # pragma: no cover\n        \"\"\"Debug method, excluded from coverage.\"\"\"\n        return self.history\n\n# tests/test_calculator.py\nimport pytest\nfrom src.calculator import Calculator\n\nclass TestCalculator:\n    def test_add(self):\n        calc = Calculator()\n        result = calc.add(2, 3)\n        assert result == 5\n        assert \"2 + 3 = 5\" in calc.history\n\n    def test_divide_success(self):\n        calc = Calculator()\n        result = calc.divide(10, 2)\n        assert result == 5.0\n\n    def test_divide_by_zero(self):\n        calc = Calculator()\n        with pytest.raises(ValueError, match=\"Cannot divide by zero\"):\n            calc.divide(10, 0)\n</code></pre>"},{"location":"16_code_coverage_metrics/#_8","title":"\u0417\u0430\u043f\u0443\u0441\u043a \u0438 \u0430\u043d\u0430\u043b\u0438\u0437","text":"<pre><code># \u0417\u0430\u043f\u0443\u0441\u043a \u0442\u0435\u0441\u0442\u043e\u0432 \u0441 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0435\u043c\nuv run pytest --cov=src --cov-report=html --cov-report=term-missing\n\n# \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0432 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0435:\n# Name                    Stmts   Miss  Cover   Missing\n# ----------------------------------------------------- \n# src/calculator.py          12      1    92%   25\n# ----------------------------------------------------- \n# TOTAL                      12      1    92%\n\n# HTML \u043e\u0442\u0447\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f \u0432 htmlcov/index.html\n</code></pre>"},{"location":"16_code_coverage_metrics/#2","title":"2. \u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438","text":""},{"location":"16_code_coverage_metrics/#branch-coverage","title":"\u041f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u0432\u0435\u0442\u0432\u0435\u0439 (Branch Coverage)","text":"<pre><code># \u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u044f \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f \u0432\u0435\u0442\u0432\u0435\u0439\nuv run pytest --cov=src --cov-branch --cov-report=html\n\n# \u0412 .coveragerc\n[run]\nbranch = True\n</code></pre>"},{"location":"16_code_coverage_metrics/#_9","title":"\u0420\u0430\u0437\u043d\u044b\u0435 \u0444\u043e\u0440\u043c\u0430\u0442\u044b \u043e\u0442\u0447\u0435\u0442\u043e\u0432","text":"<pre><code># XML \u043e\u0442\u0447\u0435\u0442 (\u0434\u043b\u044f CI/CD)\nuv run pytest --cov=src --cov-report=xml\n\n# JSON \u043e\u0442\u0447\u0435\u0442\nuv run pytest --cov=src --cov-report=json\n\n# \u041e\u0442\u0447\u0435\u0442 \u0432 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0435 \u0441 \u0434\u0435\u0442\u0430\u043b\u044f\u043c\u0438\nuv run pytest --cov=src --cov-report=term-missing\n</code></pre>"},{"location":"16_code_coverage_metrics/#3-cicd","title":"3. \u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0441 CI/CD","text":""},{"location":"16_code_coverage_metrics/#github-actions","title":"GitHub Actions","text":"<pre><code># .github/workflows/test.yml\nname: Tests\n\non: [push, pull_request]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n    steps:\n    - uses: actions/checkout@v4\n\n    - name: Install uv\n      uses: astral-sh/setup-uv@v1\n\n    - name: Set up Python\n      run: uv python install 3.12\n\n    - name: Install dependencies\n      run: uv sync\n\n    - name: Run tests with coverage\n      run: |\n        uv run pytest --cov=src --cov-report=xml --cov-report=term\n\n    - name: Upload coverage to Codecov\n      uses: codecov/codecov-action@v4\n      with:\n        file: ./coverage.xml\n        fail_ci_if_error: true\n        token: $your_codecov_token_here\n</code></pre>"},{"location":"16_code_coverage_metrics/#_10","title":"\ud83d\udccf \u0418\u043d\u0442\u0435\u0440\u043f\u0440\u0435\u0442\u0430\u0446\u0438\u044f \u043c\u0435\u0442\u0440\u0438\u043a \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f","text":""},{"location":"16_code_coverage_metrics/#_11","title":"\u0420\u0430\u0437\u0443\u043c\u043d\u044b\u0435 \u0433\u0440\u0430\u043d\u0438\u0446\u044b \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f","text":"<pre><code># pyproject.toml \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f\n[tool.coverage.report]\nfail_under = 80  # \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 80%\n\n[tool.coverage.run]\nbranch = true\n\n# \u0420\u0430\u0437\u043d\u044b\u0435 \u0443\u0440\u043e\u0432\u043d\u0438 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f \u0434\u043b\u044f \u0440\u0430\u0437\u043d\u044b\u0445 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432\n[tool.coverage.paths]\nsource = [\"src\", \"*/site-packages/mypackage\"]\n</code></pre>"},{"location":"16_code_coverage_metrics/#_12","title":"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u044b\u0435 \u0443\u0440\u043e\u0432\u043d\u0438","text":"<ul> <li>70-80%: \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0434\u043b\u044f \u0431\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432</li> <li>80-90%: \u0425\u043e\u0440\u043e\u0448\u0438\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0434\u043b\u044f \u043a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0432\u0430\u0436\u043d\u043e\u0433\u043e \u043a\u043e\u0434\u0430</li> <li>90-95%: \u0412\u044b\u0441\u043e\u043a\u0438\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0434\u043b\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0445 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432</li> <li>95-100%: \u0414\u043b\u044f \u043a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0432\u0430\u0436\u043d\u044b\u0445 \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u043e\u0432 (\u0444\u0438\u043d\u0430\u043d\u0441\u044b, \u043c\u0435\u0434\u0438\u0446\u0438\u043d\u0430)</li> </ul>"},{"location":"16_code_coverage_metrics/#_13","title":"\u0410\u043d\u0430\u043b\u0438\u0437 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f","text":"<pre><code># \u041f\u043b\u043e\u0445\u043e\u0435 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 - \u0432\u044b\u0441\u043e\u043a\u0438\u0439 \u043f\u0440\u043e\u0446\u0435\u043d\u0442, \u043d\u043e \u0442\u0435\u0441\u0442 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442\ndef bad_test():\n    calculator = Calculator()\n    calculator.add(2, 3)  # \u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u043a\u043e\u0434, \u043d\u043e \u043d\u0435\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u043e\u043a!\n    # Coverage = 100%, \u043d\u043e \u0442\u0435\u0441\u0442 \u0431\u0435\u0441\u043f\u043e\u043b\u0435\u0437\u0435\u043d\n\n# \u0425\u043e\u0440\u043e\u0448\u0435\u0435 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 - \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u044e\u0442\u0441\u044f \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0438 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435\ndef good_test():\n    calculator = Calculator()\n    result = calculator.add(2, 3)\n\n    assert result == 5  # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\n    assert len(calculator.history) == 1  # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u043f\u043e\u0431\u043e\u0447\u043d\u044b\u0435 \u044d\u0444\u0444\u0435\u043a\u0442\u044b\n    assert \"2 + 3 = 5\" in calculator.history[0]  # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435\n</code></pre>"},{"location":"16_code_coverage_metrics/#_14","title":"\ud83c\udfaf \u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438","text":""},{"location":"16_code_coverage_metrics/#1","title":"1. \u0412\u044b\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u0435\u043f\u043e\u043a\u0440\u044b\u0442\u044b\u0445 \u0443\u0447\u0430\u0441\u0442\u043a\u043e\u0432","text":"<pre><code>def complex_function(data, mode=\"normal\"):\n    if not data:\n        return []  # \u0421\u0442\u0440\u043e\u043a\u0430 \u043d\u0435 \u043f\u043e\u043a\u0440\u044b\u0442\u0430 \u0442\u0435\u0441\u0442\u0430\u043c\u0438!\n\n    result = []\n    for item in data:\n        if mode == \"strict\":\n            if not item.is_valid():  # \u0412\u0435\u0442\u0432\u044c \u043d\u0435 \u043f\u043e\u043a\u0440\u044b\u0442\u0430!\n                raise ValueError(f\"Invalid item: {item}\")\n\n        processed = process_item(item)\n        result.append(processed)\n\n    return result\n\ndef test_uncover_missing_paths():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0434\u043b\u044f \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f \u043f\u0440\u043e\u043f\u0443\u0449\u0435\u043d\u043d\u044b\u0445 \u043f\u0443\u0442\u0435\u0439.\"\"\"\n\n    # \u041f\u043e\u043a\u0440\u044b\u0432\u0430\u0435\u043c \u043f\u0443\u0441\u0442\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435\n    assert complex_function([]) == []\n\n    # \u041f\u043e\u043a\u0440\u044b\u0432\u0430\u0435\u043c strict \u0440\u0435\u0436\u0438\u043c \u0441 \u043d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u044b\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u043c\u0438\n    invalid_item = Mock()\n    invalid_item.is_valid.return_value = False\n\n    with pytest.raises(ValueError, match=\"Invalid item\"):\n        complex_function([invalid_item], mode=\"strict\")\n</code></pre>"},{"location":"16_code_coverage_metrics/#2-mutation-testing-","title":"2. Mutation Testing - \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430 \u0442\u0435\u0441\u0442\u043e\u0432","text":"<pre><code># \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 mutmut \u0434\u043b\u044f mutation testing\nuv add mutmut\n\n# \u0417\u0430\u043f\u0443\u0441\u043a mutation testing\nuv run mutmut run\n\n# \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432\nuv run mutmut results\nuv run mutmut show\n</code></pre> <pre><code># \u041f\u0440\u0438\u043c\u0435\u0440: mutation testing \u0432\u044b\u044f\u0432\u043b\u044f\u0435\u0442 \u0441\u043b\u0430\u0431\u044b\u0435 \u0442\u0435\u0441\u0442\u044b\ndef calculate_discount(price, percent):\n    if percent &gt; 100:  # Mutmut \u0438\u0437\u043c\u0435\u043d\u0438\u0442 \u043d\u0430 &gt;=, ==, &lt;, etc.\n        return 0\n    return price * (1 - percent / 100)\n\n# \u0421\u043b\u0430\u0431\u044b\u0439 \u0442\u0435\u0441\u0442 - \u043d\u0435 \u043f\u043e\u0439\u043c\u0430\u0435\u0442 \u043c\u0443\u0442\u0430\u0446\u0438\u044e &gt; \u043d\u0430 &gt;=\ndef weak_test():\n    assert calculate_discount(100, 50) == 50\n\n# \u0421\u0438\u043b\u044c\u043d\u044b\u0439 \u0442\u0435\u0441\u0442 - \u043f\u043e\u0439\u043c\u0430\u0435\u0442 \u043c\u0443\u0442\u0430\u0446\u0438\u0438\ndef strong_test():\n    assert calculate_discount(100, 50) == 50\n    assert calculate_discount(100, 100) == 0   # \u0413\u0440\u0430\u043d\u0438\u0447\u043d\u044b\u0439 \u0441\u043b\u0443\u0447\u0430\u0439\n    assert calculate_discount(100, 101) == 0   # \u0417\u0430 \u0433\u0440\u0430\u043d\u0438\u0446\u0435\u0439\n    assert calculate_discount(100, 99) &gt; 0     # \u041f\u0435\u0440\u0435\u0434 \u0433\u0440\u0430\u043d\u0438\u0446\u0435\u0439\n</code></pre>"},{"location":"16_code_coverage_metrics/#3","title":"3. \u0414\u0438\u0444\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0435","text":"<pre><code># \u041f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0438\u0437\u043c\u0435\u043d\u0438\u0432\u0448\u0438\u0445\u0441\u044f \u0444\u0430\u0439\u043b\u043e\u0432 (\u0432 CI)\nuv run pytest --cov=src --cov-report=xml\ncoverage xml --compare-branch=main  # \u0421\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u0441 main \u0432\u0435\u0442\u043a\u043e\u0439\n</code></pre>"},{"location":"16_code_coverage_metrics/#4","title":"4. \u0418\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a\u043e\u0434\u0430 \u0438\u0437 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f","text":"<pre><code>def debug_function():  # pragma: no cover\n    \"\"\"\u041e\u0442\u043b\u0430\u0434\u043e\u0447\u043d\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f, \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u0430\u044f \u0438\u0437 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f.\"\"\"\n    print(\"Debug information\")\n\ndef production_function():\n    try:\n        return risky_operation()\n    except Exception:  # pragma: no cover\n        # \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043e\u0448\u0438\u0431\u043e\u043a \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0430 \u0438\u0437 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f\n        logger.critical(\"Critical error occurred\")\n        raise\n\nclass ConfigurationError(Exception):\n    def __str__(self):  # pragma: no cover\n        # __str__ \u043c\u0435\u0442\u043e\u0434\u044b \u0447\u0430\u0441\u0442\u043e \u0438\u0441\u043a\u043b\u044e\u0447\u0430\u044e\u0442\n        return f\"Configuration error: {self.args[0]}\"\n</code></pre>"},{"location":"16_code_coverage_metrics/#_15","title":"\u26a0\ufe0f \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0438 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f","text":""},{"location":"16_code_coverage_metrics/#1_1","title":"1. \u041b\u043e\u0436\u043d\u043e\u0435 \u0447\u0443\u0432\u0441\u0442\u0432\u043e \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438","text":"<pre><code># 100% \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0435, \u043d\u043e \u0442\u0435\u0441\u0442 \u043d\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0441\u0442\u044c\ndef misleading_coverage():\n    def divide(a, b):\n        return a / b  # \u041c\u043e\u0436\u0435\u0442 \u0443\u043f\u0430\u0441\u0442\u044c \u043f\u0440\u0438 b=0\n\n    def test_divide():\n        result = divide(10, 2)  # \u041f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 100%, \u043d\u043e \u043d\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u0442 b=0\n        # \u041d\u0435\u0442 assert! \u0422\u0435\u0441\u0442 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442\n\n    # \u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0442\u0435\u0441\u0442\n    def proper_test():\n        assert divide(10, 2) == 5\n        with pytest.raises(ZeroDivisionError):\n            divide(10, 0)\n</code></pre>"},{"location":"16_code_coverage_metrics/#2_1","title":"2. \u041d\u0435\u043f\u043e\u043a\u0440\u044b\u0442\u044b\u0439 \u043a\u043e\u0434 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u0435\u0440\u0442\u0432\u044b\u043c","text":"<pre><code>def outdated_function():\n    # \u0421\u0442\u0430\u0440\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f\n    return \"legacy code\"  # \u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u0432 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0438 \u043a\u0430\u043a \u043d\u0435\u043f\u043e\u043a\u0440\u044b\u0442\u044b\u0439\n\n# \u0420\u0435\u0448\u0435\u043d\u0438\u0435: \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043c\u0435\u0440\u0442\u0432\u044b\u0439 \u043a\u043e\u0434\n# \u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b: vulture, unimport\n</code></pre>"},{"location":"16_code_coverage_metrics/#3_1","title":"3. \u041f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u043d\u0435 \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u0443\u0435\u0442 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0435 \u0431\u0430\u0433\u043e\u0432","text":"<pre><code>def calculate_average(numbers):\n    return sum(numbers) / len(numbers)  # \u0411\u0430\u0433: \u043d\u0435\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043d\u0430 \u043f\u0443\u0441\u0442\u043e\u0439 \u0441\u043f\u0438\u0441\u043e\u043a\n\ndef test_average():\n    assert calculate_average([1, 2, 3]) == 2  # 100% \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0435\n    # \u041d\u043e \u043d\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u0442 \u043f\u0443\u0441\u0442\u043e\u0439 \u0441\u043f\u0438\u0441\u043e\u043a - calculate_average([]) \u0443\u043f\u0430\u0434\u0435\u0442!\n\ndef comprehensive_test():\n    assert calculate_average([1, 2, 3]) == 2\n    assert calculate_average([5]) == 5\n\n    # \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c \u0433\u0440\u0430\u043d\u0438\u0447\u043d\u044b\u0435 \u0441\u043b\u0443\u0447\u0430\u0438\n    with pytest.raises(ZeroDivisionError):\n        calculate_average([])  # \u0412\u044b\u044f\u0432\u043b\u044f\u0435\u043c \u0431\u0430\u0433!\n</code></pre>"},{"location":"16_code_coverage_metrics/#_16","title":"\ud83d\udcca \u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f \u0432 \u043a\u043e\u043c\u0430\u043d\u0434\u0435","text":""},{"location":"16_code_coverage_metrics/#1-minimum-coverage","title":"1. \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 minimum coverage","text":"<pre><code># pyproject.toml\n[tool.coverage.report]\nfail_under = 85\nshow_missing = true\nskip_covered = false\n\n# \u041f\u0430\u0434\u0435\u043d\u0438\u0435 CI \u043f\u0440\u0438 \u043d\u0438\u0437\u043a\u043e\u043c \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0438\n[tool.coverage.run]\nbranch = true\nsource = [\"src\"]\n</code></pre>"},{"location":"16_code_coverage_metrics/#2-code-review","title":"2. \u041e\u0442\u0447\u0435\u0442\u044b \u0434\u043b\u044f code review","text":"<pre><code># \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f diff coverage \u0434\u043b\u044f PR\nuv run coverage xml\ndiff-cover coverage.xml --compare-branch=main --fail-under=80\n</code></pre>"},{"location":"16_code_coverage_metrics/#3-badges","title":"3. Badges \u0438 \u0434\u0430\u0448\u0431\u043e\u0440\u0434\u044b","text":"<pre><code>&lt;!-- README.md --&gt;\n[![Coverage Status](https://codecov.io/gh/username/repo/branch/main/graph/badge.svg)](https://codecov.io/gh/username/repo)\n</code></pre>"},{"location":"16_code_coverage_metrics/#_17","title":"\ud83c\udfaf \u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 \u0442\u0435\u0445\u043d\u0438\u043a\u0438","text":""},{"location":"16_code_coverage_metrics/#1_2","title":"1. \u041f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0442\u0435\u0441\u0442\u043e\u0432","text":"<pre><code># \u0418\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u0435 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f \u0434\u043b\u044f \u0440\u0430\u0437\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432 \u0442\u0435\u0441\u0442\u043e\u0432\ndef test_unit_with_coverage():\n    \"\"\"Unit \u0442\u0435\u0441\u0442 \u0441 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u043c \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0435\u043c.\"\"\"\n    # pytest --cov=src --cov-config=.coveragerc-unit\n    pass\n\ndef test_integration_with_coverage():\n    \"\"\"Integration \u0442\u0435\u0441\u0442 \u0441 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0435\u043c.\"\"\"\n    # pytest --cov=src --cov-config=.coveragerc-integration  \n    pass\n</code></pre>"},{"location":"16_code_coverage_metrics/#2-conditional-coverage","title":"2. Conditional coverage","text":"<pre><code>import sys\n\ndef platform_specific_function():\n    if sys.platform == \"win32\":  # pragma: no cover\n        return \"Windows implementation\"\n    else:\n        return \"Unix implementation\"\n\n# \u041f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0437\u043b\u0438\u0447\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u0440\u0430\u0437\u043d\u044b\u0445 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430\u0445\n</code></pre>"},{"location":"16_code_coverage_metrics/#3_2","title":"3. \u0410\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u0439 \u043a\u043e\u0434 \u0438 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0435","text":"<pre><code>import asyncio\nimport pytest\n\nasync def async_function():\n    await asyncio.sleep(0.1)\n    return \"async result\"\n\n@pytest.mark.asyncio\nasync def test_async_coverage():\n    \"\"\"\u0422\u0435\u0441\u0442 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0433\u043e \u043a\u043e\u0434\u0430.\"\"\"\n    result = await async_function()\n    assert result == \"async result\"\n\n# \u0417\u0430\u043f\u0443\u0441\u043a: pytest --cov=src --cov-branch test_async.py\n</code></pre>"},{"location":"16_code_coverage_metrics/#_18","title":"\ud83d\udcc8 \u041c\u0435\u0442\u0440\u0438\u043a\u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u044b","text":""},{"location":"16_code_coverage_metrics/#_19","title":"\u0422\u0440\u0435\u043a\u0438\u043d\u0433 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f \u0432\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438","text":"<pre><code># coverage-history.py - \u0441\u043a\u0440\u0438\u043f\u0442 \u0434\u043b\u044f \u043e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u043d\u0438\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439\nimport json\nimport subprocess\nfrom datetime import datetime\n\ndef track_coverage():\n    # \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0442\u0435\u0441\u0442\u044b \u0438 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0435\n    result = subprocess.run([\n        \"uv\", \"run\", \"pytest\", \"--cov=src\", \"--cov-report=json\"\n    ], capture_output=True, text=True)\n\n    with open(\"coverage.json\") as f:\n        coverage_data = json.load(f)\n\n    # \u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c \u0438\u0441\u0442\u043e\u0440\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0435\n    history = {\n        \"date\": datetime.now().isoformat(),\n        \"coverage_percent\": coverage_data[\"totals\"][\"percent_covered\"],\n        \"lines_total\": coverage_data[\"totals\"][\"num_statements\"],\n        \"lines_covered\": coverage_data[\"totals\"][\"covered_lines\"]\n    }\n\n    with open(\"coverage_history.json\", \"a\") as f:\n        json.dump(history, f)\n        f.write(\"\\n\")\n\nif __name__ == \"__main__\":\n    track_coverage()\n</code></pre>"},{"location":"16_code_coverage_metrics/#_20","title":"\ud83c\udfc6 \u041b\u0443\u0447\u0448\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438","text":""},{"location":"16_code_coverage_metrics/#_21","title":"\u2705 \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438","text":"<ol> <li>\u0421\u0442\u0440\u0435\u043c\u0438\u0442\u0435\u0441\u044c \u043a 80-90% \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044e \u0434\u043b\u044f \u0431\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432</li> <li>\u0418\u0437\u043c\u0435\u0440\u044f\u0439\u0442\u0435 branch coverage, \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e statement</li> <li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 mutation testing \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430 \u0442\u0435\u0441\u0442\u043e\u0432</li> <li>\u0418\u0441\u043a\u043b\u044e\u0447\u0430\u0439\u0442\u0435 \u043d\u0435\u0440\u0435\u043b\u0435\u0432\u0430\u043d\u0442\u043d\u044b\u0439 \u043a\u043e\u0434 (debug, repr, etc.)</li> <li>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 fail_under \u0432 CI \u0434\u043b\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u044f \u0443\u0440\u043e\u0432\u043d\u044f</li> <li>\u0410\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u0439\u0442\u0435 \u043d\u0435\u043f\u043e\u043a\u0440\u044b\u0442\u044b\u0435 \u0443\u0447\u0430\u0441\u0442\u043a\u0438 \u0440\u0435\u0433\u0443\u043b\u044f\u0440\u043d\u043e</li> <li>\u041d\u0435 \u0433\u043e\u043d\u0438\u0442\u0435\u0441\u044c \u0437\u0430 100% - \u0444\u043e\u043a\u0443\u0441\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c \u043d\u0430 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0442\u0435\u0441\u0442\u043e\u0432</li> </ol>"},{"location":"16_code_coverage_metrics/#_22","title":"\u274c \u0427\u0442\u043e \u0438\u0437\u0431\u0435\u0433\u0430\u0442\u044c","text":"<ol> <li>\u041d\u0435 \u0434\u0435\u043b\u0430\u0439\u0442\u0435 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u0441\u0430\u043c\u043e\u0446\u0435\u043b\u044c\u044e</li> <li>\u041d\u0435 \u0438\u0433\u043d\u043e\u0440\u0438\u0440\u0443\u0439\u0442\u0435 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u0440\u0430\u0434\u0438 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043e\u0432</li> <li>\u041d\u0435 \u0438\u0441\u043a\u043b\u044e\u0447\u0430\u0439\u0442\u0435 \u0432\u0430\u0436\u043d\u044b\u0439 \u043a\u043e\u0434 \u0431\u0435\u0437 \u043e\u0431\u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u044f</li> <li>\u041d\u0435 \u043f\u043e\u043b\u0430\u0433\u0430\u0439\u0442\u0435\u0441\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 - \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0434\u0440\u0443\u0433\u0438\u0435 \u043c\u0435\u0442\u0440\u0438\u043a\u0438</li> <li>\u041d\u0435 \u0437\u0430\u0431\u044b\u0432\u0430\u0439\u0442\u0435 \u043f\u0440\u043e boundary \u0438 error cases</li> </ol>"},{"location":"16_code_coverage_metrics/#_23","title":"\ud83d\udd2e \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0448\u0430\u0433\u0438","text":"<p>\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u0438\u0437\u0443\u0447\u0438\u043c \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438 \u0440\u0430\u0431\u043e\u0442\u044b \u0441 Legacy Code \u2014 \u043a\u0430\u043a \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c TDD \u043a \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u043c\u0443 \u043a\u043e\u0434\u0443 \u0431\u0435\u0437 \u0442\u0435\u0441\u0442\u043e\u0432.</p>"},{"location":"16_code_coverage_metrics/#_24","title":"\ud83e\uddea \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u0432\u043e\u0438 \u0437\u043d\u0430\u043d\u0438\u044f","text":""},{"location":"16_code_coverage_metrics/#_25","title":"\ud83d\udd17 \u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0442\u0435\u043c\u044b","text":"<ul> <li>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f - \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f</li> <li>Pytest \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a - \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 pytest-cov</li> <li>CI/CD \u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u044f - \u043c\u0435\u0442\u0440\u0438\u043a\u0438 \u0432 CI/CD</li> <li>\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043e\u0448\u0438\u0431\u043e\u043a - \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043e\u0448\u0438\u0431\u043e\u043a</li> <li>\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438 \u0440\u0430\u0431\u043e\u0442\u044b \u0441 Legacy Code - \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 legacy \u043a\u043e\u0434\u0430</li> <li>\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0438 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0438 - \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0434\u043b\u044f \u043c\u0435\u0442\u0440\u0438\u043a</li> </ul> <p>\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430: \u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438 \u0440\u0430\u0431\u043e\u0442\u044b \u0441 Legacy Code</p> <p>\ud83d\udcca \u041f\u043e\u043c\u043d\u0438\u0442\u0435: \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u2014 \u044d\u0442\u043e \u043a\u043e\u043c\u043f\u0430\u0441, \u0430 \u043d\u0435 \u043f\u0443\u043d\u043a\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f!</p>"},{"location":"17_legacy_code_strategies/","title":"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438 \u0440\u0430\u0431\u043e\u0442\u044b \u0441 Legacy Code \u0432 TDD","text":""},{"location":"17_legacy_code_strategies/#_1","title":"\ud83c\udfaf \u0412\u0432\u0435\u0434\u0435\u043d\u0438\u0435","text":"<p>\u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u0443\u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u043d\u044b\u043c \u043a\u043e\u0434\u043e\u043c (Legacy Code) \u2014 \u043e\u0434\u043d\u0430 \u0438\u0437 \u0441\u0430\u043c\u044b\u0445 \u0441\u043b\u043e\u0436\u043d\u044b\u0445 \u0437\u0430\u0434\u0430\u0447 \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435. \u0411\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u043e \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432 \u0441\u0442\u0430\u043b\u043a\u0438\u0432\u0430\u044e\u0442\u0441\u044f \u0441 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0435\u0439, \u043a\u043e\u0433\u0434\u0430 \u043d\u0443\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u044f\u0442\u044c \u0438\u043b\u0438 \u0440\u0430\u0441\u0448\u0438\u0440\u044f\u0442\u044c \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u0434 \u0431\u0435\u0437 \u0442\u0435\u0441\u0442\u043e\u0432. \u0412 \u044d\u0442\u043e\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u0438\u0437\u0443\u0447\u0438\u043c \u043f\u0440\u043e\u0432\u0435\u0440\u0435\u043d\u043d\u044b\u0435 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f TDD \u043a Legacy \u0441\u0438\u0441\u0442\u0435\u043c\u0430\u043c.</p>"},{"location":"17_legacy_code_strategies/#legacy-code","title":"\ud83e\udd14 \u0427\u0442\u043e \u0442\u0430\u043a\u043e\u0435 Legacy Code?","text":""},{"location":"17_legacy_code_strategies/#michael-feathers","title":"\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043f\u043e Michael Feathers","text":"<p>Legacy Code \u2014 \u044d\u0442\u043e \u043a\u043e\u0434 \u0431\u0435\u0437 \u0442\u0435\u0441\u0442\u043e\u0432. \u0411\u0435\u0437 \u0442\u0435\u0441\u0442\u043e\u0432 \u043c\u044b \u043d\u0435 \u0437\u043d\u0430\u0435\u043c, \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u043b\u0438 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043a\u043e\u0434 \u043f\u043e\u0441\u043b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439.</p>"},{"location":"17_legacy_code_strategies/#legacy-code_1","title":"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438 Legacy Code","text":"<pre><code># \u0422\u0438\u043f\u0438\u0447\u043d\u044b\u0439 \u043f\u0440\u0438\u043c\u0435\u0440 Legacy \u043a\u043e\u0434\u0430\nclass OrderProcessor:\n    def __init__(self):\n        self.db = MySQLConnection(\"localhost\", \"orders_db\")  # \u0416\u0435\u0441\u0442\u043a\u0430\u044f \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c\n        self.email_service = SMTPService(\"smtp.company.com\")  # \u0416\u0435\u0441\u0442\u043a\u0430\u044f \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c\n        self.logger = FileLogger(\"/var/log/orders.log\")      # \u0416\u0435\u0441\u0442\u043a\u0430\u044f \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c\n\n    def process_order(self, order_data):\n        # 200+ \u0441\u0442\u0440\u043e\u043a \u0441\u043f\u0430\u0433\u0435\u0442\u0442\u0438-\u043a\u043e\u0434\u0430\n        if not order_data:\n            return False\n\n        # \u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f \u0441\u043c\u0435\u0448\u0430\u043d\u0430 \u0441 \u0431\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u043e\u0439\n        if \"customer_id\" not in order_data or order_data[\"customer_id\"] &lt; 1:\n            self.logger.error(\"Invalid customer ID\")\n            return False\n\n        # \u041f\u0440\u044f\u043c\u044b\u0435 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u043a \u0411\u0414\n        customer = self.db.execute(\"SELECT * FROM customers WHERE id = %s\", \n                                  order_data[\"customer_id\"]).fetchone()\n        if not customer:\n            return False\n\n        # \u0421\u043b\u043e\u0436\u043d\u0430\u044f \u043b\u043e\u0433\u0438\u043a\u0430 \u0431\u0435\u0437 \u0442\u0435\u0441\u0442\u043e\u0432\n        total = 0\n        for item in order_data[\"items\"]:\n            price = self.db.execute(\"SELECT price FROM products WHERE id = %s\", \n                                   item[\"product_id\"]).fetchone()\n            if price:\n                total += price[0] * item[\"quantity\"]\n\n        # \u041f\u043e\u0431\u043e\u0447\u043d\u044b\u0435 \u044d\u0444\u0444\u0435\u043a\u0442\u044b\n        order_id = self.db.execute(\"INSERT INTO orders ...\", ...)\n        self.email_service.send_confirmation(customer[\"email\"], order_id)\n        self.logger.info(f\"Order {order_id} processed\")\n\n        return order_id\n\n# \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u044d\u0442\u043e\u0433\u043e \u043a\u043e\u0434\u0430:\n# 1. \u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c (\u0436\u0435\u0441\u0442\u043a\u0438\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438)\n# 2. \u041d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0435 Single Responsibility Principle\n# 3. \u0422\u0435\u0441\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u043e\u0441\u0442\u044c (tight coupling)\n# 4. \u041d\u0435\u0442 \u0438\u043d\u0432\u0435\u0440\u0441\u0438\u0438 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439\n# 5. \u0421\u043b\u043e\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u044f\u0442\u044c \u0438 \u0440\u0430\u0441\u0448\u0438\u0440\u044f\u0442\u044c\n</code></pre>"},{"location":"17_legacy_code_strategies/#legacy","title":"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u044b Legacy \u0441\u0438\u0441\u0442\u0435\u043c","text":"<ol> <li>\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0435 \u0442\u0435\u0441\u0442\u043e\u0432 \u2014 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u044f\u0442\u044c</li> <li>\u0422\u0435\u0441\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u043e\u0441\u0442\u044c \u2014 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043e\u0434\u043d\u043e\u0433\u043e \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430 \u043b\u043e\u043c\u0430\u0435\u0442 \u0434\u0440\u0443\u0433\u0438\u0435</li> <li>\u041d\u0435\u044f\u0441\u043d\u0430\u044f \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u2014 \u0441\u043b\u043e\u0436\u043d\u043e \u043f\u043e\u043d\u044f\u0442\u044c \u043a\u0430\u043a \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0441\u0438\u0441\u0442\u0435\u043c\u0430</li> <li>\u0411\u043e\u043b\u044c\u0448\u0438\u0435 \u043a\u043b\u0430\u0441\u0441\u044b \u0438 \u043c\u0435\u0442\u043e\u0434\u044b \u2014 \u0442\u0440\u0443\u0434\u043d\u043e \u043f\u043e\u043d\u044f\u0442\u044c \u0438 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c</li> <li>\u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u2014 \u043d\u0435\u043f\u0440\u0435\u0434\u0441\u043a\u0430\u0437\u0443\u0435\u043c\u043e\u0435 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435</li> <li>\u0423\u0441\u0442\u0430\u0440\u0435\u0432\u0448\u0438\u0435 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438 \u2014 \u0441\u043b\u043e\u0436\u043d\u043e \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0442\u044c</li> </ol>"},{"location":"17_legacy_code_strategies/#seams","title":"\ud83d\udd27 Seams \u2014 \u0442\u043e\u0447\u043a\u0438 \u0432\u043d\u0435\u0434\u0440\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f","text":""},{"location":"17_legacy_code_strategies/#seam","title":"\u041a\u043e\u043d\u0446\u0435\u043f\u0446\u0438\u044f Seam","text":"<p>Seam \u2014 \u043c\u0435\u0441\u0442\u043e \u0432 \u043a\u043e\u0434\u0435, \u0433\u0434\u0435 \u043c\u043e\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b \u043d\u0435 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u044f \u043a\u043e\u0434 \u0432 \u044d\u0442\u043e\u043c \u043c\u0435\u0441\u0442\u0435.</p>"},{"location":"17_legacy_code_strategies/#seams-python","title":"\u0422\u0438\u043f\u044b Seams \u0432 Python","text":""},{"location":"17_legacy_code_strategies/#1-object-seam","title":"1. Object Seam (\u041f\u043e\u043b\u0438\u043c\u043e\u0440\u0444\u0438\u0437\u043c)","text":"<pre><code># Legacy \u043a\u043e\u0434 \u0441 \u0436\u0435\u0441\u0442\u043a\u043e\u0439 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c\u044e\nclass EmailNotifier:\n    def __init__(self):\n        self.smtp = SMTPService(\"smtp.company.com\")  # \u0416\u0435\u0441\u0442\u043a\u0430\u044f \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c\n\n    def notify(self, email, message):\n        return self.smtp.send(email, message)\n\n# \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 Seam \u0447\u0435\u0440\u0435\u0437 \u043f\u043e\u043b\u0438\u043c\u043e\u0440\u0444\u0438\u0437\u043c\nclass EmailNotifier:\n    def __init__(self, email_service=None):\n        self.email_service = email_service or SMTPService(\"smtp.company.com\")\n\n    def notify(self, email, message):\n        return self.email_service.send(email, message)\n\n# \u0422\u0435\u043f\u0435\u0440\u044c \u043c\u043e\u0436\u043d\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\ndef test_email_notification():\n    mock_service = Mock()\n    mock_service.send.return_value = True\n\n    notifier = EmailNotifier(email_service=mock_service)\n    result = notifier.notify(\"test@example.com\", \"Hello\")\n\n    assert result is True\n    mock_service.send.assert_called_once_with(\"test@example.com\", \"Hello\")\n</code></pre>"},{"location":"17_legacy_code_strategies/#2-parameter-seam","title":"2. Parameter Seam","text":"<pre><code># Legacy \u043a\u043e\u0434 \u0441 \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u043c\u0438 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044f\u043c\u0438\nimport datetime\n\ndef calculate_age(birth_date):\n    today = datetime.date.today()  # \u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u0430\u044f \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c\n    return today.year - birth_date.year\n\n# \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 Parameter Seam\ndef calculate_age(birth_date, current_date=None):\n    if current_date is None:\n        current_date = datetime.date.today()\n    return current_date.year - birth_date.year\n\n# \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u0443\u0435\u043c\u043e\u0439 \u0434\u0430\u0442\u043e\u0439\ndef test_calculate_age():\n    birth_date = datetime.date(1990, 5, 15)\n    current_date = datetime.date(2024, 8, 26)\n\n    age = calculate_age(birth_date, current_date)\n    assert age == 34\n</code></pre>"},{"location":"17_legacy_code_strategies/#3-monkey-patching-seam","title":"3. Monkey Patching Seam","text":"<pre><code># Legacy \u043a\u043e\u0434, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u043b\u043e\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c\ndef process_payment(amount):\n    response = requests.post(\"https://payment.api/charge\", \n                           json={\"amount\": amount})\n    return response.json()\n\n# \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0447\u0435\u0440\u0435\u0437 monkey patching\ndef test_process_payment(mocker):\n    mock_response = Mock()\n    mock_response.json.return_value = {\"status\": \"success\", \"id\": \"123\"}\n\n    mocker.patch('requests.post', return_value=mock_response)\n\n    result = process_payment(100)\n\n    assert result[\"status\"] == \"success\"\n    assert result[\"id\"] == \"123\"\n</code></pre>"},{"location":"17_legacy_code_strategies/#characterization-tests","title":"\ud83d\udcdd Characterization Tests","text":""},{"location":"17_legacy_code_strategies/#characterization-tests_1","title":"\u0427\u0442\u043e \u0442\u0430\u043a\u043e\u0435 Characterization Tests?","text":"<p>\u0422\u0435\u0441\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0444\u0438\u043a\u0441\u0438\u0440\u0443\u044e\u0442 \u0442\u0435\u043a\u0443\u0449\u0435\u0435 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 Legacy \u043a\u043e\u0434\u0430, \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u044d\u0442\u043e \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0435.</p>"},{"location":"17_legacy_code_strategies/#_2","title":"\u041f\u0440\u043e\u0446\u0435\u0441\u0441 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f","text":"<ol> <li>\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u043a\u043e\u0434 \u0441 \u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u043c\u0438 \u0432\u0445\u043e\u0434\u043d\u044b\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u043c\u0438</li> <li>\u0417\u0430\u0444\u0438\u043a\u0441\u0438\u0440\u0443\u0439\u0442\u0435 \u0432\u044b\u0445\u043e\u0434\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 \u0442\u0435\u0441\u0442\u0435</li> <li>\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0442\u0435\u0441\u0442 \u2014 \u043e\u043d \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442\u044c</li> <li>\u041d\u0430\u0447\u0438\u043d\u0430\u0439\u0442\u0435 \u0440\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433 \u043f\u043e\u0434 \u0437\u0430\u0449\u0438\u0442\u043e\u0439 \u0442\u0435\u0441\u0442\u0430</li> </ol>"},{"location":"17_legacy_code_strategies/#_3","title":"\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043f\u0440\u0438\u043c\u0435\u0440","text":"<pre><code># Legacy \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0441 \u043d\u0435\u043e\u0447\u0435\u0432\u0438\u0434\u043d\u044b\u043c \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435\u043c\ndef calculate_shipping_cost(weight, distance, is_express=False):\n    \"\"\"Legacy \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438.\"\"\"\n    base_cost = weight * 0.5\n\n    if distance &gt; 100:\n        base_cost += distance * 0.1\n    elif distance &gt; 50:\n        base_cost += distance * 0.05\n\n    if is_express:\n        base_cost *= 1.5\n\n    # \u0421\u0442\u0440\u0430\u043d\u043d\u0430\u044f \u043b\u043e\u0433\u0438\u043a\u0430, \u043d\u043e \u0442\u0430\u043a \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0441\u0438\u0441\u0442\u0435\u043c\u0430\n    if weight &gt; 10 and distance &lt; 50:\n        base_cost -= 2\n\n    return round(base_cost, 2)\n\n# \u0421\u043e\u0437\u0434\u0430\u0435\u043c Characterization Tests\nclass TestShippingCostCharacterization:\n    \"\"\"\u0422\u0435\u0441\u0442\u044b, \u0444\u0438\u043a\u0441\u0438\u0440\u0443\u044e\u0449\u0438\u0435 \u0442\u0435\u043a\u0443\u0449\u0435\u0435 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435.\"\"\"\n\n    def test_current_behavior_light_package_short_distance(self):\n        # \u0424\u0438\u043a\u0441\u0438\u0440\u0443\u0435\u043c \u043a\u0430\u043a \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0441\u0435\u0439\u0447\u0430\u0441\n        result = calculate_shipping_cost(weight=5, distance=30)\n        assert result == 2.5\n\n    def test_current_behavior_heavy_package_short_distance(self):\n        # \u0421\u0442\u0440\u0430\u043d\u043d\u043e\u0435 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435, \u043d\u043e \u0444\u0438\u043a\u0441\u0438\u0440\u0443\u0435\u043c\n        result = calculate_shipping_cost(weight=15, distance=30)\n        assert result == 5.5  # 7.5 - 2 = 5.5 (\u0441\u0442\u0440\u0430\u043d\u043d\u0430\u044f \u0441\u043a\u0438\u0434\u043a\u0430)\n\n    def test_current_behavior_express_delivery(self):\n        result = calculate_shipping_cost(weight=5, distance=30, is_express=True)\n        assert result == 3.75  # 2.5 * 1.5\n\n    def test_current_behavior_long_distance(self):\n        result = calculate_shipping_cost(weight=5, distance=120)\n        assert result == 14.5  # 2.5 + 12\n\n    @pytest.mark.parametrize(\"weight,distance,express,expected\", [\n        (1, 10, False, 0.5),\n        (20, 200, True, 45.0),\n        (8, 75, False, 7.75),\n        (12, 40, False, 4.0),  # \u0421\u043e \u0441\u043a\u0438\u0434\u043a\u043e\u0439\n    ])\n    def test_characterization_matrix(self, weight, distance, express, expected):\n        \"\"\"\u041c\u0430\u0442\u0440\u0438\u0446\u0430 \u0442\u0435\u0441\u0442\u043e\u0432 \u0434\u043b\u044f \u0444\u0438\u043a\u0441\u0430\u0446\u0438\u0438 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f.\"\"\"\n        result = calculate_shipping_cost(weight, distance, express)\n        assert result == expected\n</code></pre>"},{"location":"17_legacy_code_strategies/#characterization-tests_2","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 Characterization Tests \u0434\u043b\u044f \u0441\u043b\u043e\u0436\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439","text":"<pre><code># \u0421\u043b\u043e\u0436\u043d\u0430\u044f Legacy \u0444\u0443\u043d\u043a\u0446\u0438\u044f\ndef complex_business_logic(data):\n    \"\"\"\u0421\u043b\u043e\u0436\u043d\u0430\u044f \u0431\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u0430 \u0441 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u043c\u0438 \u043f\u0443\u0442\u044f\u043c\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f.\"\"\"\n    result = {}\n\n    # \u0410\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u0435\u043c \u0444\u0443\u043d\u043a\u0446\u0438\u044e \u0438 \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0442\u0435\u0441\u0442\u044b\n    pass\n\n# \u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 Characterization Tests\ndef generate_characterization_tests():\n    \"\"\"\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0442\u0435\u0441\u0442\u043e\u0432 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f Legacy \u043a\u043e\u0434\u0430.\"\"\"\n    test_cases = []\n\n    # \u0420\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u0432\u0445\u043e\u0434\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435\n    inputs = [\n        {\"id\": 1, \"amount\": 100, \"type\": \"standard\"},\n        {\"id\": 2, \"amount\": 0, \"type\": \"premium\"},\n        {\"id\": 3, \"amount\": -50, \"type\": \"standard\"},\n        {},  # \u041f\u0443\u0441\u0442\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435\n        None,  # None\n    ]\n\n    for i, input_data in enumerate(inputs):\n        try:\n            result = complex_business_logic(input_data)\n            test_cases.append({\n                \"name\": f\"test_case_{i}\",\n                \"input\": input_data,\n                \"expected\": result\n            })\n        except Exception as e:\n            test_cases.append({\n                \"name\": f\"test_case_{i}_exception\",\n                \"input\": input_data,\n                \"exception\": type(e).__name__,\n                \"message\": str(e)\n            })\n\n    return test_cases\n\n# \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\ntest_cases = generate_characterization_tests()\nfor case in test_cases:\n    print(f\"def {case['name']}():\")\n    if 'exception' in case:\n        print(f\"    with pytest.raises({case['exception']}):\")\n        print(f\"        complex_business_logic({case['input']})\")\n    else:\n        print(f\"    result = complex_business_logic({case['input']})\")\n        print(f\"    assert result == {case['expected']}\")\n    print()\n</code></pre>"},{"location":"17_legacy_code_strategies/#legacy_1","title":"\ud83d\udd04 \u0422\u0435\u0445\u043d\u0438\u043a\u0438 \u0438\u0437\u043e\u043b\u044f\u0446\u0438\u0438 Legacy \u043a\u043e\u0434\u0430","text":""},{"location":"17_legacy_code_strategies/#1-extract-and-override","title":"1. Extract and Override","text":"<pre><code># Legacy \u043a\u043b\u0430\u0441\u0441 \u0441 \u0436\u0435\u0441\u0442\u043a\u0438\u043c\u0438 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044f\u043c\u0438\nclass OrderService:\n    def process_order(self, order_data):\n        # \u0416\u0435\u0441\u0442\u043a\u0430\u044f \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c\n        email_sent = self._send_email(order_data[\"customer_email\"])\n\n        if email_sent:\n            return self._save_to_database(order_data)\n        return False\n\n    def _send_email(self, email):\n        # \u0421\u043b\u043e\u0436\u043d\u0430\u044f \u043b\u043e\u0433\u0438\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 email\n        smtp = SMTPService(\"smtp.company.com\")\n        return smtp.send(email, \"Order confirmation\")\n\n    def _save_to_database(self, order_data):\n        # \u0421\u043b\u043e\u0436\u043d\u0430\u044f \u043b\u043e\u0433\u0438\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0432 \u0411\u0414\n        db = DatabaseConnection()\n        return db.save_order(order_data)\n\n# \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0442\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c\u044b\u0439 \u043f\u043e\u0434\u043a\u043b\u0430\u0441\u0441\nclass TestableOrderService(OrderService):\n    def __init__(self):\n        self.email_sent = True\n        self.save_result = True\n\n    def _send_email(self, email):\n        return self.email_sent\n\n    def _save_to_database(self, order_data):\n        return self.save_result\n\n# \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c \u0447\u0435\u0440\u0435\u0437 \u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435\ndef test_order_processing():\n    service = TestableOrderService()\n\n    # \u0422\u0435\u0441\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0439 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438\n    result = service.process_order({\"customer_email\": \"test@example.com\"})\n    assert result is True\n\n    # \u0422\u0435\u0441\u0442 \u043d\u0435\u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0439 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 email\n    service.email_sent = False\n    result = service.process_order({\"customer_email\": \"test@example.com\"})\n    assert result is False\n</code></pre>"},{"location":"17_legacy_code_strategies/#2-wrap-legacy-code","title":"2. Wrap Legacy Code","text":"<pre><code># Legacy \u043a\u043e\u0434, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043d\u0435\u043b\u044c\u0437\u044f \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c\nclass LegacyPaymentProcessor:\n    def process(self, card_number, amount, merchant_id):\n        # 500 \u0441\u0442\u0440\u043e\u043a legacy \u043a\u043e\u0434\u0430\n        # \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0441\u0442\u0440\u0430\u043d\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0434\u0430\u043d\u043d\u044b\u0445\n        return f\"RESULT:{amount}:PROCESSED:{merchant_id}\"\n\n# \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043e\u0431\u0435\u0440\u0442\u043a\u0443\nclass PaymentGateway:\n    def __init__(self, processor=None):\n        self.processor = processor or LegacyPaymentProcessor()\n\n    def charge(self, card_number, amount, merchant_id):\n        \"\"\"\u0421\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0434\u043b\u044f Legacy \u0441\u0438\u0441\u0442\u0435\u043c\u044b.\"\"\"\n        raw_result = self.processor.process(card_number, amount, merchant_id)\n\n        # \u041f\u0430\u0440\u0441\u0438\u043c \u0441\u0442\u0440\u0430\u043d\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442\n        parts = raw_result.split(\":\")\n        if len(parts) &gt;= 3 and parts[2] == \"PROCESSED\":\n            return {\n                \"success\": True,\n                \"amount\": float(parts[1]),\n                \"merchant_id\": parts[3],\n                \"transaction_id\": f\"TXN_{parts[3]}_{parts[1]}\"\n            }\n\n        return {\"success\": False, \"error\": \"Payment failed\"}\n\n# \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c \u043e\u0431\u0435\u0440\u0442\u043a\u0443\ndef test_payment_gateway():\n    mock_processor = Mock()\n    mock_processor.process.return_value = \"RESULT:100.0:PROCESSED:MERCHANT123\"\n\n    gateway = PaymentGateway(processor=mock_processor)\n    result = gateway.charge(\"1234567890123456\", 100.0, \"MERCHANT123\")\n\n    assert result[\"success\"] is True\n    assert result[\"amount\"] == 100.0\n    assert result[\"merchant_id\"] == \"MERCHANT123\"\n</code></pre>"},{"location":"17_legacy_code_strategies/#3-strangler-fig-pattern","title":"3. Strangler Fig Pattern","text":"<p>\u041f\u043e\u0441\u0442\u0435\u043f\u0435\u043d\u043d\u0430\u044f \u0437\u0430\u043c\u0435\u043d\u0430 Legacy \u043a\u043e\u0434\u0430 \u043d\u043e\u0432\u044b\u043c.</p> <pre><code># \u042d\u0442\u0430\u043f 1: Legacy \u0441\u0438\u0441\u0442\u0435\u043c\u0430\nclass LegacyUserService:\n    def get_user(self, user_id):\n        # Old implementation\n        return {\"id\": user_id, \"name\": \"Legacy User\"}\n\n    def update_user(self, user_id, data):\n        # Old implementation\n        return True\n\n# \u042d\u0442\u0430\u043f 2: \u0420\u043e\u0443\u0442\u0435\u0440, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u043a \u0441\u0442\u0430\u0440\u043e\u0439 \u0438\u043b\u0438 \u043d\u043e\u0432\u043e\u0439 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438\nclass UserServiceRouter:\n    def __init__(self):\n        self.legacy_service = LegacyUserService()\n        self.modern_service = ModernUserService()\n        self.migration_flags = FeatureFlags()\n\n    def get_user(self, user_id):\n        if self.migration_flags.is_enabled(\"modern_user_service\"):\n            return self.modern_service.get_user(user_id)\n        return self.legacy_service.get_user(user_id)\n\n    def update_user(self, user_id, data):\n        if self.migration_flags.is_enabled(\"modern_user_updates\"):\n            return self.modern_service.update_user(user_id, data)\n        return self.legacy_service.update_user(user_id, data)\n\n# \u042d\u0442\u0430\u043f 3: \u041d\u043e\u0432\u0430\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f\nclass ModernUserService:\n    def __init__(self, repository):\n        self.repository = repository\n\n    def get_user(self, user_id):\n        return self.repository.find_by_id(user_id)\n\n    def update_user(self, user_id, data):\n        user = self.repository.find_by_id(user_id)\n        user.update(data)\n        return self.repository.save(user)\n\n# \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438\ndef test_strangler_fig_migration():\n    router = UserServiceRouter()\n\n    # \u0422\u0435\u0441\u0442 Legacy \u0440\u0435\u0436\u0438\u043c\u0430\n    router.migration_flags.disable(\"modern_user_service\")\n    user = router.get_user(123)\n    assert user[\"name\"] == \"Legacy User\"\n\n    # \u0422\u0435\u0441\u0442 \u043d\u043e\u0432\u043e\u0433\u043e \u0440\u0435\u0436\u0438\u043c\u0430\n    router.migration_flags.enable(\"modern_user_service\")\n    # \u041d\u0443\u0436\u043d\u043e \u0437\u0430\u043c\u043e\u043a\u0430\u0442\u044c modern_service\n    mock_modern = Mock()\n    mock_modern.get_user.return_value = {\"id\": 123, \"name\": \"Modern User\"}\n    router.modern_service = mock_modern\n\n    user = router.get_user(123)\n    assert user[\"name\"] == \"Modern User\"\n</code></pre>"},{"location":"17_legacy_code_strategies/#tdd-legacy","title":"\ud83d\udee0 \u041f\u043e\u0441\u0442\u0435\u043f\u0435\u043d\u043d\u043e\u0435 \u0432\u043d\u0435\u0434\u0440\u0435\u043d\u0438\u0435 TDD \u0432 Legacy","text":""},{"location":"17_legacy_code_strategies/#add-tdd-to-new-features","title":"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f: Add TDD to New Features","text":"<pre><code># \u0421\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 Legacy \u043a\u043b\u0430\u0441\u0441\nclass LegacyOrderProcessor:\n    # 1000 \u0441\u0442\u0440\u043e\u043a legacy \u043a\u043e\u0434\u0430\n    pass\n\n# \u041d\u043e\u0432\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 TDD\nclass OrderValidationService:\n    \"\"\"\u041d\u043e\u0432\u044b\u0439 \u0441\u0435\u0440\u0432\u0438\u0441, \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0439 \u0447\u0435\u0440\u0435\u0437 TDD.\"\"\"\n\n    def validate_order(self, order_data):\n        errors = []\n\n        if not order_data:\n            errors.append(\"Order data is required\")\n\n        if \"customer_id\" not in order_data:\n            errors.append(\"Customer ID is required\")\n\n        if \"items\" not in order_data or not order_data[\"items\"]:\n            errors.append(\"Order must contain items\")\n\n        return {\"valid\": len(errors) == 0, \"errors\": errors}\n\n# TDD \u0442\u0435\u0441\u0442\u044b \u0434\u043b\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u0430\nclass TestOrderValidation:\n    def test_empty_order_data(self):\n        validator = OrderValidationService()\n        result = validator.validate_order(None)\n\n        assert result[\"valid\"] is False\n        assert \"Order data is required\" in result[\"errors\"]\n\n    def test_missing_customer_id(self):\n        validator = OrderValidationService()\n        result = validator.validate_order({\"items\": [\"item1\"]})\n\n        assert result[\"valid\"] is False\n        assert \"Customer ID is required\" in result[\"errors\"]\n\n    def test_valid_order(self):\n        validator = OrderValidationService()\n        order_data = {\n            \"customer_id\": 123,\n            \"items\": [{\"id\": 1, \"quantity\": 2}]\n        }\n        result = validator.validate_order(order_data)\n\n        assert result[\"valid\"] is True\n        assert result[\"errors\"] == []\n\n# \u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0441 Legacy \u043a\u043e\u0434\u043e\u043c\nclass ModernOrderProcessor:\n    def __init__(self):\n        self.legacy_processor = LegacyOrderProcessor()\n        self.validator = OrderValidationService()\n\n    def process_order(self, order_data):\n        # \u041d\u043e\u0432\u0430\u044f \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f \u0447\u0435\u0440\u0435\u0437 TDD\n        validation = self.validator.validate_order(order_data)\n        if not validation[\"valid\"]:\n            return {\"success\": False, \"errors\": validation[\"errors\"]}\n\n        # \u0414\u0435\u043b\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 Legacy \u043a\u043e\u0434\u0443\n        return self.legacy_processor.process_order(order_data)\n</code></pre>"},{"location":"17_legacy_code_strategies/#refactor-under-test","title":"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f: Refactor Under Test","text":"<pre><code># Legacy \u043c\u0435\u0442\u043e\u0434, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043d\u0443\u0436\u043d\u043e \u0440\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u0442\u044c\nclass UserAccount:\n    def calculate_monthly_fee(self, account_type, balance, transaction_count):\n        # \u0421\u043b\u043e\u0436\u043d\u0430\u044f legacy \u043b\u043e\u0433\u0438\u043a\u0430\n        fee = 0\n\n        if account_type == \"premium\":\n            fee = 10\n        elif account_type == \"standard\":\n            fee = 5\n        else:\n            fee = 0\n\n        if balance &lt; 1000:\n            fee += 2\n\n        if transaction_count &gt; 10:\n            fee += transaction_count * 0.1\n\n        return fee\n\n# \u0428\u0430\u0433 1: \u0421\u043e\u0437\u0434\u0430\u0435\u043c Characterization Tests\ndef test_monthly_fee_characterization():\n    account = UserAccount()\n\n    # \u0424\u0438\u043a\u0441\u0438\u0440\u0443\u0435\u043c \u0442\u0435\u043a\u0443\u0449\u0435\u0435 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435\n    assert account.calculate_monthly_fee(\"premium\", 2000, 5) == 10.0\n    assert account.calculate_monthly_fee(\"standard\", 500, 15) == 8.5  # 5 + 2 + 1.5\n    assert account.calculate_monthly_fee(\"basic\", 1500, 8) == 0.0\n\n# \u0428\u0430\u0433 2: \u0420\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043c \u043f\u043e\u0434 \u0437\u0430\u0449\u0438\u0442\u043e\u0439 \u0442\u0435\u0441\u0442\u043e\u0432\nclass UserAccount:\n    def calculate_monthly_fee(self, account_type, balance, transaction_count):\n        fee = self._get_base_fee(account_type)\n        fee += self._get_balance_fee(balance)\n        fee += self._get_transaction_fee(transaction_count)\n        return fee\n\n    def _get_base_fee(self, account_type):\n        fees = {\"premium\": 10, \"standard\": 5}\n        return fees.get(account_type, 0)\n\n    def _get_balance_fee(self, balance):\n        return 2 if balance &lt; 1000 else 0\n\n    def _get_transaction_fee(self, transaction_count):\n        return max(0, transaction_count - 10) * 0.1\n\n# \u0428\u0430\u0433 3: \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043d\u043e\u0432\u044b\u0435 TDD \u0442\u0435\u0441\u0442\u044b \u0434\u043b\u044f \u043d\u043e\u0432\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438\ndef test_fee_calculation_edge_cases():\n    account = UserAccount()\n\n    # \u041d\u043e\u0432\u044b\u0435 edge cases \u0447\u0435\u0440\u0435\u0437 TDD\n    assert account.calculate_monthly_fee(\"unknown\", 0, 0) == 2.0\n    assert account.calculate_monthly_fee(\"premium\", 999, 100) == 21.0\n</code></pre>"},{"location":"17_legacy_code_strategies/#legacy_2","title":"\ud83e\uddea \u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u0431\u043e\u043b\u044c\u0448\u0438\u043c\u0438 Legacy \u043a\u043b\u0430\u0441\u0441\u0430\u043c\u0438","text":""},{"location":"17_legacy_code_strategies/#god-object-refactoring","title":"God Object Refactoring","text":"<pre><code># \u0422\u0438\u043f\u0438\u0447\u043d\u044b\u0439 God Object \u0432 Legacy \u043a\u043e\u0434\u0435\nclass OrderManager:\n    def __init__(self):\n        self.db = DatabaseConnection()\n        self.email_service = EmailService()\n        self.payment_processor = PaymentProcessor()\n        self.inventory = InventoryService()\n        self.logger = Logger()\n\n    def process_complete_order(self, order_data):\n        # 300+ \u0441\u0442\u0440\u043e\u043a \u043a\u043e\u0434\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0434\u0435\u043b\u0430\u0435\u0442 \u0432\u0441\u0435\n\n        # \u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f\n        if not self._validate_order(order_data):\n            return False\n\n        # \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 inventory\n        if not self._check_inventory(order_data):\n            return False\n\n        # \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043f\u043b\u0430\u0442\u0435\u0436\u0430\n        payment_result = self._process_payment(order_data)\n        if not payment_result:\n            return False\n\n        # \u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430\n        order_id = self._save_order(order_data)\n\n        # \u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 email\n        self._send_confirmation_email(order_data, order_id)\n\n        # \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 inventory\n        self._update_inventory(order_data)\n\n        return order_id\n\n    # 20+ \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0445 \u043c\u0435\u0442\u043e\u0434\u043e\u0432...\n\n# \u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f \u0440\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433\u0430: Extract Service Object\nclass OrderValidator:\n    \"\"\"\u0412\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438.\"\"\"\n\n    @staticmethod\n    def validate(order_data):\n        errors = []\n\n        if not order_data:\n            errors.append(\"Order data is required\")\n\n        if \"customer_id\" not in order_data:\n            errors.append(\"Customer ID is required\")\n\n        return {\"valid\": len(errors) == 0, \"errors\": errors}\n\nclass InventoryChecker:\n    \"\"\"\u0412\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 inventory.\"\"\"\n\n    def __init__(self, inventory_service):\n        self.inventory = inventory_service\n\n    def check_availability(self, items):\n        for item in items:\n            if not self.inventory.is_available(item[\"id\"], item[\"quantity\"]):\n                return False\n        return True\n\nclass OrderOrchestrator:\n    \"\"\"\u041d\u043e\u0432\u044b\u0439 \u043a\u043b\u0430\u0441\u0441, \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u0441.\"\"\"\n\n    def __init__(self, validator, inventory_checker, payment_processor):\n        self.validator = validator\n        self.inventory_checker = inventory_checker\n        self.payment_processor = payment_processor\n\n    def process_order(self, order_data):\n        # \u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0446\u0438\u044f \u0447\u0435\u0440\u0435\u0437 dependency injection\n        validation = self.validator.validate(order_data)\n        if not validation[\"valid\"]:\n            return {\"success\": False, \"errors\": validation[\"errors\"]}\n\n        if not self.inventory_checker.check_availability(order_data[\"items\"]):\n            return {\"success\": False, \"errors\": [\"Items not available\"]}\n\n        payment_result = self.payment_processor.process(order_data)\n        return payment_result\n\n# \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0439 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u044b\ndef test_order_orchestrator():\n    mock_validator = Mock()\n    mock_validator.validate.return_value = {\"valid\": True, \"errors\": []}\n\n    mock_inventory = Mock()\n    mock_inventory.check_availability.return_value = True\n\n    mock_payment = Mock()\n    mock_payment.process.return_value = {\"success\": True, \"order_id\": 123}\n\n    orchestrator = OrderOrchestrator(mock_validator, mock_inventory, mock_payment)\n    result = orchestrator.process_order({\"customer_id\": 1, \"items\": []})\n\n    assert result[\"success\"] is True\n    assert result[\"order_id\"] == 123\n</code></pre>"},{"location":"17_legacy_code_strategies/#legacy_3","title":"\ud83d\udd12 \u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f Legacy \u043a\u043e\u0434\u0430","text":""},{"location":"17_legacy_code_strategies/#_4","title":"\u041f\u0440\u0438\u043d\u0446\u0438\u043f\u044b \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0433\u043e \u0440\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433\u0430","text":"<ol> <li>\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 Safety Net \u0438\u0437 \u0442\u0435\u0441\u0442\u043e\u0432</li> <li>\u0414\u0435\u043b\u0430\u0439\u0442\u0435 \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0438\u0435 \u0448\u0430\u0433\u0438</li> <li>\u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0439\u0442\u0435 \u0442\u0435\u0441\u0442\u044b \u043f\u043e\u0441\u043b\u0435 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f</li> <li>\u041a\u043e\u043c\u043c\u0438\u0442\u044c\u0442\u0435 \u0447\u0430\u0441\u0442\u043e</li> <li>\u0418\u043c\u0435\u0439\u0442\u0435 \u043f\u043b\u0430\u043d \u043e\u0442\u043a\u0430\u0442\u0430</li> </ol>"},{"location":"17_legacy_code_strategies/#parallel-change","title":"\u0422\u0435\u0445\u043d\u0438\u043a\u0430: Parallel Change","text":"<pre><code># \u042d\u0442\u0430\u043f 1: \u0421\u0442\u0430\u0440\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\nclass UserService:\n    def get_user_by_id(self, user_id):\n        # Legacy implementation\n        return self.db.query(f\"SELECT * FROM users WHERE id = {user_id}\")\n\n# \u042d\u0442\u0430\u043f 2: \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043d\u043e\u0432\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e\nclass UserService:\n    def get_user_by_id(self, user_id):\n        # Legacy implementation - \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u043c \u043a\u0430\u043a \u0435\u0441\u0442\u044c\n        return self.db.query(f\"SELECT * FROM users WHERE id = {user_id}\")\n\n    def find_user(self, user_id):\n        # \u041d\u043e\u0432\u0430\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u0430\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f\n        return self.repository.find_by_id(user_id)\n\n# \u042d\u0442\u0430\u043f 3: \u041f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u043c \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 \u043d\u0430 \u043d\u043e\u0432\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\nclass OrderService:\n    def __init__(self, user_service):\n        self.user_service = user_service\n\n    def process_order(self, user_id, order_data):\n        # \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u043d\u043e\u0432\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\n        user = self.user_service.find_user(user_id)\n        # ...\n\n# \u042d\u0442\u0430\u043f 4: \u0423\u0434\u0430\u043b\u044f\u0435\u043c \u0441\u0442\u0430\u0440\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 (\u043a\u043e\u0433\u0434\u0430 \u0432\u0441\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u044b \u043c\u0438\u0433\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b)\nclass UserService:\n    def find_user(self, user_id):\n        return self.repository.find_by_id(user_id)\n</code></pre>"},{"location":"17_legacy_code_strategies/#branch-by-abstraction","title":"Branch by Abstraction","text":"<pre><code># Legacy \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f\ndef send_notification(user_id, message):\n    email = get_user_email(user_id)\n    smtp_send(email, message)\n\n# \u0428\u0430\u0433 1: \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0430\u0431\u0441\u0442\u0440\u0430\u043a\u0446\u0438\u044e\nclass NotificationSender:\n    def send(self, user_id, message):\n        raise NotImplementedError\n\nclass EmailNotificationSender(NotificationSender):\n    def send(self, user_id, message):\n        email = get_user_email(user_id)\n        smtp_send(email, message)\n\n# \u0428\u0430\u0433 2: \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0440\u043e\u0443\u0442\u0435\u0440 \u0441 feature flag\nclass NotificationRouter(NotificationSender):\n    def __init__(self):\n        self.email_sender = EmailNotificationSender()\n        self.push_sender = PushNotificationSender()  # \u041d\u043e\u0432\u0430\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f\n        self.feature_flags = FeatureFlags()\n\n    def send(self, user_id, message):\n        if self.feature_flags.is_enabled(\"push_notifications\"):\n            return self.push_sender.send(user_id, message)\n        return self.email_sender.send(user_id, message)\n\n# \u0428\u0430\u0433 3: \u0417\u0430\u043c\u0435\u043d\u044f\u0435\u043c \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u0443\u044e \u0444\u0443\u043d\u043a\u0446\u0438\u044e\ndef send_notification(user_id, message):\n    router = NotificationRouter()\n    return router.send(user_id, message)\n\n# \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438\ndef test_notification_migration():\n    with feature_flag(\"push_notifications\", enabled=True):\n        # \u0422\u0435\u0441\u0442 \u043d\u043e\u0432\u043e\u0439 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438\n        pass\n\n    with feature_flag(\"push_notifications\", enabled=False):\n        # \u0422\u0435\u0441\u0442 \u0441\u0442\u0430\u0440\u043e\u0439 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438\n        pass\n</code></pre>"},{"location":"17_legacy_code_strategies/#legacy_4","title":"\ud83d\udcca \u041c\u0435\u0442\u0440\u0438\u043a\u0438 \u0443\u0441\u043f\u0435\u0445\u0430 \u0440\u0430\u0431\u043e\u0442\u044b \u0441 Legacy","text":""},{"location":"17_legacy_code_strategies/#code-health-metrics","title":"Code Health Metrics","text":"<pre><code># \u0421\u043a\u0440\u0438\u043f\u0442 \u0434\u043b\u044f \u043e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u043d\u0438\u044f \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u044f Legacy \u043a\u043e\u0434\u0430\nimport ast\nimport os\nfrom pathlib import Path\n\nclass LegacyHealthTracker:\n    def __init__(self, source_dir):\n        self.source_dir = Path(source_dir)\n\n    def calculate_metrics(self):\n        metrics = {\n            \"total_files\": 0,\n            \"files_with_tests\": 0,\n            \"average_complexity\": 0,\n            \"large_classes\": 0,\n            \"large_methods\": 0,\n            \"dependency_violations\": 0\n        }\n\n        for py_file in self.source_dir.glob(\"**/*.py\"):\n            metrics[\"total_files\"] += 1\n\n            # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u0442\u0435\u0441\u0442\u043e\u0432\n            test_file = self._find_test_file(py_file)\n            if test_file.exists():\n                metrics[\"files_with_tests\"] += 1\n\n            # \u0410\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u0435\u043c \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c\n            complexity = self._calculate_complexity(py_file)\n            metrics[\"average_complexity\"] += complexity\n\n            # \u0418\u0449\u0435\u043c \u0431\u043e\u043b\u044c\u0448\u0438\u0435 \u043a\u043b\u0430\u0441\u0441\u044b/\u043c\u0435\u0442\u043e\u0434\u044b\n            large_classes, large_methods = self._find_large_constructs(py_file)\n            metrics[\"large_classes\"] += large_classes\n            metrics[\"large_methods\"] += large_methods\n\n        if metrics[\"total_files\"] &gt; 0:\n            metrics[\"average_complexity\"] /= metrics[\"total_files\"]\n            metrics[\"test_coverage_ratio\"] = metrics[\"files_with_tests\"] / metrics[\"total_files\"]\n\n        return metrics\n\n    def _find_test_file(self, source_file):\n        # \u0418\u0449\u0435\u043c \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0439 \u0444\u0430\u0439\u043b\n        test_name = f\"test_{source_file.name}\"\n        return source_file.parent / \"tests\" / test_name\n\n    def _calculate_complexity(self, file_path):\n        # \u0423\u043f\u0440\u043e\u0449\u0435\u043d\u043d\u044b\u0439 \u0440\u0430\u0441\u0447\u0435\u0442 \u0446\u0438\u043a\u043b\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u0438\n        with open(file_path, 'r') as f:\n            try:\n                tree = ast.parse(f.read())\n                complexity = 1  # \u0411\u0430\u0437\u043e\u0432\u0430\u044f \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c\n\n                for node in ast.walk(tree):\n                    if isinstance(node, (ast.If, ast.While, ast.For, ast.ExceptHandler)):\n                        complexity += 1\n\n                return complexity\n            except:\n                return 0\n\n    def _find_large_constructs(self, file_path):\n        # \u0418\u0449\u0435\u043c \u0431\u043e\u043b\u044c\u0448\u0438\u0435 \u043a\u043b\u0430\u0441\u0441\u044b \u0438 \u043c\u0435\u0442\u043e\u0434\u044b\n        large_classes = 0\n        large_methods = 0\n\n        with open(file_path, 'r') as f:\n            lines = f.readlines()\n\n            # \u041f\u0440\u043e\u0441\u0442\u043e\u0439 \u043f\u043e\u0434\u0441\u0447\u0435\u0442 \u0441\u0442\u0440\u043e\u043a \u0432 \u043a\u043b\u0430\u0441\u0441\u0430\u0445/\u043c\u0435\u0442\u043e\u0434\u0430\u0445\n            # \u0412 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u043d\u0443\u0436\u0435\u043d \u0431\u043e\u043b\u0435\u0435 \u0441\u043b\u043e\u0436\u043d\u044b\u0439 \u0430\u043d\u0430\u043b\u0438\u0437\n\n        return large_classes, large_methods\n\n# \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\ntracker = LegacyHealthTracker(\"src/\")\nmetrics = tracker.calculate_metrics()\n\nprint(f\"Test Coverage: {metrics['test_coverage_ratio']:.2%}\")\nprint(f\"Average Complexity: {metrics['average_complexity']:.1f}\")\nprint(f\"Large Classes: {metrics['large_classes']}\")\n</code></pre>"},{"location":"17_legacy_code_strategies/#regression-testing","title":"Regression Testing","text":"<pre><code># \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 regression \u0442\u0435\u0441\u0442\u043e\u0432\nclass RegressionTestGenerator:\n    def __init__(self, module):\n        self.module = module\n        self.test_cases = []\n\n    def capture_behavior(self, function_name, test_inputs):\n        \"\"\"\u0417\u0430\u0445\u0432\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0434\u043b\u044f regression \u0442\u0435\u0441\u0442\u043e\u0432.\"\"\"\n        func = getattr(self.module, function_name)\n\n        for i, inputs in enumerate(test_inputs):\n            try:\n                if isinstance(inputs, dict):\n                    result = func(**inputs)\n                else:\n                    result = func(*inputs)\n\n                self.test_cases.append({\n                    \"function\": function_name,\n                    \"inputs\": inputs,\n                    \"expected\": result,\n                    \"test_name\": f\"test_{function_name}_case_{i}\"\n                })\n\n            except Exception as e:\n                self.test_cases.append({\n                    \"function\": function_name,\n                    \"inputs\": inputs,\n                    \"exception\": type(e).__name__,\n                    \"message\": str(e),\n                    \"test_name\": f\"test_{function_name}_exception_case_{i}\"\n                })\n\n    def generate_test_file(self, output_path):\n        \"\"\"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u0444\u0430\u0439\u043b \u0441 regression \u0442\u0435\u0441\u0442\u0430\u043c\u0438.\"\"\"\n        with open(output_path, 'w') as f:\n            f.write(\"import pytest\\n\")\n            f.write(f\"from {self.module.__name__} import *\\n\\n\")\n\n            for case in self.test_cases:\n                f.write(f\"def {case['test_name']}():\\n\")\n                f.write(f'    \"\"\"Regression test for {case[\"function\"]}.\"\"\"\\n')\n\n                if \"exception\" in case:\n                    f.write(f\"    with pytest.raises({case['exception']}):\\n\")\n                    f.write(f\"        {case['function']}{case['inputs']}\\n\")\n                else:\n                    f.write(f\"    result = {case['function']}{case['inputs']}\\n\")\n                    f.write(f\"    assert result == {repr(case['expected'])}\\n\")\n\n                f.write(\"\\n\")\n\n# \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f Legacy \u0444\u0443\u043d\u043a\u0446\u0438\u0438\nimport legacy_module\n\ngenerator = RegressionTestGenerator(legacy_module)\ngenerator.capture_behavior(\"calculate_discount\", [\n    (100, 10),\n    (50, 25),\n    (0, 10),\n    (-10, 5),\n])\n\ngenerator.generate_test_file(\"test_legacy_regression.py\")\n</code></pre>"},{"location":"17_legacy_code_strategies/#_5","title":"\ud83c\udfaf \u041b\u0443\u0447\u0448\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438","text":""},{"location":"17_legacy_code_strategies/#dos","title":"\u2705 Do's","text":"<ol> <li>\u041d\u0430\u0447\u0438\u043d\u0430\u0439\u0442\u0435 \u0441 Characterization Tests</li> <li>\u0421\u043e\u0437\u0434\u0430\u0432\u0430\u0439\u0442\u0435 Seams \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f</li> <li>\u0420\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u044c\u0442\u0435 \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0438\u043c\u0438 \u0448\u0430\u0433\u0430\u043c\u0438</li> <li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 Strangler Fig \u0434\u043b\u044f \u0431\u043e\u043b\u044c\u0448\u0438\u0445 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439</li> <li>\u0418\u0437\u043c\u0435\u0440\u044f\u0439\u0442\u0435 \u043f\u0440\u043e\u0433\u0440\u0435\u0441\u0441 \u043c\u0435\u0442\u0440\u0438\u043a\u0430\u043c\u0438</li> <li>\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438\u0440\u0443\u0439\u0442\u0435 Legacy \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435</li> <li>\u0418\u043c\u0435\u0439\u0442\u0435 \u043f\u043b\u0430\u043d \u043e\u0442\u043a\u0430\u0442\u0430</li> </ol>"},{"location":"17_legacy_code_strategies/#donts","title":"\u274c Don'ts","text":"<ol> <li>\u041d\u0435 \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u044b\u0432\u0430\u0439\u0442\u0435 \u0441 \u043d\u0443\u043b\u044f \u0431\u0435\u0437 \u043e\u0441\u0442\u0440\u043e\u0439 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438</li> <li>\u041d\u0435 \u0438\u0437\u043c\u0435\u043d\u044f\u0439\u0442\u0435 \u043a\u043e\u0434 \u0431\u0435\u0437 \u0442\u0435\u0441\u0442\u043e\u0432</li> <li>\u041d\u0435 \u0434\u0435\u043b\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0438\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0437\u0430 \u0440\u0430\u0437</li> <li>\u041d\u0435 \u0438\u0433\u043d\u043e\u0440\u0438\u0440\u0443\u0439\u0442\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0435 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435</li> <li>\u041d\u0435 \u0443\u0434\u0430\u043b\u044f\u0439\u0442\u0435 \u043a\u043e\u0434 \"\u043f\u0440\u043e\u0441\u0442\u043e \u043f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e \u043e\u043d \u0441\u0442\u0430\u0440\u044b\u0439\"</li> </ol>"},{"location":"17_legacy_code_strategies/#_6","title":"\ud83d\udd2e \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0448\u0430\u0433\u0438","text":"<p>\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u0438\u0437\u0443\u0447\u0438\u043c \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 \u0442\u0435\u0445\u043d\u0438\u043a\u0438 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441\u043e \u0441\u043b\u043e\u0436\u043d\u044b\u043c\u0438 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044f\u043c\u0438: \u0431\u0430\u0437\u0430\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u0445, \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u043c \u043a\u043e\u0434\u043e\u043c \u0438 \u0432\u043d\u0435\u0448\u043d\u0438\u043c\u0438 \u0441\u0435\u0440\u0432\u0438\u0441\u0430\u043c\u0438.</p>"},{"location":"17_legacy_code_strategies/#_7","title":"\ud83e\uddea \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u0432\u043e\u0438 \u0437\u043d\u0430\u043d\u0438\u044f","text":""},{"location":"17_legacy_code_strategies/#_8","title":"\ud83d\udd17 \u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0442\u0435\u043c\u044b","text":"<ul> <li>\u041e\u0441\u043d\u043e\u0432\u044b TDD - \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 TDD \u043a legacy \u043a\u043e\u0434\u0443</li> <li>Mock \u043e\u0431\u044a\u0435\u043a\u0442\u044b - \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f legacy \u043a\u043e\u0434\u0430</li> <li>\u041c\u0435\u0442\u0440\u0438\u043a\u0438 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f \u043a\u043e\u0434\u0430 - \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u0435 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f legacy \u043a\u043e\u0434\u0430</li> <li>\u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u043e\u0435 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 - \u0441\u043b\u043e\u0436\u043d\u044b\u0435 \u043c\u043e\u043a\u0438 \u0434\u043b\u044f legacy</li> <li>TDD \u0438 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 - \u0440\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433 legacy \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u044b</li> <li>\u041b\u0443\u0447\u0448\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438 - \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438 \u0440\u0430\u0431\u043e\u0442\u044b \u0441 legacy \u043a\u043e\u0434\u043e\u043c</li> </ul> <p>\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430: \u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u043e\u0435 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435</p> <p>\ud83c\udfd7\ufe0f \u041f\u043e\u043c\u043d\u0438\u0442\u0435: Legacy \u043a\u043e\u0434 \u2014 \u044d\u0442\u043e \u043d\u0435 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0434\u043e\u043b\u0433, \u044d\u0442\u043e \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0434\u043b\u044f \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f!</p>"},{"location":"18_advanced_mocking/","title":"\u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u043e\u0435 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043b\u043e\u0436\u043d\u044b\u0445 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439","text":""},{"location":"18_advanced_mocking/#_2","title":"\ud83c\udfaf \u0412\u0432\u0435\u0434\u0435\u043d\u0438\u0435","text":"<p>\u041f\u043e\u0441\u043b\u0435 \u043e\u0441\u0432\u043e\u0435\u043d\u0438\u044f \u0431\u0430\u0437\u043e\u0432\u044b\u0445 \u0442\u0435\u0445\u043d\u0438\u043a \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u0438\u0448\u043b\u043e \u0432\u0440\u0435\u043c\u044f \u0438\u0437\u0443\u0447\u0438\u0442\u044c \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0438. \u0412 \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u0445 \u0432\u044b \u0441\u0442\u043e\u043b\u043a\u043d\u0435\u0442\u0435\u0441\u044c \u0441 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u044c\u044e \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0431\u0430\u0437 \u0434\u0430\u043d\u043d\u044b\u0445, \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0433\u043e \u043a\u043e\u0434\u0430, \u0444\u0430\u0439\u043b\u043e\u0432\u044b\u0445 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439, \u0432\u043d\u0435\u0448\u043d\u0438\u0445 API \u0438 \u0434\u0440\u0443\u0433\u0438\u0445 \u0441\u043b\u043e\u0436\u043d\u044b\u0445 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439. \u042d\u0442\u0430 \u0433\u043b\u0430\u0432\u0430 \u043f\u043e\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u0432\u0441\u0435 \u044d\u0442\u0438 \u0430\u0441\u043f\u0435\u043a\u0442\u044b \u0441 \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u043c\u0438 \u043f\u0440\u0438\u043c\u0435\u0440\u0430\u043c\u0438.</p>"},{"location":"18_advanced_mocking/#_3","title":"\ud83d\uddc4\ufe0f \u041c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u0437 \u0434\u0430\u043d\u043d\u044b\u0445","text":""},{"location":"18_advanced_mocking/#_4","title":"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0441 \u0411\u0414","text":""},{"location":"18_advanced_mocking/#setup-sqlalchemy-models","title":"Setup: SQLAlchemy Models","text":"<p>\u0412\u0441\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b \u0432 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043c\u043e\u0434\u0435\u043b\u0435\u0439:</p> <pre><code>from sqlalchemy import Column, Integer, String\nfrom sqlalchemy.ext.declarative import declarative_base\n\n# Create declarative base\nBase = declarative_base()\n\n# User model\nclass User(Base):\n    __tablename__ = 'users'\n\n    id = Column(Integer, primary_key=True)\n    name = Column(String(100), nullable=False)\n    email = Column(String(100), unique=True, nullable=False)\n</code></pre>"},{"location":"18_advanced_mocking/#1-in-memory-database","title":"1. In-Memory Database","text":"<pre><code># Note: Base and User are defined in the Setup section above\n# \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 SQLite \u0432 \u043f\u0430\u043c\u044f\u0442\u0438 \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u043e\u0432\nimport pytest\nimport sqlite3\nfrom sqlalchemy import create_engine\nfrom sqlalchemy.orm import sessionmaker\n\nclass UserRepository:\n    def __init__(self, session):\n        self.session = session\n\n    def create_user(self, name, email):\n        user = User(name=name, email=email)\n        self.session.add(user)\n        self.session.commit()\n        return user\n\n    def find_by_email(self, email):\n        return self.session.query(User).filter_by(email=email).first()\n\n# \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 in-memory \u0411\u0414 \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u043e\u0432\n@pytest.fixture\ndef in_memory_db():\n    \"\"\"\u0421\u043e\u0437\u0434\u0430\u0435\u0442 in-memory SQLite \u0431\u0430\u0437\u0443 \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u043e\u0432.\"\"\"\n    engine = create_engine(\"sqlite:///:memory:\", echo=False)\n    Base.metadata.create_all(engine)\n\n    Session = sessionmaker(bind=engine)\n    session = Session()\n\n    yield session\n\n    session.close()\n\ndef test_user_repository_with_in_memory_db(in_memory_db):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0439 in-memory \u0411\u0414.\"\"\"\n    repo = UserRepository(in_memory_db)\n\n    # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\n    user = repo.create_user(\"John Doe\", \"john@example.com\")\n    assert user.id is not None\n\n    # \u0418\u0449\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\n    found_user = repo.find_by_email(\"john@example.com\")\n    assert found_user.name == \"John Doe\"\n</code></pre>"},{"location":"18_advanced_mocking/#2-test-doubles-orm","title":"2. Test Doubles \u0434\u043b\u044f ORM","text":"<pre><code># Note: Base and User are defined in the Setup section above\n# \u041c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 SQLAlchemy \u0441\u0435\u0441\u0441\u0438\u0438\ndef test_user_repository_with_mocked_session(mocker):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441 \u0437\u0430\u043c\u043e\u043a\u0430\u043d\u043d\u043e\u0439 \u0441\u0435\u0441\u0441\u0438\u0435\u0439.\"\"\"\n    mock_session = mocker.Mock()\n    mock_user = mocker.Mock()\n    mock_user.id = 1\n    mock_user.name = \"John Doe\"\n    mock_user.email = \"john@example.com\"\n\n    # \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043c\u043e\u043a\u0430\n    mock_session.query.return_value.filter_by.return_value.first.return_value = mock_user\n\n    repo = UserRepository(mock_session)\n    user = repo.find_by_email(\"john@example.com\")\n\n    assert user.name == \"John Doe\"\n    mock_session.query.assert_called_once_with(User)\n    mock_session.query.return_value.filter_by.assert_called_once_with(email=\"john@example.com\")\n</code></pre>"},{"location":"18_advanced_mocking/#3-repository-pattern","title":"3. Repository Pattern \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c\u043e\u0441\u0442\u0438","text":"<pre><code># Note: Base and User are defined in the Setup section above\nfrom abc import ABC, abstractmethod\nfrom typing import Optional\n\nclass UserRepositoryInterface(ABC):\n    @abstractmethod\n    def create_user(self, name: str, email: str) -&gt; User:\n        pass\n\n    @abstractmethod\n    def find_by_email(self, email: str) -&gt; Optional[User]:\n        pass\n\nclass SQLAlchemyUserRepository(UserRepositoryInterface):\n    \"\"\"\u0420\u0435\u0430\u043b\u044c\u043d\u0430\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0441 SQLAlchemy.\"\"\"\n\n    def __init__(self, session):\n        self.session = session\n\n    def create_user(self, name: str, email: str) -&gt; User:\n        user = User(name=name, email=email)\n        self.session.add(user)\n        self.session.commit()\n        return user\n\n    def find_by_email(self, email: str) -&gt; Optional[User]:\n        return self.session.query(User).filter_by(email=email).first()\n\nclass FakeUserRepository(UserRepositoryInterface):\n    \"\"\"Fake \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u043e\u0432.\"\"\"\n\n    def __init__(self):\n        self.users = {}\n        self.next_id = 1\n\n    def create_user(self, name: str, email: str) -&gt; User:\n        user = User(id=self.next_id, name=name, email=email)\n        self.users[email] = user\n        self.next_id += 1\n        return user\n\n    def find_by_email(self, email: str) -&gt; Optional[User]:\n        return self.users.get(email)\n\n# \u0421\u0435\u0440\u0432\u0438\u0441, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0449\u0438\u0439 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439\nclass UserService:\n    def __init__(self, user_repository: UserRepositoryInterface):\n        self.user_repository = user_repository\n\n    def register_user(self, name: str, email: str) -&gt; User:\n        existing_user = self.user_repository.find_by_email(email)\n        if existing_user:\n            raise ValueError(\"User with this email already exists\")\n\n        return self.user_repository.create_user(name, email)\n\n# \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441 Fake \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0435\u043c\ndef test_user_service_with_fake_repository():\n    \"\"\"\u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u0442\u0435\u0441\u0442 \u0441 fake \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0435\u043c.\"\"\"\n    fake_repo = FakeUserRepository()\n    service = UserService(fake_repo)\n\n    # \u0423\u0441\u043f\u0435\u0448\u043d\u0430\u044f \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f\n    user = service.register_user(\"John Doe\", \"john@example.com\")\n    assert user.name == \"John Doe\"\n    assert user.email == \"john@example.com\"\n\n    # \u041f\u043e\u043f\u044b\u0442\u043a\u0430 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0443\u0431\u043b\u0438\u043a\u0430\u0442\n    with pytest.raises(ValueError, match=\"User with this email already exists\"):\n        service.register_user(\"Jane Doe\", \"john@example.com\")\n</code></pre>"},{"location":"18_advanced_mocking/#4-testcontainers","title":"4. Testcontainers \u0434\u043b\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0442\u0435\u0441\u0442\u043e\u0432","text":"<pre><code># \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 testcontainers\nuv add testcontainers[postgresql]\n</code></pre> <pre><code>import pytest\nfrom testcontainers.postgres import PostgresContainer\nfrom sqlalchemy import create_engine\nfrom sqlalchemy.orm import sessionmaker\n# Note: Base and User are defined in the Setup section above\n\n@pytest.fixture(scope=\"session\")\ndef postgres_container():\n    \"\"\"\u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442 PostgreSQL \u0432 Docker \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0435 \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u043e\u0432.\"\"\"\n    with PostgresContainer(\"postgres:13\") as postgres:\n        yield postgres\n\n@pytest.fixture\ndef postgres_session(postgres_container):\n    \"\"\"\u0421\u043e\u0437\u0434\u0430\u0435\u0442 \u0441\u0435\u0441\u0441\u0438\u044e \u0434\u043b\u044f PostgreSQL \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430.\"\"\"\n    engine = create_engine(postgres_container.get_connection_url())\n    Base.metadata.create_all(engine)\n\n    Session = sessionmaker(bind=engine)\n    session = Session()\n\n    yield session\n\n    session.rollback()\n    session.close()\n\ndef test_user_repository_with_real_postgres(postgres_session):\n    \"\"\"\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u0442\u0435\u0441\u0442 \u0441 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0439 PostgreSQL.\"\"\"\n    repo = SQLAlchemyUserRepository(postgres_session)\n\n    # \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c \u0441\u043e \u0432\u0441\u0435\u043c\u0438 \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u044f\u043c\u0438 PostgreSQL\n    user = repo.create_user(\"John Doe\", \"john@example.com\")\n    assert user.id is not None\n\n    found_user = repo.find_by_email(\"john@example.com\")\n    assert found_user.name == \"John Doe\"\n</code></pre>"},{"location":"18_advanced_mocking/#5-database-fixtures","title":"5. Database Fixtures \u0438 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438","text":"<pre><code># Note: Base and User are defined in the Setup section above\nimport pytest\n\n@pytest.fixture\ndef db_transaction(real_db_session):\n    \"\"\"\u0424\u0438\u043a\u0441\u0442\u0443\u0440\u0430 \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e rollback \u043f\u043e\u0441\u043b\u0435 \u0442\u0435\u0441\u0442\u043e\u0432.\"\"\"\n    transaction = real_db_session.begin()\n    yield real_db_session\n    transaction.rollback()\n\n@pytest.fixture\ndef sample_users(db_transaction):\n    \"\"\"\u0424\u0438\u043a\u0441\u0442\u0443\u0440\u0430 \u0441 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u043c\u0438.\"\"\"\n    users = [\n        User(name=\"Alice\", email=\"alice@example.com\"),\n        User(name=\"Bob\", email=\"bob@example.com\"),\n        User(name=\"Charlie\", email=\"charlie@example.com\"),\n    ]\n\n    for user in users:\n        db_transaction.add(user)\n    db_transaction.flush()  # \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c ID \u0431\u0435\u0437 commit\n\n    return users\n\ndef test_user_search_with_fixtures(db_transaction, sample_users):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441 \u043f\u0440\u0435\u0434\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u043c\u0438.\"\"\"\n    repo = UserRepository(db_transaction)\n\n    # \u0418\u0449\u0435\u043c \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\n    alice = repo.find_by_email(\"alice@example.com\")\n    assert alice.name == \"Alice\"\n\n    # \u0418\u0449\u0435\u043c \u043d\u0435\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0433\u043e\n    missing = repo.find_by_email(\"missing@example.com\")\n    assert missing is None\n</code></pre>"},{"location":"18_advanced_mocking/#http-api","title":"\ud83c\udf10 \u041c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 HTTP API \u0438 \u0441\u0435\u0442\u0435\u0432\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432","text":""},{"location":"18_advanced_mocking/#1-requests","title":"1. \u041c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 requests","text":"<pre><code>import requests\nimport responses\nfrom unittest.mock import Mock, patch\n\nclass WeatherService:\n    def __init__(self, api_key: str):\n        self.api_key = api_key\n        self.base_url = \"https://api.weather.com\"\n\n    def get_temperature(self, city: str) -&gt; float:\n        response = requests.get(\n            f\"{self.base_url}/current\",\n            params={\"city\": city, \"key\": self.api_key}\n        )\n        response.raise_for_status()\n        data = response.json()\n        return data[\"temperature\"]\n\n    def get_forecast(self, city: str, days: int = 5) -&gt; list:\n        response = requests.get(\n            f\"{self.base_url}/forecast\",\n            params={\"city\": city, \"days\": days, \"key\": self.api_key}\n        )\n        response.raise_for_status()\n        return response.json()[\"forecast\"]\n\n# \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441 responses\n@responses.activate\ndef test_weather_service_get_temperature():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441 \u0437\u0430\u043c\u043e\u043a\u0430\u043d\u043d\u044b\u043c HTTP \u043e\u0442\u0432\u0435\u0442\u043e\u043c.\"\"\"\n    responses.add(\n        responses.GET,\n        \"https://api.weather.com/current\",\n        json={\"temperature\": 22.5, \"humidity\": 65},\n        status=200\n    )\n\n    service = WeatherService(\"test-api-key\")\n    temperature = service.get_temperature(\"Moscow\")\n\n    assert temperature == 22.5\n    assert len(responses.calls) == 1\n    assert responses.calls[0].request.params[\"city\"] == [\"Moscow\"]\n\n# \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441 pytest-httpx \u0434\u043b\u044f async \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432\nimport httpx\nimport pytest\nfrom pytest_httpx import HTTPXMock\n\nclass AsyncWeatherService:\n    def __init__(self, api_key: str):\n        self.api_key = api_key\n        self.base_url = \"https://api.weather.com\"\n\n    async def get_temperature(self, city: str) -&gt; float:\n        async with httpx.AsyncClient() as client:\n            response = await client.get(\n                f\"{self.base_url}/current\",\n                params={\"city\": city, \"key\": self.api_key}\n            )\n            response.raise_for_status()\n            data = response.json()\n            return data[\"temperature\"]\n\n@pytest.mark.asyncio\nasync def test_async_weather_service(httpx_mock: HTTPXMock):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0433\u043e HTTP \u043a\u043b\u0438\u0435\u043d\u0442\u0430.\"\"\"\n    httpx_mock.add_response(\n        url=\"https://api.weather.com/current?city=Moscow&amp;key=test-api-key\",\n        json={\"temperature\": 22.5}\n    )\n\n    service = AsyncWeatherService(\"test-api-key\")\n    temperature = await service.get_temperature(\"Moscow\")\n\n    assert temperature == 22.5\n</code></pre>"},{"location":"18_advanced_mocking/#2-circuit-breaker","title":"2. \u041c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441 Circuit Breaker","text":"<pre><code>import time\nfrom enum import Enum\n\nclass CircuitState(Enum):\n    CLOSED = \"closed\"\n    OPEN = \"open\"\n    HALF_OPEN = \"half_open\"\n\nclass CircuitBreaker:\n    def __init__(self, failure_threshold=5, timeout=60):\n        self.failure_threshold = failure_threshold\n        self.timeout = timeout\n        self.failure_count = 0\n        self.state = CircuitState.CLOSED\n        self.last_failure_time = None\n\n    def call(self, func, *args, **kwargs):\n        if self.state == CircuitState.OPEN:\n            if time.time() - self.last_failure_time &gt; self.timeout:\n                self.state = CircuitState.HALF_OPEN\n            else:\n                raise Exception(\"Circuit breaker is OPEN\")\n\n        try:\n            result = func(*args, **kwargs)\n            self._on_success()\n            return result\n        except Exception as e:\n            self._on_failure()\n            raise e\n\n    def _on_success(self):\n        self.failure_count = 0\n        self.state = CircuitState.CLOSED\n\n    def _on_failure(self):\n        self.failure_count += 1\n        self.last_failure_time = time.time()\n\n        if self.failure_count &gt;= self.failure_threshold:\n            self.state = CircuitState.OPEN\n\nclass ResilientWeatherService:\n    def __init__(self, api_key: str):\n        self.api_key = api_key\n        self.circuit_breaker = CircuitBreaker()\n\n    def get_temperature(self, city: str) -&gt; float:\n        return self.circuit_breaker.call(self._fetch_temperature, city)\n\n    def _fetch_temperature(self, city: str) -&gt; float:\n        response = requests.get(\n            \"https://api.weather.com/current\",\n            params={\"city\": city, \"key\": self.api_key}\n        )\n        response.raise_for_status()\n        return response.json()[\"temperature\"]\n\ndef test_circuit_breaker_behavior():\n    \"\"\"\u0422\u0435\u0441\u0442 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f circuit breaker.\"\"\"\n    service = ResilientWeatherService(\"test-key\")\n\n    # \u041c\u043e\u043a\u0438\u0440\u0443\u0435\u043c requests \u0434\u043b\u044f \u0438\u043c\u0438\u0442\u0430\u0446\u0438\u0438 \u0441\u0431\u043e\u0435\u0432\n    with patch('requests.get') as mock_get:\n        # \u041f\u0435\u0440\u0432\u044b\u0435 5 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043f\u0430\u0434\u0430\u044e\u0442\n        mock_get.side_effect = requests.ConnectionError(\"Network error\")\n\n        # \u041f\u044b\u0442\u0430\u0435\u043c\u0441\u044f \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0443 5 \u0440\u0430\u0437\n        for i in range(5):\n            with pytest.raises(requests.ConnectionError):\n                service.get_temperature(\"Moscow\")\n\n        # Circuit breaker \u0434\u043e\u043b\u0436\u0435\u043d \u043e\u0442\u043a\u0440\u044b\u0442\u044c\u0441\u044f \u043d\u0430 6-\u043c \u0437\u0430\u043f\u0440\u043e\u0441\u0435\n        with pytest.raises(Exception, match=\"Circuit breaker is OPEN\"):\n            service.get_temperature(\"Moscow\")\n\n        # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435\n        assert service.circuit_breaker.state == CircuitState.OPEN\n</code></pre>"},{"location":"18_advanced_mocking/#_5","title":"\ud83d\udd04 \u041c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0433\u043e \u043a\u043e\u0434\u0430","text":""},{"location":"18_advanced_mocking/#1","title":"1. \u041e\u0441\u043d\u043e\u0432\u044b \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0433\u043e \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f","text":"<pre><code>import asyncio\nimport aiohttp\nfrom unittest.mock import AsyncMock, Mock\n\nclass AsyncDataService:\n    def __init__(self):\n        self.session = None\n\n    async def __aenter__(self):\n        self.session = aiohttp.ClientSession()\n        return self\n\n    async def __aexit__(self, exc_type, exc_val, exc_tb):\n        if self.session:\n            await self.session.close()\n\n    async def fetch_user_data(self, user_id: int) -&gt; dict:\n        async with self.session.get(f\"https://api.example.com/users/{user_id}\") as response:\n            response.raise_for_status()\n            return await response.json()\n\n    async def save_user_data(self, user_data: dict) -&gt; bool:\n        async with self.session.post(\"https://api.example.com/users\", json=user_data) as response:\n            return response.status == 201\n\n# \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441 AsyncMock\n@pytest.mark.asyncio\nasync def test_async_data_service(mocker):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u0441 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c.\"\"\"\n\n    # \u041c\u043e\u043a\u0438\u0440\u0443\u0435\u043c aiohttp \u0441\u0435\u0441\u0441\u0438\u044e\n    mock_session = AsyncMock()\n    mock_response = AsyncMock()\n    mock_response.json.return_value = {\"id\": 1, \"name\": \"John\"}\n    mock_response.status = 200\n    mock_response.raise_for_status.return_value = None\n\n    # \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c context manager\n    mock_session.get.return_value.__aenter__.return_value = mock_response\n\n    # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0435\u0440\u0432\u0438\u0441 \u0438 \u043f\u043e\u0434\u043c\u0435\u043d\u044f\u0435\u043c \u0441\u0435\u0441\u0441\u0438\u044e\n    service = AsyncDataService()\n    service.session = mock_session\n\n    # \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c\n    user_data = await service.fetch_user_data(1)\n\n    assert user_data == {\"id\": 1, \"name\": \"John\"}\n    mock_session.get.assert_called_once_with(\"https://api.example.com/users/1\")\n</code></pre>"},{"location":"18_advanced_mocking/#2-asyncawait","title":"2. \u041c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 async/await \u0446\u0435\u043f\u043e\u0447\u0435\u043a","text":"<pre><code>class AsyncEmailService:\n    async def send_email(self, to: str, subject: str, body: str) -&gt; bool:\n        # \u0410\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0430\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 email\n        await asyncio.sleep(0.1)  # \u0418\u043c\u0438\u0442\u0430\u0446\u0438\u044f \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0438\n        return True\n\nclass AsyncUserService:\n    def __init__(self, data_service: AsyncDataService, email_service: AsyncEmailService):\n        self.data_service = data_service\n        self.email_service = email_service\n\n    async def register_user(self, user_data: dict) -&gt; dict:\n        # \u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\n        success = await self.data_service.save_user_data(user_data)\n        if not success:\n            raise ValueError(\"Failed to save user\")\n\n        # \u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c welcome email\n        email_sent = await self.email_service.send_email(\n            user_data[\"email\"],\n            \"Welcome!\",\n            f\"Welcome, {user_data['name']}!\"\n        )\n\n        return {\n            \"user_saved\": success,\n            \"email_sent\": email_sent,\n            \"user_data\": user_data\n        }\n\n@pytest.mark.asyncio\nasync def test_async_user_registration():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0439 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\"\"\"\n\n    # \u041c\u043e\u043a\u0438\u0440\u0443\u0435\u043c \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438\n    mock_data_service = AsyncMock()\n    mock_data_service.save_user_data.return_value = True\n\n    mock_email_service = AsyncMock()\n    mock_email_service.send_email.return_value = True\n\n    # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0435\u0440\u0432\u0438\u0441\n    user_service = AsyncUserService(mock_data_service, mock_email_service)\n\n    # \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c\n    user_data = {\"name\": \"John Doe\", \"email\": \"john@example.com\"}\n    result = await user_service.register_user(user_data)\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\n    assert result[\"user_saved\"] is True\n    assert result[\"email_sent\"] is True\n    assert result[\"user_data\"] == user_data\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0432\u044b\u0437\u043e\u0432\u044b\n    mock_data_service.save_user_data.assert_called_once_with(user_data)\n    mock_email_service.send_email.assert_called_once_with(\n        \"john@example.com\",\n        \"Welcome!\",\n        \"Welcome, John Doe!\"\n    )\n</code></pre>"},{"location":"18_advanced_mocking/#3-race-conditions","title":"3. \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u043a\u0443\u0440\u0435\u043d\u0442\u043d\u043e\u0441\u0442\u0438 \u0438 race conditions","text":"<pre><code>import asyncio\nfrom typing import List\n\nclass AsyncCounter:\n    def __init__(self):\n        self._value = 0\n        self._lock = asyncio.Lock()\n\n    async def increment(self):\n        async with self._lock:\n            current = self._value\n            await asyncio.sleep(0.001)  # \u0418\u043c\u0438\u0442\u0430\u0446\u0438\u044f \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0438\n            self._value = current + 1\n\n    @property\n    def value(self):\n        return self._value\n\nclass AsyncTaskProcessor:\n    def __init__(self, counter: AsyncCounter):\n        self.counter = counter\n\n    async def process_batch(self, items: List[str]) -&gt; List[str]:\n        tasks = []\n        for item in items:\n            task = asyncio.create_task(self._process_item(item))\n            tasks.append(task)\n\n        results = await asyncio.gather(*tasks)\n        return results\n\n    async def _process_item(self, item: str) -&gt; str:\n        await self.counter.increment()\n        await asyncio.sleep(0.01)  # \u0418\u043c\u0438\u0442\u0430\u0446\u0438\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438\n        return f\"processed_{item}\"\n\n@pytest.mark.asyncio\nasync def test_concurrent_processing():\n    \"\"\"\u0422\u0435\u0441\u0442 \u043a\u043e\u043d\u043a\u0443\u0440\u0435\u043d\u0442\u043d\u043e\u0439 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438.\"\"\"\n    counter = AsyncCounter()\n    processor = AsyncTaskProcessor(counter)\n\n    items = [f\"item_{i}\" for i in range(10)]\n    results = await processor.process_batch(items)\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b\n    assert len(results) == 10\n    assert all(result.startswith(\"processed_\") for result in results)\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c, \u0447\u0442\u043e \u0432\u0441\u0435 \u0438\u043d\u043a\u0440\u0435\u043c\u0435\u043d\u0442\u044b \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0438\n    assert counter.value == 10\n\n@pytest.mark.asyncio\nasync def test_race_condition_protection():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0437\u0430\u0449\u0438\u0442\u044b \u043e\u0442 race conditions.\"\"\"\n    counter = AsyncCounter()\n\n    # \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043a\u043e\u043d\u043a\u0443\u0440\u0435\u043d\u0442\u043d\u044b\u0435 \u0438\u043d\u043a\u0440\u0435\u043c\u0435\u043d\u0442\u044b\n    tasks = [counter.increment() for _ in range(100)]\n    await asyncio.gather(*tasks)\n\n    # \u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0440\u043e\u0432\u043d\u043e 100, \u0430 \u043d\u0435 \u043c\u0435\u043d\u044c\u0448\u0435 \u0438\u0437-\u0437\u0430 race condition\n    assert counter.value == 100\n</code></pre>"},{"location":"18_advanced_mocking/#_6","title":"\ud83d\udcc1 \u041c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u043e\u0432\u044b\u0445 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439","text":""},{"location":"18_advanced_mocking/#1_1","title":"1. \u0411\u0430\u0437\u043e\u0432\u043e\u0435 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u043e\u0432","text":"<pre><code>import os\nimport json\nfrom pathlib import Path\nfrom unittest.mock import mock_open, patch\n\nclass ConfigManager:\n    def __init__(self, config_path: str):\n        self.config_path = Path(config_path)\n\n    def load_config(self) -&gt; dict:\n        if not self.config_path.exists():\n            return {}\n\n        with open(self.config_path, 'r') as f:\n            return json.load(f)\n\n    def save_config(self, config: dict) -&gt; None:\n        self.config_path.parent.mkdir(parents=True, exist_ok=True)\n\n        with open(self.config_path, 'w') as f:\n            json.dump(config, f, indent=2)\n\ndef test_config_manager_load_existing():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0433\u043e \u043a\u043e\u043d\u0444\u0438\u0433\u0430.\"\"\"\n    config_data = {\"database_url\": \"localhost\", \"debug\": True}\n\n    with patch(\"pathlib.Path.exists\", return_value=True):\n        with patch(\"builtins.open\", mock_open(read_data=json.dumps(config_data))):\n            manager = ConfigManager(\"/app/config.json\")\n            loaded_config = manager.load_config()\n\n            assert loaded_config == config_data\n\ndef test_config_manager_load_missing():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043d\u0435\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0433\u043e \u043a\u043e\u043d\u0444\u0438\u0433\u0430.\"\"\"\n    with patch(\"pathlib.Path.exists\", return_value=False):\n        manager = ConfigManager(\"/app/config.json\")\n        loaded_config = manager.load_config()\n\n        assert loaded_config == {}\n\ndef test_config_manager_save():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0430.\"\"\"\n    config_data = {\"database_url\": \"localhost\", \"debug\": True}\n\n    with patch(\"pathlib.Path.mkdir\") as mock_mkdir:\n        with patch(\"builtins.open\", mock_open()) as mock_file:\n            manager = ConfigManager(\"/app/config.json\")\n            manager.save_config(config_data)\n\n            # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438\n            mock_mkdir.assert_called_once_with(parents=True, exist_ok=True)\n\n            # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0437\u0430\u043f\u0438\u0441\u044c \u0444\u0430\u0439\u043b\u0430\n            mock_file.assert_called_once_with(Path(\"/app/config.json\"), 'w')\n            handle = mock_file()\n            handle.write.assert_called()\n</code></pre>"},{"location":"18_advanced_mocking/#2-pyfakefs","title":"2. \u041c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441 pyfakefs","text":"<pre><code># \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 pyfakefs\nuv add pyfakefs\n</code></pre> <pre><code>import pytest\nfrom pathlib import Path\nfrom typing import List\nfrom pyfakefs.fake_filesystem_unittest import Patcher\n\nclass LogFileManager:\n    def __init__(self, log_dir: str):\n        self.log_dir = Path(log_dir)\n\n    def write_log(self, message: str) -&gt; None:\n        self.log_dir.mkdir(parents=True, exist_ok=True)\n\n        log_file = self.log_dir / \"app.log\"\n        with open(log_file, 'a') as f:\n            f.write(f\"{message}\\n\")\n\n    def read_logs(self) -&gt; List[str]:\n        log_file = self.log_dir / \"app.log\"\n        if not log_file.exists():\n            return []\n\n        with open(log_file, 'r') as f:\n            return [line.strip() for line in f.readlines()]\n\n    def clear_logs(self) -&gt; None:\n        log_file = self.log_dir / \"app.log\"\n        if log_file.exists():\n            log_file.unlink()\n\ndef test_log_file_manager_with_fake_fs():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441 fake \u0444\u0430\u0439\u043b\u043e\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u0439.\"\"\"\n    with Patcher() as patcher:\n        # \u0421\u043e\u0437\u0434\u0430\u0435\u043c fake \u0444\u0430\u0439\u043b\u043e\u0432\u0443\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u0443\n        patcher.fs.create_dir(\"/app/logs\")\n\n        manager = LogFileManager(\"/app/logs\")\n\n        # \u0417\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u043c \u043b\u043e\u0433\u0438\n        manager.write_log(\"First message\")\n        manager.write_log(\"Second message\")\n\n        # \u0427\u0438\u0442\u0430\u0435\u043c \u043b\u043e\u0433\u0438\n        logs = manager.read_logs()\n        assert logs == [\"First message\", \"Second message\"]\n\n        # \u041e\u0447\u0438\u0449\u0430\u0435\u043c \u043b\u043e\u0433\u0438\n        manager.clear_logs()\n        logs = manager.read_logs()\n        assert logs == []\n\n@pytest.fixture\ndef fake_fs():\n    \"\"\"\u0424\u0438\u043a\u0441\u0442\u0443\u0440\u0430 \u0434\u043b\u044f fake \u0444\u0430\u0439\u043b\u043e\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b.\"\"\"\n    with Patcher() as patcher:\n        yield patcher.fs\n\ndef test_file_operations_with_fixture(fake_fs):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0444\u0438\u043a\u0441\u0442\u0443\u0440\u044b.\"\"\"\n    # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b\u043e\u0432\u0443\u044e \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443\n    fake_fs.create_file(\"/etc/config.json\", contents='{\"key\": \"value\"}')\n    fake_fs.create_dir(\"/var/log\")\n\n    # \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438\n    assert os.path.exists(\"/etc/config.json\")\n    assert os.path.isdir(\"/var/log\")\n\n    with open(\"/etc/config.json\", 'r') as f:\n        data = json.load(f)\n        assert data[\"key\"] == \"value\"\n</code></pre>"},{"location":"18_advanced_mocking/#3-temporary-files-directories","title":"3. Temporary Files \u0438 Directories","text":"<pre><code>import tempfile\nimport shutil\n\nclass FileProcessor:\n    def process_file(self, input_path: str, output_path: str) -&gt; None:\n        with open(input_path, 'r') as input_file:\n            content = input_file.read()\n\n        # \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0433\u043e\n        processed_content = content.upper()\n\n        with open(output_path, 'w') as output_file:\n            output_file.write(processed_content)\n\ndef test_file_processor_with_temp_files():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u043c\u0438 \u0444\u0430\u0439\u043b\u0430\u043c\u0438.\"\"\"\n    processor = FileProcessor()\n\n    with tempfile.TemporaryDirectory() as temp_dir:\n        # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b\n        input_path = Path(temp_dir) / \"input.txt\"\n        output_path = Path(temp_dir) / \"output.txt\"\n\n        # \u0417\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u043c \u0432\u0445\u043e\u0434\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435\n        with open(input_path, 'w') as f:\n            f.write(\"hello world\")\n\n        # \u041e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u043c\n        processor.process_file(str(input_path), str(output_path))\n\n        # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\n        with open(output_path, 'r') as f:\n            result = f.read()\n            assert result == \"HELLO WORLD\"\n\n@pytest.fixture\ndef temp_workspace():\n    \"\"\"\u0424\u0438\u043a\u0441\u0442\u0443\u0440\u0430 \u0434\u043b\u044f \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0433\u043e \u0440\u0430\u0431\u043e\u0447\u0435\u0433\u043e \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u0430.\"\"\"\n    with tempfile.TemporaryDirectory() as temp_dir:\n        workspace = Path(temp_dir)\n\n        # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443 \u043f\u0430\u043f\u043e\u043a\n        (workspace / \"input\").mkdir()\n        (workspace / \"output\").mkdir()\n        (workspace / \"config\").mkdir()\n\n        yield workspace\n\ndef test_complex_file_operations(temp_workspace):\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441\u043b\u043e\u0436\u043d\u044b\u0445 \u0444\u0430\u0439\u043b\u043e\u0432\u044b\u0445 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439.\"\"\"\n    input_dir = temp_workspace / \"input\"\n    output_dir = temp_workspace / \"output\"\n\n    # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0432\u0445\u043e\u0434\u043d\u044b\u0445 \u0444\u0430\u0439\u043b\u043e\u0432\n    (input_dir / \"file1.txt\").write_text(\"content 1\")\n    (input_dir / \"file2.txt\").write_text(\"content 2\")\n\n    processor = FileProcessor()\n\n    # \u041e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u043c \u0432\u0441\u0435 \u0444\u0430\u0439\u043b\u044b\n    for input_file in input_dir.glob(\"*.txt\"):\n        output_file = output_dir / input_file.name\n        processor.process_file(str(input_file), str(output_file))\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b\n    assert (output_dir / \"file1.txt\").read_text() == \"CONTENT 1\"\n    assert (output_dir / \"file2.txt\").read_text() == \"CONTENT 2\"\n</code></pre>"},{"location":"18_advanced_mocking/#_7","title":"\ud83d\udd70\ufe0f \u041c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0438 \u0434\u0430\u0442\u044b","text":""},{"location":"18_advanced_mocking/#1_2","title":"1. \u0411\u0430\u0437\u043e\u0432\u043e\u0435 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u0440\u0435\u043c\u0435\u043d\u0438","text":"<pre><code>import datetime\nfrom unittest.mock import patch\nimport pytest\nfrom freezegun import freeze_time\n\nclass TimeBasedService:\n    def get_current_timestamp(self) -&gt; str:\n        return datetime.datetime.now().isoformat()\n\n    def is_business_hours(self) -&gt; bool:\n        now = datetime.datetime.now()\n        return 9 &lt;= now.hour &lt; 18 and now.weekday() &lt; 5\n\n    def calculate_age(self, birth_date: datetime.date) -&gt; int:\n        today = datetime.date.today()\n        return today.year - birth_date.year\n\n# \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441 patch\ndef test_timestamp_with_patch():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c datetime.\"\"\"\n    fixed_time = datetime.datetime(2024, 8, 26, 12, 30, 45)\n\n    with patch('datetime.datetime') as mock_datetime:\n        mock_datetime.now.return_value = fixed_time\n        mock_datetime.side_effect = lambda *args, **kw: datetime.datetime(*args, **kw)\n\n        service = TimeBasedService()\n        timestamp = service.get_current_timestamp()\n\n        assert timestamp == \"2024-08-26T12:30:45\"\n\n# \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441 freezegun\n@freeze_time(\"2024-08-26 12:30:45\")\ndef test_business_hours_monday_noon():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0431\u0438\u0437\u043d\u0435\u0441-\u0447\u0430\u0441\u043e\u0432 \u0432 \u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a \u0432 \u043f\u043e\u043b\u0434\u0435\u043d\u044c.\"\"\"\n    service = TimeBasedService()\n    assert service.is_business_hours() is True\n\n@freeze_time(\"2024-08-26 20:00:00\")  # 8 PM\ndef test_business_hours_evening():\n    \"\"\"\u0422\u0435\u0441\u0442 \u043f\u043e\u0441\u043b\u0435 \u0440\u0430\u0431\u043e\u0447\u0438\u0445 \u0447\u0430\u0441\u043e\u0432.\"\"\"\n    service = TimeBasedService()\n    assert service.is_business_hours() is False\n\n@freeze_time(\"2024-08-25 12:00:00\")  # Sunday\ndef test_business_hours_weekend():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0432 \u0432\u044b\u0445\u043e\u0434\u043d\u043e\u0439 \u0434\u0435\u043d\u044c.\"\"\"\n    service = TimeBasedService()\n    assert service.is_business_hours() is False\n\n@freeze_time(\"2024-08-26\")\ndef test_age_calculation():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430.\"\"\"\n    service = TimeBasedService()\n    birth_date = datetime.date(1990, 5, 15)\n\n    age = service.calculate_age(birth_date)\n    assert age == 34\n</code></pre>"},{"location":"18_advanced_mocking/#2","title":"2. \u041c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u0430\u0439\u043c\u0430\u0443\u0442\u043e\u0432 \u0438 \u0437\u0430\u0434\u0435\u0440\u0436\u0435\u043a","text":"<pre><code>import asyncio\nimport time\nimport aiohttp\nimport pytest\nfrom unittest.mock import patch, AsyncMock\n\nclass RateLimitedService:\n    def __init__(self, calls_per_minute: int = 60):\n        self.calls_per_minute = calls_per_minute\n        self.calls = []\n\n    def make_request(self, data: str) -&gt; str:\n        current_time = time.time()\n\n        # \u0423\u0434\u0430\u043b\u044f\u0435\u043c \u0441\u0442\u0430\u0440\u044b\u0435 \u0432\u044b\u0437\u043e\u0432\u044b (\u0441\u0442\u0430\u0440\u0448\u0435 \u043c\u0438\u043d\u0443\u0442\u044b)\n        self.calls = [call_time for call_time in self.calls \n                     if current_time - call_time &lt; 60]\n\n        # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u043b\u0438\u043c\u0438\u0442\n        if len(self.calls) &gt;= self.calls_per_minute:\n            raise Exception(\"Rate limit exceeded\")\n\n        self.calls.append(current_time)\n        return f\"processed: {data}\"\n\nclass AsyncRetryService:\n    async def fetch_with_retry(self, url: str, max_retries: int = 3) -&gt; str:\n        for attempt in range(max_retries):\n            try:\n                # HTTP \u0437\u0430\u043f\u0440\u043e\u0441 \u0447\u0435\u0440\u0435\u0437 aiohttp\n                async with aiohttp.ClientSession() as session:\n                    async with session.get(url) as response:\n                        response.raise_for_status()\n                        return f\"Success: {url}\"\n\n            except aiohttp.ClientError:\n                if attempt == max_retries - 1:\n                    raise\n\n                # Exponential backoff\n                wait_time = 2 ** attempt\n                await asyncio.sleep(wait_time)\n\ndef test_rate_limiting_with_time_mock():\n    \"\"\"\u0422\u0435\u0441\u0442 rate limiting \u0441 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0432\u0440\u0435\u043c\u0435\u043d\u0438.\"\"\"\n    service = RateLimitedService(calls_per_minute=2)\n\n    with patch('time.time') as mock_time:\n        # \u041f\u0435\u0440\u0432\u044b\u0439 \u0432\u044b\u0437\u043e\u0432 \u0432 \u043c\u043e\u043c\u0435\u043d\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 0\n        mock_time.return_value = 0\n        result1 = service.make_request(\"data1\")\n        assert result1 == \"processed: data1\"\n\n        # \u0412\u0442\u043e\u0440\u043e\u0439 \u0432\u044b\u0437\u043e\u0432 \u0447\u0435\u0440\u0435\u0437 30 \u0441\u0435\u043a\u0443\u043d\u0434\n        mock_time.return_value = 30\n        result2 = service.make_request(\"data2\")\n        assert result2 == \"processed: data2\"\n\n        # \u0422\u0440\u0435\u0442\u0438\u0439 \u0432\u044b\u0437\u043e\u0432 \u0441\u0440\u0430\u0437\u0443 \u0436\u0435 - \u0434\u043e\u043b\u0436\u0435\u043d \u0443\u043f\u0430\u0441\u0442\u044c\n        with pytest.raises(Exception, match=\"Rate limit exceeded\"):\n            service.make_request(\"data3\")\n\n        # \u041d\u043e \u0447\u0435\u0440\u0435\u0437 \u043c\u0438\u043d\u0443\u0442\u0443 \u0434\u043e\u043b\u0436\u0435\u043d \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c\n        mock_time.return_value = 61\n        result3 = service.make_request(\"data3\")\n        assert result3 == \"processed: data3\"\n\n@pytest.mark.asyncio\nasync def test_async_retry_with_time_control():\n    \"\"\"\u0422\u0435\u0441\u0442 async retry \u0441 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0435\u043c \u0432\u0440\u0435\u043c\u0435\u043d\u0438.\"\"\"\n    service = AsyncRetryService()\n\n    # \u041c\u043e\u043a\u0438\u0440\u0443\u0435\u043c asyncio.sleep \u0447\u0442\u043e\u0431\u044b \u0442\u0435\u0441\u0442\u044b \u0431\u044b\u043b\u0438 \u0431\u044b\u0441\u0442\u0440\u044b\u043c\u0438\n    with patch('asyncio.sleep', new_callable=AsyncMock) as mock_sleep:\n        # \u041c\u043e\u043a\u0438\u0440\u0443\u0435\u043c HTTP \u0437\u0430\u043f\u0440\u043e\u0441\u044b - \u043f\u0435\u0440\u0432\u044b\u0435 2 \u043f\u043e\u043f\u044b\u0442\u043a\u0438 \u043f\u0430\u0434\u0430\u044e\u0442, \u0442\u0440\u0435\u0442\u044c\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u0430\n        call_count = 0\n\n        async def mock_get(*args, **kwargs):\n            nonlocal call_count\n            call_count += 1\n            if call_count &lt; 3:  # \u041f\u0435\u0440\u0432\u044b\u0435 2 \u043f\u043e\u043f\u044b\u0442\u043a\u0438 \u043f\u0430\u0434\u0430\u044e\u0442\n                raise aiohttp.ClientError(\"Network error\")\n            # \u0423\u0441\u043f\u0435\u0448\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442\n            mock_response = AsyncMock()\n            mock_response.raise_for_status = AsyncMock()\n            return mock_response\n\n        # \u041c\u043e\u043a\u0438\u0440\u0443\u0435\u043c \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043d\u044b\u0439 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u0434\u043b\u044f ClientSession\n        mock_session = AsyncMock()\n        mock_session.get = AsyncMock(side_effect=mock_get)\n        mock_session.__aenter__ = AsyncMock(return_value=mock_session)\n        mock_session.__aexit__ = AsyncMock(return_value=None)\n\n        # \u041f\u0430\u0442\u0447\u0438\u043c ClientSession \u0447\u0442\u043e\u0431\u044b \u043e\u043d \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u043b \u043c\u043e\u043a \u0441 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u0443\u0435\u043c\u044b\u043c \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435\u043c get\n        with patch('aiohttp.ClientSession', return_value=mock_session):\n            result = await service.fetch_with_retry(\"http://example.com\")\n\n            # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c, \u0447\u0442\u043e \u0431\u044b\u043b\u0438 \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0438\n            assert mock_sleep.call_count &gt;= 2  # \u041c\u0438\u043d\u0438\u043c\u0443\u043c 2 retry\n            assert result == \"Success: http://example.com\"\n</code></pre>"},{"location":"18_advanced_mocking/#_8","title":"\ud83e\uddea \u0421\u043b\u043e\u0436\u043d\u044b\u0435 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0438 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f","text":""},{"location":"18_advanced_mocking/#1_3","title":"1. \u041c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0447\u0435\u0439\u043d\u0438\u043d\u0433\u0430 \u043c\u0435\u0442\u043e\u0434\u043e\u0432","text":"<pre><code>class FluentQueryBuilder:\n    def __init__(self, table: str):\n        self.table = table\n        self.conditions = []\n        self.order_by_clause = None\n        self.limit_clause = None\n\n    def where(self, condition: str):\n        self.conditions.append(condition)\n        return self\n\n    def order_by(self, column: str):\n        self.order_by_clause = column\n        return self\n\n    def limit(self, count: int):\n        self.limit_clause = count\n        return self\n\n    def execute(self) -&gt; list:\n        # \u0418\u043c\u0438\u0442\u0430\u0446\u0438\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430\n        query = f\"SELECT * FROM {self.table}\"\n        if self.conditions:\n            query += f\" WHERE {' AND '.join(self.conditions)}\"\n        if self.order_by_clause:\n            query += f\" ORDER BY {self.order_by_clause}\"\n        if self.limit_clause:\n            query += f\" LIMIT {self.limit_clause}\"\n\n        # \u0417\u0434\u0435\u0441\u044c \u0431\u044b\u043b \u0431\u044b \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 \u043a \u0411\u0414\n        return [{\"id\": 1, \"name\": \"test\"}]\n\ndef test_fluent_query_builder():\n    \"\"\"\u0422\u0435\u0441\u0442 fluent \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 \u0441 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c.\"\"\"\n\n    # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043c\u043e\u043a \u0441 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u043e\u0439 \u0447\u0435\u0439\u043d\u0438\u043d\u0433\u0430\n    mock_builder = Mock()\n    mock_builder.where.return_value = mock_builder\n    mock_builder.order_by.return_value = mock_builder\n    mock_builder.limit.return_value = mock_builder\n    mock_builder.execute.return_value = [{\"id\": 1, \"name\": \"test\"}]\n\n    # \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c \u0447\u0435\u0439\u043d\u0438\u043d\u0433\n    result = (mock_builder\n              .where(\"age &gt; 18\")\n              .where(\"active = true\")\n              .order_by(\"name\")\n              .limit(10)\n              .execute())\n\n    assert result == [{\"id\": 1, \"name\": \"test\"}]\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0432\u044b\u0437\u043e\u0432\u044b\n    mock_builder.where.assert_any_call(\"age &gt; 18\")\n    mock_builder.where.assert_any_call(\"active = true\")\n    mock_builder.order_by.assert_called_once_with(\"name\")\n    mock_builder.limit.assert_called_once_with(10)\n    mock_builder.execute.assert_called_once()\n</code></pre>"},{"location":"18_advanced_mocking/#2-context-managers","title":"2. \u041c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 context managers","text":"<pre><code>class DatabaseTransaction:\n    def __init__(self, connection):\n        self.connection = connection\n        self.transaction = None\n\n    def __enter__(self):\n        self.transaction = self.connection.begin()\n        return self.transaction\n\n    def __exit__(self, exc_type, exc_val, exc_tb):\n        if exc_type is None:\n            self.transaction.commit()\n        else:\n            self.transaction.rollback()\n\nclass UserService:\n    def __init__(self, connection):\n        self.connection = connection\n\n    def create_user_with_profile(self, user_data: dict, profile_data: dict) -&gt; int:\n        with DatabaseTransaction(self.connection) as tx:\n            # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\n            user_id = tx.execute(\"INSERT INTO users ...\", user_data)\n\n            # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u0440\u043e\u0444\u0438\u043b\u044c\n            profile_data[\"user_id\"] = user_id\n            tx.execute(\"INSERT INTO profiles ...\", profile_data)\n\n            return user_id\n\ndef test_user_service_with_transaction():\n    \"\"\"\u0422\u0435\u0441\u0442 \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u0441 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438.\"\"\"\n\n    # \u041c\u043e\u043a\u0438\u0440\u0443\u0435\u043c \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b\n    mock_connection = Mock()\n    mock_transaction = Mock()\n    mock_transaction.execute.side_effect = [123, None]  # user_id, \u0437\u0430\u0442\u0435\u043c None\n\n    # \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c context manager\n    mock_connection.begin.return_value = mock_transaction\n\n    # \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c\n    service = UserService(mock_connection)\n    user_data = {\"name\": \"John\", \"email\": \"john@example.com\"}\n    profile_data = {\"bio\": \"Developer\"}\n\n    user_id = service.create_user_with_profile(user_data, profile_data)\n\n    assert user_id == 123\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0432\u044b\u0437\u043e\u0432\u044b\n    mock_connection.begin.assert_called_once()\n    assert mock_transaction.execute.call_count == 2\n    mock_transaction.commit.assert_called_once()\n    mock_transaction.rollback.assert_not_called()\n</code></pre>"},{"location":"18_advanced_mocking/#3-property-based","title":"3. Property-based \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441 \u043c\u043e\u043a\u0430\u043c\u0438","text":"<pre><code># \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 Hypothesis\nuv add hypothesis\n</code></pre> <pre><code>from hypothesis import given, strategies as st\n\nclass MathService:\n    def __init__(self, logger):\n        self.logger = logger\n\n    def divide(self, a: float, b: float) -&gt; float:\n        if b == 0:\n            self.logger.error(f\"Division by zero attempted: {a} / {b}\")\n            raise ValueError(\"Cannot divide by zero\")\n\n        result = a / b\n        self.logger.info(f\"Division: {a} / {b} = {result}\")\n        return result\n\n@given(\n    a=st.floats(allow_nan=False, allow_infinity=False),\n    b=st.floats(allow_nan=False, allow_infinity=False).filter(lambda x: x != 0)\n)\ndef test_math_service_divide_property(a, b):\n    \"\"\"Property-based \u0442\u0435\u0441\u0442 \u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0441 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c.\"\"\"\n    mock_logger = Mock()\n    service = MathService(mock_logger)\n\n    result = service.divide(a, b)\n\n    # \u0421\u0432\u043e\u0439\u0441\u0442\u0432\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c\u0441\u044f\n    assert isinstance(result, float)\n    assert result == a / b\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\n    mock_logger.info.assert_called_once()\n    mock_logger.error.assert_not_called()\n\n@given(a=st.floats(allow_nan=False, allow_infinity=False))\ndef test_math_service_divide_by_zero_property(a):\n    \"\"\"Property-based \u0442\u0435\u0441\u0442 \u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043d\u0430 \u043d\u043e\u043b\u044c.\"\"\"\n    mock_logger = Mock()\n    service = MathService(mock_logger)\n\n    with pytest.raises(ValueError, match=\"Cannot divide by zero\"):\n        service.divide(a, 0)\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043a\u0438\n    mock_logger.error.assert_called_once()\n    mock_logger.info.assert_not_called()\n</code></pre>"},{"location":"18_advanced_mocking/#_9","title":"\ud83c\udfaf \u041b\u0443\u0447\u0448\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438 \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u043e\u0433\u043e \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f","text":""},{"location":"18_advanced_mocking/#dos","title":"\u2705 Do's","text":"<ol> <li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f</li> <li>Unit \u0442\u0435\u0441\u0442\u044b: \u043c\u043e\u043a\u0438\u0440\u0443\u0439\u0442\u0435 \u0432\u0441\u0435 \u0432\u043d\u0435\u0448\u043d\u0438\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438</li> <li>Integration \u0442\u0435\u0441\u0442\u044b: \u043c\u043e\u043a\u0438\u0440\u0443\u0439\u0442\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u044b</li> <li> <p>E2E \u0442\u0435\u0441\u0442\u044b: \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435</p> </li> <li> <p>\u0412\u044b\u0431\u0438\u0440\u0430\u0439\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044e \u0434\u043b\u044f \u0411\u0414</p> </li> <li>In-memory \u0411\u0414 \u0434\u043b\u044f \u0431\u044b\u0441\u0442\u0440\u044b\u0445 \u0442\u0435\u0441\u0442\u043e\u0432</li> <li>Testcontainers \u0434\u043b\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0442\u0435\u0441\u0442\u043e\u0432</li> <li> <p>\u041c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f unit \u0442\u0435\u0441\u0442\u043e\u0432</p> </li> <li> <p>\u041c\u043e\u043a\u0438\u0440\u0443\u0439\u0442\u0435 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u0439 \u043a\u043e\u0434 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e</p> </li> <li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 AsyncMock \u0434\u043b\u044f async \u0444\u0443\u043d\u043a\u0446\u0438\u0439</li> <li>\u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u043a\u043e\u043d\u043a\u0443\u0440\u0435\u043d\u0442\u043d\u043e\u0441\u0442\u044c \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e</li> <li>\u041a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u0443\u0439\u0442\u0435 \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f</li> </ol>"},{"location":"18_advanced_mocking/#donts","title":"\u274c Don'ts","text":"<ol> <li>\u041d\u0435 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0441\u043b\u043e\u0436\u043d\u044b\u0435 \u043c\u043e\u043a\u0438</li> <li>\u041d\u0435 \u043c\u043e\u043a\u0438\u0440\u0443\u0439\u0442\u0435 \u0442\u043e, \u0447\u0442\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u0442\u0435</li> <li>\u041d\u0435 \u0437\u0430\u0431\u044b\u0432\u0430\u0439\u0442\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0442\u044c \u0432\u044b\u0437\u043e\u0432\u044b \u043c\u043e\u043a\u043e\u0432</li> <li>\u041d\u0435 \u0438\u0433\u043d\u043e\u0440\u0438\u0440\u0443\u0439\u0442\u0435 async/await \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u0438</li> <li>\u041d\u0435 \u043f\u043e\u043b\u0430\u0433\u0430\u0439\u0442\u0435\u0441\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u043c\u043e\u043a\u0438 \u0434\u043b\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0442\u0435\u0441\u0442\u043e\u0432</li> </ol>"},{"location":"18_advanced_mocking/#_10","title":"\ud83d\udd2e \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0448\u0430\u0433\u0438","text":"<p>\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u0438\u0437\u0443\u0447\u0438\u043c TDD \u0438 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0435 \u043f\u0430\u0442\u0442\u0435\u0440\u043d\u044b \u2014 \u043a\u0430\u043a \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u0442\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c\u043e\u0441\u0442\u0438.</p>"},{"location":"18_advanced_mocking/#_11","title":"\ud83e\uddea \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u0432\u043e\u0438 \u0437\u043d\u0430\u043d\u0438\u044f","text":""},{"location":"18_advanced_mocking/#_12","title":"\ud83d\udd17 \u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0442\u0435\u043c\u044b","text":"<ul> <li>Mock \u043e\u0431\u044a\u0435\u043a\u0442\u044b - \u043e\u0441\u043d\u043e\u0432\u044b \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f</li> <li>Pytest \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a - \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 fixtures</li> <li>\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 - \u043c\u043e\u043a\u0438 \u0432 \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0442\u0435\u0441\u0442\u0430\u0445</li> <li>TDD \u0432 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 - \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u0432\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f\u0445</li> <li>\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438 \u0440\u0430\u0431\u043e\u0442\u044b \u0441 Legacy Code - \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 legacy \u043a\u043e\u0434\u0430</li> <li>TDD \u0438 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 - \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430</li> </ul> <p>\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430: TDD \u0438 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f</p> <p>\ud83c\udfad \u041f\u043e\u043c\u043d\u0438\u0442\u0435: \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u2014 \u044d\u0442\u043e \u0438\u0441\u043a\u0443\u0441\u0441\u0442\u0432\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c\u043e\u0439 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0434\u043b\u044f \u0432\u0430\u0448\u0438\u0445 \u0442\u0435\u0441\u0442\u043e\u0432!</p>"},{"location":"19_tdd_architecture/","title":"TDD \u0438 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f","text":""},{"location":"19_tdd_architecture/#_1","title":"\ud83c\udfaf \u0412\u0432\u0435\u0434\u0435\u043d\u0438\u0435","text":"<p>Test-Driven Development \u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u043e\u0434\u0430, \u043d\u043e \u0438 \u043d\u0430 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0443 \u0432\u0441\u0435\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f. TDD \u0435\u0441\u0442\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c \u0432\u0435\u0434\u0435\u0442 \u043a \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044e \u0441\u043b\u0430\u0431\u043e \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u043e\u0439, \u0432\u044b\u0441\u043e\u043a\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c\u043e\u0439 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u044b, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u043b\u0443\u0447\u0448\u0438\u043c \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f. \u0412 \u044d\u0442\u043e\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u0438\u0437\u0443\u0447\u0438\u043c, \u043a\u0430\u043a TDD \u0444\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u0442 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0435 \u0440\u0435\u0448\u0435\u043d\u0438\u044f \u0438 \u043a\u0430\u043a\u0438\u0435 \u043f\u0430\u0442\u0442\u0435\u0440\u043d\u044b \u043b\u0443\u0447\u0448\u0435 \u0432\u0441\u0435\u0433\u043e \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0442 \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c\u044b\u0445 \u0441\u0438\u0441\u0442\u0435\u043c.</p>"},{"location":"19_tdd_architecture/#tdd_1","title":"\ud83c\udfd7\ufe0f \u0412\u043b\u0438\u044f\u043d\u0438\u0435 TDD \u043d\u0430 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0443","text":""},{"location":"19_tdd_architecture/#_2","title":"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u044b","text":"<p>TDD \u0441\u043f\u043e\u0441\u043e\u0431\u0441\u0442\u0432\u0443\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044e \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u044b, \u043a\u043e\u0442\u043e\u0440\u0430\u044f:</p> <ol> <li>\u0421\u043b\u0430\u0431\u043e \u0441\u0432\u044f\u0437\u0430\u043d\u0430 \u2014 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b \u043d\u0435 \u0437\u0430\u0432\u0438\u0441\u044f\u0442 \u0434\u0440\u0443\u0433 \u043e\u0442 \u0434\u0440\u0443\u0433\u0430 \u043d\u0430\u043f\u0440\u044f\u043c\u0443\u044e</li> <li>\u0412\u044b\u0441\u043e\u043a\u043e \u0441\u0432\u044f\u0437\u043d\u0430 \u2014 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b \u0441\u0444\u043e\u043a\u0443\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u044b \u043d\u0430 \u043e\u0434\u043d\u043e\u0439 \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438</li> <li>\u041b\u0435\u0433\u043a\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c\u0430 \u2014 \u043a\u0430\u0436\u0434\u044b\u0439 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u043c\u043e\u0436\u043d\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0437\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e</li> <li>\u0413\u0438\u0431\u043a\u0430 \u043a \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f\u043c \u2014 \u043d\u043e\u0432\u044b\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u043b\u0435\u0433\u043a\u043e \u0438\u043d\u0442\u0435\u0433\u0440\u0438\u0440\u0443\u044e\u0442\u0441\u044f</li> </ol>"},{"location":"19_tdd_architecture/#tdd_2","title":"\u041f\u0440\u0438\u043c\u0435\u0440: \u044d\u0432\u043e\u043b\u044e\u0446\u0438\u044f \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u044b \u0447\u0435\u0440\u0435\u0437 TDD","text":"<pre><code># \u041d\u0430\u0447\u0430\u043b\u044c\u043d\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f - \u043c\u043e\u043d\u043e\u043b\u0438\u0442\u043d\u044b\u0439 \u043f\u043e\u0434\u0445\u043e\u0434\nclass OrderService:\n    def process_order(self, order_data):\n        # \u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f\n        if not order_data.get('customer_id'):\n            return False\n\n        # \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 inventory\n        db = MySQLDatabase()\n        inventory = db.get_inventory(order_data['product_id'])\n        if inventory &lt; order_data['quantity']:\n            return False\n\n        # \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043f\u043b\u0430\u0442\u0435\u0436\u0430\n        payment_gateway = PayPalGateway()\n        payment_result = payment_gateway.charge(order_data['amount'])\n        if not payment_result.success:\n            return False\n\n        # \u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 email\n        smtp = SMTPService()\n        smtp.send_email(order_data['customer_email'], \"Order confirmation\")\n\n        return True\n\n# \u041f\u043e\u0441\u043b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f TDD - \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u043d\u0430\u044f \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430\nclass OrderService:\n    def __init__(self, \n                 validator: OrderValidator,\n                 inventory_checker: InventoryChecker,\n                 payment_processor: PaymentProcessor,\n                 notification_service: NotificationService):\n        self.validator = validator\n        self.inventory_checker = inventory_checker\n        self.payment_processor = payment_processor\n        self.notification_service = notification_service\n\n    def process_order(self, order_data: OrderData) -&gt; OrderResult:\n        # \u041a\u0430\u0436\u0434\u044b\u0439 \u0448\u0430\u0433 \u0442\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\n        validation_result = self.validator.validate(order_data)\n        if not validation_result.is_valid:\n            return OrderResult.failure(validation_result.errors)\n\n        if not self.inventory_checker.is_available(order_data.product_id, order_data.quantity):\n            return OrderResult.failure([\"Product not available\"])\n\n        payment_result = self.payment_processor.process(order_data.payment_info)\n        if not payment_result.is_successful:\n            return OrderResult.failure([\"Payment failed\"])\n\n        self.notification_service.send_confirmation(order_data.customer_email)\n\n        return OrderResult.success(payment_result.transaction_id)\n</code></pre>"},{"location":"19_tdd_architecture/#solid-tdd","title":"\ud83c\udfad SOLID \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u044b \u0432 TDD","text":""},{"location":"19_tdd_architecture/#single-responsibility-principle-srp","title":"Single Responsibility Principle (SRP)","text":"<p>TDD \u0435\u0441\u0442\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u0432\u0435\u0434\u0435\u0442 \u043a SRP, \u0442\u0430\u043a \u043a\u0430\u043a \u043b\u0435\u0433\u0447\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043b\u0430\u0441\u0441\u044b \u0441 \u043e\u0434\u043d\u043e\u0439 \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c\u044e.</p> <pre><code># \u041d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0435 SRP - \u0441\u043b\u043e\u0436\u043d\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\nclass UserManager:\n    def create_user(self, user_data):\n        # \u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f\n        if not self._validate_email(user_data['email']):\n            raise ValueError(\"Invalid email\")\n\n        # \u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0432 \u0411\u0414\n        self._save_to_database(user_data)\n\n        # \u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 email\n        self._send_welcome_email(user_data['email'])\n\n        # \u041b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\n        self._log_user_creation(user_data)\n\n# \u0421\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435 SRP - \u043a\u0430\u0436\u0434\u044b\u0439 \u043a\u043b\u0430\u0441\u0441 \u043b\u0435\u0433\u043a\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\nclass EmailValidator:\n    def validate(self, email: str) -&gt; bool:\n        return \"@\" in email and \".\" in email.split(\"@\")[1]\n\nclass UserRepository:\n    def save(self, user: User) -&gt; User:\n        # \u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0432 \u0411\u0414\n        pass\n\nclass WelcomeEmailService:\n    def send_welcome_email(self, email: str) -&gt; None:\n        # \u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e email\n        pass\n\nclass UserCreationLogger:\n    def log_creation(self, user: User) -&gt; None:\n        # \u041b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\n        pass\n\nclass UserService:\n    def __init__(self, \n                 validator: EmailValidator,\n                 repository: UserRepository,\n                 email_service: WelcomeEmailService,\n                 logger: UserCreationLogger):\n        self.validator = validator\n        self.repository = repository\n        self.email_service = email_service\n        self.logger = logger\n\n    def create_user(self, user_data: dict) -&gt; User:\n        if not self.validator.validate(user_data['email']):\n            raise ValueError(\"Invalid email\")\n\n        user = User.from_dict(user_data)\n        saved_user = self.repository.save(user)\n\n        self.email_service.send_welcome_email(saved_user.email)\n        self.logger.log_creation(saved_user)\n\n        return saved_user\n\n# \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f \u043f\u0440\u043e\u0441\u0442\u044b\u043c\ndef test_user_service_create_user():\n    # \u041c\u043e\u043a\u0438\u0440\u0443\u0435\u043c \u0432\u0441\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438\n    mock_validator = Mock()\n    mock_validator.validate.return_value = True\n\n    mock_repository = Mock()\n    mock_repository.save.return_value = User(id=1, email=\"test@example.com\")\n\n    mock_email_service = Mock()\n    mock_logger = Mock()\n\n    service = UserService(mock_validator, mock_repository, mock_email_service, mock_logger)\n\n    user_data = {\"email\": \"test@example.com\", \"name\": \"Test User\"}\n    result = service.create_user(user_data)\n\n    assert result.email == \"test@example.com\"\n    mock_validator.validate.assert_called_once_with(\"test@example.com\")\n    mock_repository.save.assert_called_once()\n    mock_email_service.send_welcome_email.assert_called_once()\n    mock_logger.log_creation.assert_called_once()\n</code></pre>"},{"location":"19_tdd_architecture/#openclosed-principle-ocp","title":"Open/Closed Principle (OCP)","text":"<p>TDD \u0441\u043f\u043e\u0441\u043e\u0431\u0441\u0442\u0432\u0443\u0435\u0442 \u0440\u0430\u0441\u0448\u0438\u0440\u044f\u0435\u043c\u043e\u0441\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 \u0430\u0431\u0441\u0442\u0440\u0430\u043a\u0446\u0438\u0438.</p> <pre><code>from abc import ABC, abstractmethod\n\n# \u0410\u0431\u0441\u0442\u0440\u0430\u043a\u0446\u0438\u044f \u0434\u043b\u044f \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439\nclass NotificationSender(ABC):\n    @abstractmethod\n    def send(self, recipient: str, message: str) -&gt; bool:\n        pass\n\n# \u041a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438\nclass EmailNotificationSender(NotificationSender):\n    def send(self, recipient: str, message: str) -&gt; bool:\n        # \u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 email\n        return True\n\nclass SMSNotificationSender(NotificationSender):\n    def send(self, recipient: str, message: str) -&gt; bool:\n        # \u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 SMS\n        return True\n\nclass PushNotificationSender(NotificationSender):\n    def send(self, recipient: str, message: str) -&gt; bool:\n        # \u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 push \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f\n        return True\n\n# \u0421\u0435\u0440\u0432\u0438\u0441, \u0437\u0430\u043a\u0440\u044b\u0442\u044b\u0439 \u0434\u043b\u044f \u043c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438, \u043d\u043e \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u0439 \u0434\u043b\u044f \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u044f\nclass NotificationService:\n    def __init__(self, senders: list[NotificationSender]):\n        self.senders = senders\n\n    def send_notification(self, recipient: str, message: str) -&gt; list[bool]:\n        results = []\n        for sender in self.senders:\n            try:\n                result = sender.send(recipient, message)\n                results.append(result)\n            except Exception:\n                results.append(False)\n        return results\n\n# \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u0442\u0438\u043f\u0430 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439 \u0431\u0435\u0437 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043a\u043e\u0434\u0430\nclass SlackNotificationSender(NotificationSender):\n    def send(self, recipient: str, message: str) -&gt; bool:\n        # \u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0432 Slack\n        return True\n\ndef test_notification_service_with_multiple_senders():\n    email_sender = Mock()\n    email_sender.send.return_value = True\n\n    sms_sender = Mock()\n    sms_sender.send.return_value = True\n\n    slack_sender = Mock()\n    slack_sender.send.return_value = True\n\n    service = NotificationService([email_sender, sms_sender, slack_sender])\n    results = service.send_notification(\"user@example.com\", \"Hello\")\n\n    assert results == [True, True, True]\n    assert email_sender.send.call_count == 1\n    assert sms_sender.send.call_count == 1\n    assert slack_sender.send.call_count == 1\n</code></pre>"},{"location":"19_tdd_architecture/#dependency-inversion-principle-dip","title":"Dependency Inversion Principle (DIP)","text":"<p>TDD \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u0438\u043d\u0432\u0435\u0440\u0441\u0438\u0438 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439 \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c\u043e\u0441\u0442\u0438.</p> <pre><code># \u0412\u044b\u0441\u043e\u043a\u043e\u0443\u0440\u043e\u0432\u043d\u0435\u0432\u044b\u0435 \u043c\u043e\u0434\u0443\u043b\u0438 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u0437\u0430\u0432\u0438\u0441\u0435\u0442\u044c \u043e\u0442 \u043d\u0438\u0437\u043a\u043e\u0443\u0440\u043e\u0432\u043d\u0435\u0432\u044b\u0445\n# \u041d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0435 DIP\nclass OrderProcessor:\n    def __init__(self):\n        self.mysql_db = MySQLDatabase()  # \u0417\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c \u043e\u0442 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0439 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438\n        self.paypal = PayPalGateway()    # \u0417\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c \u043e\u0442 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0439 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438\n\n    def process(self, order):\n        # \u0421\u043b\u043e\u0436\u043d\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0437-\u0437\u0430 \u0436\u0435\u0441\u0442\u043a\u0438\u0445 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439\n        pass\n\n# \u0421\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435 DIP\nclass OrderRepository(ABC):\n    @abstractmethod\n    def save_order(self, order: Order) -&gt; int:\n        pass\n\nclass PaymentGateway(ABC):\n    @abstractmethod\n    def process_payment(self, amount: float, payment_info: dict) -&gt; PaymentResult:\n        pass\n\nclass OrderProcessor:\n    def __init__(self, \n                 order_repository: OrderRepository,\n                 payment_gateway: PaymentGateway):\n        self.order_repository = order_repository\n        self.payment_gateway = payment_gateway\n\n    def process(self, order: Order) -&gt; ProcessingResult:\n        payment_result = self.payment_gateway.process_payment(\n            order.total_amount, \n            order.payment_info\n        )\n\n        if payment_result.is_successful:\n            order_id = self.order_repository.save_order(order)\n            return ProcessingResult.success(order_id)\n\n        return ProcessingResult.failure(payment_result.error_message)\n\n# \u041a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438\nclass MySQLOrderRepository(OrderRepository):\n    def save_order(self, order: Order) -&gt; int:\n        # \u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0432 MySQL\n        pass\n\nclass PayPalGateway(PaymentGateway):\n    def process_payment(self, amount: float, payment_info: dict) -&gt; PaymentResult:\n        # \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0447\u0435\u0440\u0435\u0437 PayPal\n        pass\n\n# \u041b\u0435\u0433\u043a\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0431\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u044f DIP\ndef test_order_processor():\n    mock_repository = Mock()\n    mock_repository.save_order.return_value = 123\n\n    mock_gateway = Mock()\n    mock_gateway.process_payment.return_value = PaymentResult.success(\"txn_456\")\n\n    processor = OrderProcessor(mock_repository, mock_gateway)\n    order = Order(total_amount=100.0, payment_info={\"card\": \"1234\"})\n\n    result = processor.process(order)\n\n    assert result.is_successful\n    assert result.order_id == 123\n</code></pre>"},{"location":"19_tdd_architecture/#tdd_3","title":"\ud83c\udfdb\ufe0f \u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0435 \u043f\u0430\u0442\u0442\u0435\u0440\u043d\u044b \u0434\u043b\u044f TDD","text":""},{"location":"19_tdd_architecture/#1-hexagonal-architecture-ports-adapters","title":"1. Hexagonal Architecture (Ports &amp; Adapters)","text":"<pre><code># Domain Layer - \u0446\u0435\u043d\u0442\u0440 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u044b\nclass User:\n    def __init__(self, email: str, name: str):\n        self.email = email\n        self.name = name\n        self.is_active = True\n\n    def deactivate(self):\n        self.is_active = False\n\n    def change_email(self, new_email: str):\n        if \"@\" not in new_email:\n            raise ValueError(\"Invalid email format\")\n        self.email = new_email\n\n# Ports - \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b\nclass UserRepository(ABC):\n    @abstractmethod\n    def save(self, user: User) -&gt; User:\n        pass\n\n    @abstractmethod\n    def find_by_email(self, email: str) -&gt; Optional[User]:\n        pass\n\nclass EmailService(ABC):\n    @abstractmethod\n    def send_confirmation(self, email: str, token: str) -&gt; bool:\n        pass\n\n# Application Layer - use cases\nclass UserRegistrationUseCase:\n    def __init__(self, \n                 user_repository: UserRepository,\n                 email_service: EmailService):\n        self.user_repository = user_repository\n        self.email_service = email_service\n\n    def register_user(self, email: str, name: str) -&gt; User:\n        # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\n        existing_user = self.user_repository.find_by_email(email)\n        if existing_user:\n            raise ValueError(\"User already exists\")\n\n        # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\n        user = User(email, name)\n        saved_user = self.user_repository.save(user)\n\n        # \u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435\n        confirmation_token = \"abc123\"  # \u0412 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f\n        self.email_service.send_confirmation(email, confirmation_token)\n\n        return saved_user\n\n# Adapters - \u0432\u043d\u0435\u0448\u043d\u0438\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438\nclass SQLAlchemyUserRepository(UserRepository):\n    def __init__(self, session):\n        self.session = session\n\n    def save(self, user: User) -&gt; User:\n        # \u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0447\u0435\u0440\u0435\u0437 SQLAlchemy\n        pass\n\n    def find_by_email(self, email: str) -&gt; Optional[User]:\n        # \u041f\u043e\u0438\u0441\u043a \u0447\u0435\u0440\u0435\u0437 SQLAlchemy\n        pass\n\nclass SMTPEmailService(EmailService):\n    def send_confirmation(self, email: str, token: str) -&gt; bool:\n        # \u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0447\u0435\u0440\u0435\u0437 SMTP\n        pass\n\n# Web Adapter (FastAPI)\nfrom fastapi import FastAPI, Depends\n\napp = FastAPI()\n\ndef get_user_registration_use_case() -&gt; UserRegistrationUseCase:\n    # Dependency injection\n    session = get_db_session()\n    user_repository = SQLAlchemyUserRepository(session)\n    email_service = SMTPEmailService()\n    return UserRegistrationUseCase(user_repository, email_service)\n\n@app.post(\"/users/register\")\nasync def register_user(\n    user_data: UserRegistrationRequest,\n    use_case: UserRegistrationUseCase = Depends(get_user_registration_use_case)\n):\n    try:\n        user = use_case.register_user(user_data.email, user_data.name)\n        return {\"success\": True, \"user_id\": user.id}\n    except ValueError as e:\n        return {\"success\": False, \"error\": str(e)}\n\n# \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 use case \u0438\u0437\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\ndef test_user_registration_use_case():\n    mock_repository = Mock()\n    mock_repository.find_by_email.return_value = None\n    mock_repository.save.return_value = User(\"test@example.com\", \"Test User\")\n\n    mock_email_service = Mock()\n    mock_email_service.send_confirmation.return_value = True\n\n    use_case = UserRegistrationUseCase(mock_repository, mock_email_service)\n\n    user = use_case.register_user(\"test@example.com\", \"Test User\")\n\n    assert user.email == \"test@example.com\"\n    assert user.name == \"Test User\"\n    mock_repository.save.assert_called_once()\n    mock_email_service.send_confirmation.assert_called_once()\n</code></pre>"},{"location":"19_tdd_architecture/#2-clean-architecture","title":"2. Clean Architecture","text":"<pre><code># Entities - \u0446\u0435\u043d\u0442\u0440 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u044b\nclass Order:\n    def __init__(self, customer_id: int, items: list):\n        self.customer_id = customer_id\n        self.items = items\n        self.status = \"pending\"\n        self.total = self._calculate_total()\n\n    def _calculate_total(self) -&gt; float:\n        return sum(item.price * item.quantity for item in self.items)\n\n    def confirm(self):\n        if not self.items:\n            raise ValueError(\"Cannot confirm empty order\")\n        self.status = \"confirmed\"\n\n    def cancel(self):\n        if self.status == \"shipped\":\n            raise ValueError(\"Cannot cancel shipped order\")\n        self.status = \"cancelled\"\n\n# Use Cases\nclass ConfirmOrderUseCase:\n    def __init__(self, \n                 order_repository: OrderRepository,\n                 inventory_service: InventoryService,\n                 notification_service: NotificationService):\n        self.order_repository = order_repository\n        self.inventory_service = inventory_service\n        self.notification_service = notification_service\n\n    def execute(self, order_id: int) -&gt; ConfirmOrderResult:\n        order = self.order_repository.find_by_id(order_id)\n        if not order:\n            return ConfirmOrderResult.failure(\"Order not found\")\n\n        # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u043e\u0432\n        for item in order.items:\n            if not self.inventory_service.is_available(item.product_id, item.quantity):\n                return ConfirmOrderResult.failure(f\"Product {item.product_id} not available\")\n\n        # \u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u0435\u043c \u0437\u0430\u043a\u0430\u0437\n        order.confirm()\n        self.order_repository.save(order)\n\n        # \u0423\u0432\u0435\u0434\u043e\u043c\u043b\u044f\u0435\u043c \u043a\u043b\u0438\u0435\u043d\u0442\u0430\n        self.notification_service.send_order_confirmation(order.customer_id, order.id)\n\n        return ConfirmOrderResult.success(order.id)\n\n# Interface Adapters\nclass OrderController:\n    def __init__(self, confirm_order_use_case: ConfirmOrderUseCase):\n        self.confirm_order_use_case = confirm_order_use_case\n\n    def confirm_order(self, order_id: int) -&gt; dict:\n        result = self.confirm_order_use_case.execute(order_id)\n\n        if result.is_successful:\n            return {\n                \"status\": \"success\",\n                \"order_id\": result.order_id,\n                \"message\": \"Order confirmed successfully\"\n            }\n        else:\n            return {\n                \"status\": \"error\",\n                \"message\": result.error_message\n            }\n\n# Frameworks &amp; Drivers\nclass FlaskOrderController(OrderController):\n    def setup_routes(self, app):\n        @app.route('/orders/&lt;int:order_id&gt;/confirm', methods=['POST'])\n        def confirm_order_endpoint(order_id):\n            return self.confirm_order(order_id)\n\n# \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e \u0441\u043b\u043e\u044f\u043c\ndef test_order_entity():\n    \"\"\"\u0422\u0435\u0441\u0442 entity \u0438\u0437\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e.\"\"\"\n    items = [Item(product_id=1, quantity=2, price=10.0)]\n    order = Order(customer_id=123, items=items)\n\n    assert order.total == 20.0\n    assert order.status == \"pending\"\n\n    order.confirm()\n    assert order.status == \"confirmed\"\n\ndef test_confirm_order_use_case():\n    \"\"\"\u0422\u0435\u0441\u0442 use case \u0441 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u043c\u0438 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044f\u043c\u0438.\"\"\"\n    mock_repository = Mock()\n    mock_inventory = Mock()\n    mock_notification = Mock()\n\n    # \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u043c\u043e\u043a\u0438\n    order = Order(customer_id=123, items=[Item(product_id=1, quantity=1, price=10.0)])\n    mock_repository.find_by_id.return_value = order\n    mock_inventory.is_available.return_value = True\n\n    use_case = ConfirmOrderUseCase(mock_repository, mock_inventory, mock_notification)\n    result = use_case.execute(1)\n\n    assert result.is_successful\n    assert order.status == \"confirmed\"\n    mock_repository.save.assert_called_once_with(order)\n    mock_notification.send_order_confirmation.assert_called_once()\n\ndef test_order_controller():\n    \"\"\"\u0422\u0435\u0441\u0442 controller \u0441 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u043c use case.\"\"\"\n    mock_use_case = Mock()\n    mock_use_case.execute.return_value = ConfirmOrderResult.success(1)\n\n    controller = OrderController(mock_use_case)\n    response = controller.confirm_order(1)\n\n    assert response[\"status\"] == \"success\"\n    assert response[\"order_id\"] == 1\n    mock_use_case.execute.assert_called_once_with(1)\n</code></pre>"},{"location":"19_tdd_architecture/#3-cqrs-command-query-responsibility-segregation","title":"3. CQRS (Command Query Responsibility Segregation)","text":"<pre><code># Commands - \u0438\u0437\u043c\u0435\u043d\u044f\u044e\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435\nclass CreateUserCommand:\n    def __init__(self, email: str, name: str):\n        self.email = email\n        self.name = name\n\nclass UpdateUserEmailCommand:\n    def __init__(self, user_id: int, new_email: str):\n        self.user_id = user_id\n        self.new_email = new_email\n\n# Queries - \u0447\u0438\u0442\u0430\u044e\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435\nclass GetUserByIdQuery:\n    def __init__(self, user_id: int):\n        self.user_id = user_id\n\nclass GetUsersByEmailQuery:\n    def __init__(self, email_pattern: str):\n        self.email_pattern = email_pattern\n\n# Command Handlers\nclass CreateUserCommandHandler:\n    def __init__(self, \n                 user_repository: UserRepository,\n                 email_service: EmailService):\n        self.user_repository = user_repository\n        self.email_service = email_service\n\n    def handle(self, command: CreateUserCommand) -&gt; int:\n        # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\n        existing = self.user_repository.find_by_email(command.email)\n        if existing:\n            raise ValueError(\"User already exists\")\n\n        # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\n        user = User(command.email, command.name)\n        saved_user = self.user_repository.save(user)\n\n        # \u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c welcome email\n        self.email_service.send_welcome_email(saved_user.email)\n\n        return saved_user.id\n\n# Query Handlers\nclass GetUserByIdQueryHandler:\n    def __init__(self, user_read_repository: UserReadRepository):\n        self.user_read_repository = user_read_repository\n\n    def handle(self, query: GetUserByIdQuery) -&gt; Optional[UserDto]:\n        return self.user_read_repository.find_by_id(query.user_id)\n\n# Command/Query Bus\nclass CommandBus:\n    def __init__(self):\n        self.handlers = {}\n\n    def register_handler(self, command_type: type, handler):\n        self.handlers[command_type] = handler\n\n    def execute(self, command):\n        handler = self.handlers.get(type(command))\n        if not handler:\n            raise ValueError(f\"No handler for {type(command)}\")\n        return handler.handle(command)\n\nclass QueryBus:\n    def __init__(self):\n        self.handlers = {}\n\n    def register_handler(self, query_type: type, handler):\n        self.handlers[query_type] = handler\n\n    def execute(self, query):\n        handler = self.handlers.get(type(query))\n        if not handler:\n            raise ValueError(f\"No handler for {type(query)}\")\n        return handler.handle(query)\n\n# \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 CQRS\ndef test_create_user_command_handler():\n    mock_repository = Mock()\n    mock_repository.find_by_email.return_value = None\n    mock_repository.save.return_value = User(\"test@example.com\", \"Test User\")\n    mock_repository.save.return_value.id = 123\n\n    mock_email_service = Mock()\n\n    handler = CreateUserCommandHandler(mock_repository, mock_email_service)\n    command = CreateUserCommand(\"test@example.com\", \"Test User\")\n\n    user_id = handler.handle(command)\n\n    assert user_id == 123\n    mock_repository.save.assert_called_once()\n    mock_email_service.send_welcome_email.assert_called_once_with(\"test@example.com\")\n\ndef test_command_bus():\n    mock_handler = Mock()\n    mock_handler.handle.return_value = 123\n\n    command_bus = CommandBus()\n    command_bus.register_handler(CreateUserCommand, mock_handler)\n\n    command = CreateUserCommand(\"test@example.com\", \"Test User\")\n    result = command_bus.execute(command)\n\n    assert result == 123\n    mock_handler.handle.assert_called_once_with(command)\n</code></pre>"},{"location":"19_tdd_architecture/#dependency-injection-tdd","title":"\ud83d\udee0\ufe0f Dependency Injection \u0432 TDD","text":""},{"location":"19_tdd_architecture/#1-di","title":"1. \u0420\u0443\u0447\u043d\u0430\u044f DI","text":"<pre><code>class ServiceContainer:\n    def __init__(self):\n        self._services = {}\n        self._singletons = {}\n\n    def register_transient(self, interface: type, implementation: type):\n        self._services[interface] = implementation\n\n    def register_singleton(self, interface: type, implementation: type):\n        self._services[interface] = implementation\n        self._singletons[interface] = None\n\n    def get(self, interface: type):\n        if interface in self._singletons:\n            if self._singletons[interface] is None:\n                self._singletons[interface] = self._create_instance(interface)\n            return self._singletons[interface]\n\n        return self._create_instance(interface)\n\n    def _create_instance(self, interface: type):\n        implementation = self._services[interface]\n        # \u041f\u0440\u043e\u0441\u0442\u0430\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0431\u0435\u0437 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439\n        return implementation()\n\n# \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\ndef setup_container() -&gt; ServiceContainer:\n    container = ServiceContainer()\n\n    container.register_singleton(UserRepository, SQLAlchemyUserRepository)\n    container.register_transient(EmailService, SMTPEmailService)\n    container.register_transient(UserService, UserService)\n\n    return container\n\ndef test_service_container():\n    container = ServiceContainer()\n    container.register_transient(EmailService, SMTPEmailService)\n\n    service1 = container.get(EmailService)\n    service2 = container.get(EmailService)\n\n    assert isinstance(service1, SMTPEmailService)\n    assert service1 is not service2  # Transient services\n</code></pre>"},{"location":"19_tdd_architecture/#2-dependency-injector-library","title":"2. Dependency Injector Library","text":"<pre><code># \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 dependency-injector\nuv add dependency-injector\n</code></pre> <pre><code>from dependency_injector import containers, providers\nfrom dependency_injector.wiring import Provide, inject\n\n# Container \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f\nclass ApplicationContainer(containers.DeclarativeContainer):\n    # \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f\n    config = providers.Configuration()\n\n    # Database\n    database = providers.Singleton(\n        Database,\n        host=config.database.host,\n        port=config.database.port,\n    )\n\n    # Repositories\n    user_repository = providers.Factory(\n        SQLAlchemyUserRepository,\n        session=database.provided.session,\n    )\n\n    # Services\n    email_service = providers.Factory(\n        SMTPEmailService,\n        host=config.email.smtp_host,\n        port=config.email.smtp_port,\n    )\n\n    user_service = providers.Factory(\n        UserService,\n        user_repository=user_repository,\n        email_service=email_service,\n    )\n\n# FastAPI \u0441 DI\n@app.post(\"/users\")\n@inject\nasync def create_user(\n    user_data: UserCreateRequest,\n    user_service: UserService = Provide[ApplicationContainer.user_service]\n):\n    user = await user_service.create_user(user_data.email, user_data.name)\n    return {\"user_id\": user.id}\n\n# \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441 override\ndef test_user_creation_with_di():\n    container = ApplicationContainer()\n\n    # Override \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u043e\u0432\n    mock_repository = Mock()\n    mock_repository.save.return_value = User(\"test@example.com\", \"Test User\")\n\n    mock_email_service = Mock()\n\n    with container.user_repository.override(mock_repository), \\\n         container.email_service.override(mock_email_service):\n\n        user_service = container.user_service()\n        user = user_service.create_user(\"test@example.com\", \"Test User\")\n\n        assert user.email == \"test@example.com\"\n        mock_repository.save.assert_called_once()\n</code></pre>"},{"location":"19_tdd_architecture/#_3","title":"\ud83e\uddea \u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b","text":""},{"location":"19_tdd_architecture/#1","title":"1. \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439","text":"<pre><code>import ast\nimport os\nfrom pathlib import Path\n\ndef test_domain_has_no_infrastructure_dependencies():\n    \"\"\"\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442, \u0447\u0442\u043e \u0434\u043e\u043c\u0435\u043d \u043d\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b.\"\"\"\n    domain_path = Path(\"src/domain\")\n\n    for python_file in domain_path.glob(\"**/*.py\"):\n        with open(python_file, 'r', encoding='utf-8') as f:\n            try:\n                tree = ast.parse(f.read())\n            except SyntaxError:\n                continue\n\n        for node in ast.walk(tree):\n            if isinstance(node, ast.Import):\n                for alias in node.names:\n                    assert not alias.name.startswith('infrastructure'), \\\n                        f\"Domain module {python_file} imports infrastructure: {alias.name}\"\n\n            elif isinstance(node, ast.ImportFrom):\n                if node.module and node.module.startswith('infrastructure'):\n                    raise AssertionError(\n                        f\"Domain module {python_file} imports from infrastructure: {node.module}\"\n                    )\n\ndef test_no_circular_dependencies():\n    \"\"\"\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0435 \u0446\u0438\u043a\u043b\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439.\"\"\"\n    import_graph = {}\n\n    def extract_imports(file_path):\n        imports = set()\n        with open(file_path, 'r', encoding='utf-8') as f:\n            try:\n                tree = ast.parse(f.read())\n            except SyntaxError:\n                return imports\n\n        for node in ast.walk(tree):\n            if isinstance(node, ast.ImportFrom) and node.module:\n                if node.module.startswith('src.'):\n                    imports.add(node.module)\n\n        return imports\n\n    # \u0421\u0442\u0440\u043e\u0438\u043c \u0433\u0440\u0430\u0444 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439\n    for root, dirs, files in os.walk('src'):\n        for file in files:\n            if file.endswith('.py'):\n                file_path = os.path.join(root, file)\n                module_name = file_path.replace('/', '.').replace('\\\\', '.').replace('.py', '')\n                imports = extract_imports(file_path)\n                import_graph[module_name] = imports\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0446\u0438\u043a\u043b\u044b (\u0443\u043f\u0440\u043e\u0449\u0435\u043d\u043d\u0430\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430)\n    def has_cycle(graph, start, visited, rec_stack):\n        visited.add(start)\n        rec_stack.add(start)\n\n        for neighbor in graph.get(start, []):\n            if neighbor in graph:\n                if neighbor not in visited:\n                    if has_cycle(graph, neighbor, visited, rec_stack):\n                        return True\n                elif neighbor in rec_stack:\n                    return True\n\n        rec_stack.remove(start)\n        return False\n\n    visited = set()\n    for module in import_graph:\n        if module not in visited:\n            if has_cycle(import_graph, module, visited, set()):\n                pytest.fail(f\"Circular dependency detected involving {module}\")\n</code></pre>"},{"location":"19_tdd_architecture/#2","title":"2. \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0445 \u043f\u0430\u0442\u0442\u0435\u0440\u043d\u043e\u0432","text":"<pre><code>def test_controllers_only_depend_on_use_cases():\n    \"\"\"\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442, \u0447\u0442\u043e \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u043b\u0435\u0440\u044b \u0437\u0430\u0432\u0438\u0441\u044f\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0442 use cases.\"\"\"\n    controllers_path = Path(\"src/controllers\")\n\n    for controller_file in controllers_path.glob(\"**/*.py\"):\n        with open(controller_file, 'r', encoding='utf-8') as f:\n            content = f.read()\n\n        # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c, \u0447\u0442\u043e \u043d\u0435\u0442 \u043f\u0440\u044f\u043c\u044b\u0445 \u0438\u043c\u043f\u043e\u0440\u0442\u043e\u0432 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0435\u0432\n        assert 'from src.infrastructure' not in content, \\\n            f\"Controller {controller_file} directly imports infrastructure\"\n\n        assert 'from src.domain.repositories' not in content, \\\n            f\"Controller {controller_file} directly imports repositories\"\n\ndef test_use_cases_follow_single_responsibility():\n    \"\"\"\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442, \u0447\u0442\u043e use cases \u0441\u043b\u0435\u0434\u0443\u044e\u0442 \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u0443 \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0439 \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438.\"\"\"\n    use_cases_path = Path(\"src/use_cases\")\n\n    for use_case_file in use_cases_path.glob(\"**/*.py\"):\n        with open(use_case_file, 'r', encoding='utf-8') as f:\n            tree = ast.parse(f.read())\n\n        class_count = 0\n        method_count = 0\n\n        for node in ast.walk(tree):\n            if isinstance(node, ast.ClassDef):\n                class_count += 1\n                for item in node.body:\n                    if isinstance(item, ast.FunctionDef) and not item.name.startswith('_'):\n                        method_count += 1\n\n        # \u041a\u0430\u0436\u0434\u044b\u0439 use case \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u0438\u043d \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0439 \u043c\u0435\u0442\u043e\u0434\n        if class_count &gt; 0:\n            assert method_count &lt;= class_count, \\\n                f\"Use case {use_case_file} has too many public methods (SRP violation)\"\n\ndef test_entities_have_no_infrastructure_dependencies():\n    \"\"\"\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442, \u0447\u0442\u043e entity \u043d\u0435 \u0437\u0430\u0432\u0438\u0441\u044f\u0442 \u043e\u0442 \u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b.\"\"\"\n    entities_path = Path(\"src/domain/entities\")\n\n    forbidden_imports = [\n        'sqlalchemy',\n        'django',\n        'flask',\n        'fastapi',\n        'requests',\n        'aiohttp'\n    ]\n\n    for entity_file in entities_path.glob(\"**/*.py\"):\n        with open(entity_file, 'r', encoding='utf-8') as f:\n            content = f.read()\n\n        for forbidden in forbidden_imports:\n            assert forbidden not in content, \\\n                f\"Entity {entity_file} has infrastructure dependency: {forbidden}\"\n</code></pre>"},{"location":"19_tdd_architecture/#_4","title":"\ud83c\udfaf \u041f\u0440\u043e\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u0442\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c\u043e\u0441\u0442\u0438","text":""},{"location":"19_tdd_architecture/#design-for-testability-principles","title":"Design for Testability Principles","text":"<ol> <li>\u0418\u0437\u0431\u0435\u0433\u0430\u0439\u0442\u0435 \u0441\u0442\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439</li> <li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 dependency injection</li> <li>\u0421\u043e\u0437\u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0438\u0435, \u0441\u0444\u043e\u043a\u0443\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043a\u043b\u0430\u0441\u0441\u044b</li> <li>\u041f\u0440\u0435\u0434\u043f\u043e\u0447\u0438\u0442\u0430\u0439\u0442\u0435 \u043a\u043e\u043c\u043f\u043e\u0437\u0438\u0446\u0438\u044e \u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044e</li> <li>\u0414\u0435\u043b\u0430\u0439\u0442\u0435 \u043f\u043e\u0431\u043e\u0447\u043d\u044b\u0435 \u044d\u0444\u0444\u0435\u043a\u0442\u044b \u044f\u0432\u043d\u044b\u043c\u0438</li> </ol> <pre><code># \u041f\u043b\u043e\u0445\u043e - \u0441\u043b\u043e\u0436\u043d\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\nclass OrderService:\n    def process_order(self, order_data):\n        # \u0421\u0442\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438\n        db = Database.get_instance()\n        email = EmailSender()\n        logger = Logger.get_logger(__name__)\n\n        # \u0421\u043a\u0440\u044b\u0442\u044b\u0435 \u043f\u043e\u0431\u043e\u0447\u043d\u044b\u0435 \u044d\u0444\u0444\u0435\u043a\u0442\u044b\n        current_time = datetime.now()\n\n        # \u041c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u0430\u044f \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c\n        if self._validate_order(order_data):\n            order_id = db.save_order(order_data)\n            email.send_confirmation(order_data['email'])\n            logger.info(f\"Order {order_id} processed at {current_time}\")\n            return order_id\n\n        return None\n\n# \u0425\u043e\u0440\u043e\u0448\u043e - \u043b\u0435\u0433\u043a\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\nclass OrderValidator:\n    def validate(self, order_data: dict) -&gt; ValidationResult:\n        errors = []\n        if not order_data.get('customer_email'):\n            errors.append(\"Email is required\")\n        if not order_data.get('items'):\n            errors.append(\"Items are required\")\n\n        return ValidationResult(is_valid=len(errors) == 0, errors=errors)\n\nclass OrderService:\n    def __init__(self, \n                 validator: OrderValidator,\n                 repository: OrderRepository,\n                 email_service: EmailService,\n                 logger: Logger,\n                 time_provider: TimeProvider):\n        self.validator = validator\n        self.repository = repository\n        self.email_service = email_service\n        self.logger = logger\n        self.time_provider = time_provider\n\n    def process_order(self, order_data: dict) -&gt; ProcessOrderResult:\n        # \u042f\u0432\u043d\u0430\u044f \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f\n        validation = self.validator.validate(order_data)\n        if not validation.is_valid:\n            return ProcessOrderResult.failure(validation.errors)\n\n        # \u042f\u0432\u043d\u044b\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438\n        order = Order.from_dict(order_data)\n        order.processed_at = self.time_provider.now()\n\n        saved_order = self.repository.save(order)\n\n        self.email_service.send_confirmation(order.customer_email, saved_order.id)\n        self.logger.info(f\"Order {saved_order.id} processed at {order.processed_at}\")\n\n        return ProcessOrderResult.success(saved_order.id)\n\n# \u041b\u0435\u0433\u043a\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\ndef test_order_service_successful_processing():\n    # Arrange\n    mock_validator = Mock()\n    mock_validator.validate.return_value = ValidationResult(is_valid=True, errors=[])\n\n    mock_repository = Mock()\n    mock_repository.save.return_value = Order(id=123, customer_email=\"test@example.com\")\n\n    mock_email_service = Mock()\n    mock_logger = Mock()\n\n    mock_time_provider = Mock()\n    mock_time_provider.now.return_value = datetime(2024, 8, 26, 12, 0, 0)\n\n    service = OrderService(\n        mock_validator, \n        mock_repository, \n        mock_email_service, \n        mock_logger,\n        mock_time_provider\n    )\n\n    order_data = {\"customer_email\": \"test@example.com\", \"items\": [{\"id\": 1}]}\n\n    # Act\n    result = service.process_order(order_data)\n\n    # Assert\n    assert result.is_successful\n    assert result.order_id == 123\n\n    mock_validator.validate.assert_called_once_with(order_data)\n    mock_repository.save.assert_called_once()\n    mock_email_service.send_confirmation.assert_called_once_with(\"test@example.com\", 123)\n    mock_logger.info.assert_called_once()\n</code></pre>"},{"location":"19_tdd_architecture/#_5","title":"\ud83c\udfc6 \u041b\u0443\u0447\u0448\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438","text":""},{"location":"19_tdd_architecture/#tdd_4","title":"\u2705 \u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0435 \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u044b TDD","text":"<ol> <li>Dependency Inversion \u2014 \u0437\u0430\u0432\u0438\u0441\u044c\u0442\u0435 \u043e\u0442 \u0430\u0431\u0441\u0442\u0440\u0430\u043a\u0446\u0438\u0439</li> <li>Single Responsibility \u2014 \u043e\u0434\u0438\u043d \u043a\u043b\u0430\u0441\u0441 = \u043e\u0434\u043d\u0430 \u043f\u0440\u0438\u0447\u0438\u043d\u0430 \u0434\u043b\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f</li> <li>Interface Segregation \u2014 \u043c\u043d\u043e\u0433\u043e \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0438\u0445 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u043e\u0432</li> <li>Composition over Inheritance \u2014 \u043f\u0440\u0435\u0434\u043f\u043e\u0447\u0438\u0442\u0430\u0439\u0442\u0435 \u043a\u043e\u043c\u043f\u043e\u0437\u0438\u0446\u0438\u044e</li> <li>Explicit Dependencies \u2014 \u0434\u0435\u043b\u0430\u0439\u0442\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u044f\u0432\u043d\u044b\u043c\u0438</li> <li>Pure Functions \u2014 \u0438\u0437\u0431\u0435\u0433\u0430\u0439\u0442\u0435 \u043f\u043e\u0431\u043e\u0447\u043d\u044b\u0445 \u044d\u0444\u0444\u0435\u043a\u0442\u043e\u0432 \u0433\u0434\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e</li> </ol>"},{"location":"19_tdd_architecture/#_6","title":"\u274c \u0410\u043d\u0442\u0438\u043f\u0430\u0442\u0442\u0435\u0440\u043d\u044b","text":"<ol> <li>God Object \u2014 \u043a\u043b\u0430\u0441\u0441\u044b, \u0434\u0435\u043b\u0430\u044e\u0449\u0438\u0435 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e</li> <li>Tight Coupling \u2014 \u0436\u0435\u0441\u0442\u043a\u0438\u0435 \u0441\u0432\u044f\u0437\u0438 \u043c\u0435\u0436\u0434\u0443 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430\u043c\u0438</li> <li>Hidden Dependencies \u2014 \u0441\u043a\u0440\u044b\u0442\u044b\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f</li> <li>Mixed Concerns \u2014 \u0441\u043c\u0435\u0448\u0435\u043d\u0438\u0435 \u0431\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u0438 \u0441 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u043c\u0438 \u0434\u0435\u0442\u0430\u043b\u044f\u043c\u0438</li> <li>Testing Implementation Details \u2014 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0445 \u043c\u0435\u0442\u043e\u0434\u043e\u0432</li> </ol>"},{"location":"19_tdd_architecture/#_7","title":"\ud83d\udd2e \u0417\u0430\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435","text":"<p>TDD \u043d\u0435 \u043f\u0440\u043e\u0441\u0442\u043e \u0443\u043b\u0443\u0447\u0448\u0430\u0435\u0442 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u0442\u0435\u0441\u0442\u043e\u0432 \u2014 \u043e\u043d \u0444\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u0442 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0443, \u043a\u043e\u0442\u043e\u0440\u0430\u044f:</p> <ul> <li>\u041b\u0435\u0433\u043a\u043e \u0438\u0437\u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u043f\u0440\u0438 \u043d\u043e\u0432\u044b\u0445 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f\u0445</li> <li>\u0425\u043e\u0440\u043e\u0448\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043d\u0430 \u0432\u0441\u0435\u0445 \u0443\u0440\u043e\u0432\u043d\u044f\u0445</li> <li>\u041f\u043e\u043d\u044f\u0442\u043d\u0430 \u043d\u043e\u0432\u044b\u043c \u0447\u043b\u0435\u043d\u0430\u043c \u043a\u043e\u043c\u0430\u043d\u0434\u044b</li> <li>\u041c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0441 \u0440\u043e\u0441\u0442\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0430</li> <li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0432 \u0434\u043e\u043b\u0433\u043e\u0441\u0440\u043e\u0447\u043d\u043e\u0439 \u043f\u0435\u0440\u0441\u043f\u0435\u043a\u0442\u0438\u0432\u0435</li> </ul> <p>\u0421\u043b\u0435\u0434\u0443\u044f \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u0430\u043c TDD \u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u044f \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0435 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0435 \u043f\u0430\u0442\u0442\u0435\u0440\u043d\u044b, \u0432\u044b \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u0443, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0434\u043e\u0432\u0430\u0442\u044c \u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432, \u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u043d\u0430 \u043f\u0440\u043e\u0442\u044f\u0436\u0435\u043d\u0438\u0438 \u043c\u043d\u043e\u0433\u0438\u0445 \u043b\u0435\u0442.</p>"},{"location":"19_tdd_architecture/#_8","title":"\ud83e\uddea \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u0432\u043e\u0438 \u0437\u043d\u0430\u043d\u0438\u044f","text":""},{"location":"19_tdd_architecture/#_9","title":"\ud83d\udd17 \u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0442\u0435\u043c\u044b","text":"<ul> <li>\u041e\u0441\u043d\u043e\u0432\u044b TDD - TDD \u043a\u0430\u043a \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u043f\u0440\u043e\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f</li> <li>\u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 \u0442\u0435\u0445\u043d\u0438\u043a\u0438 - \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b</li> <li>TDD \u0432 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 - \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u0432\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439</li> <li>\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438 \u0440\u0430\u0431\u043e\u0442\u044b \u0441 Legacy Code - \u0440\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u044b</li> <li>\u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u043e\u0435 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 - \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430</li> <li>\u041b\u0443\u0447\u0448\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438 - \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438</li> </ul> <p>\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430: \u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u043e\u0435 \u043c\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430: \u0417\u0430\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0438 \u0440\u0435\u0441\u0443\u0440\u0441\u044b</p> <p>\ud83c\udfd7\ufe0f \u041f\u043e\u043c\u043d\u0438\u0442\u0435: \u0445\u043e\u0440\u043e\u0448\u0430\u044f \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u2014 \u044d\u0442\u043e \u043d\u0435 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0441\u0442\u044c, \u044d\u0442\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043e\u0441\u043e\u0437\u043d\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0447\u0435\u0440\u0435\u0437 \u0442\u0435\u0441\u0442\u044b!</p>"},{"location":"IMPROVEMENTS_COMPLETED/","title":"\u2705 \u041e\u0442\u0447\u0435\u0442 \u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f\u0445","text":""},{"location":"IMPROVEMENTS_COMPLETED/#_2","title":"\ud83d\udccb \u0421\u0442\u0430\u0442\u0443\u0441 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438","text":"<p>\u0412\u0441\u0435 \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u0438\u0437 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f Architecture and Patterns \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u044b!</p>"},{"location":"IMPROVEMENTS_COMPLETED/#_3","title":"\u2705 \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438","text":""},{"location":"IMPROVEMENTS_COMPLETED/#1-pyodide","title":"1. \u2705 \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f Pyodide \u0434\u043b\u044f \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439","text":"<p>\u0421\u0442\u0430\u0442\u0443\u0441: \u041f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043e</p> <p>\u0427\u0442\u043e \u0441\u0434\u0435\u043b\u0430\u043d\u043e: - \u2705 \u0421\u043e\u0437\u0434\u0430\u043d <code>docs/assets/js/pyodide-exercise.js</code> \u0441 \u043f\u043e\u043b\u043d\u043e\u0439 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0435\u0439 - \u2705 \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d <code>main.py</code> \u0434\u043b\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 Pyodide (\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0432\u043a\u043b\u044e\u0447\u0435\u043d) - \u2705 \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0441\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f test_cases \u0432 JSON - \u2705 \u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u0430 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0442\u0435\u0441\u0442\u043e\u0432 - \u2705 \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u043f\u0440\u0438\u043c\u0435\u0440\u044b \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439 \u0432 <code>03_red_green_refactor.md</code> - \u2705 \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f <code>INTERACTIVE_EXERCISES_GUIDE.md</code></p> <p>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438: - \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 Python \u043a\u043e\u0434\u0430 \u0432 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435 - \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0442\u0435\u0441\u0442\u043e\u0432 - \u0414\u0435\u0442\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0430\u0445 - \u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0438 \u0434\u043b\u044f \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f - \u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0432 \u0438\u0437\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0441\u0440\u0435\u0434\u0435</p>"},{"location":"IMPROVEMENTS_COMPLETED/#2-cicd-workflows","title":"2. \u2705 \u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0435 CI/CD workflows","text":"<p>\u0421\u0442\u0430\u0442\u0443\u0441: \u041f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043e</p> <p>\u0427\u0442\u043e \u0441\u0434\u0435\u043b\u0430\u043d\u043e: - \u2705 \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u043a\u044d\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439 \u0447\u0435\u0440\u0435\u0437 <code>actions/cache@v4</code> - \u2705 \u0412\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u043a\u044d\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 <code>setup-uv@v4</code> (enable-cache: true) - \u2705 \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b coverage reports \u0441 pytest-cov - \u2705 \u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0441 Codecov \u0434\u043b\u044f \u043e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u043d\u0438\u044f \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f - \u2705 \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 HTML coverage reports \u043a\u0430\u043a \u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u043e\u0432 - \u2705 \u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0431\u0438\u0442\u044b\u0445 \u0441\u0441\u044b\u043b\u043e\u043a \u0447\u0435\u0440\u0435\u0437 <code>peter-evans/link-checker@v1</code> - \u2705 \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 \u043a\u0430\u043a \u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u0430</p> <p>\u041f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430: - \u0423\u0441\u043a\u043e\u0440\u0435\u043d\u0438\u0435 \u0441\u0431\u043e\u0440\u043e\u043a \u0437\u0430 \u0441\u0447\u0435\u0442 \u043a\u044d\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f - \u041e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f \u043a\u043e\u0434\u0430 \u0442\u0435\u0441\u0442\u0430\u043c\u0438 - \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0441\u0441\u044b\u043b\u043e\u043a \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 - \u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u043e\u0432 \u0434\u043b\u044f \u0430\u043d\u0430\u043b\u0438\u0437\u0430</p>"},{"location":"IMPROVEMENTS_COMPLETED/#3","title":"3. \u2705 \u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f","text":"<p>\u0421\u0442\u0430\u0442\u0443\u0441: \u041f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043e</p> <p>\u0427\u0442\u043e \u0441\u0434\u0435\u043b\u0430\u043d\u043e: - \u2705 \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043c\u0435\u0442\u043e\u0434 <code>check_tdd_compliance()</code> \u0432 <code>CodeAnalyzer</code> - \u2705 \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043d\u0430\u043b\u0438\u0447\u0438\u044f \u0442\u0435\u0441\u0442\u043e\u0432 \u0432 \u043a\u043e\u0434\u0435 - \u2705 \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043f\u043e\u0440\u044f\u0434\u043a\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 (\u0442\u0435\u0441\u0442\u044b \u043f\u0435\u0440\u0435\u0434 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0435\u0439) - \u2705 \u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0445 \u0438 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 - \u2705 \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0439 \u043f\u043e \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044e TDD \u043f\u0440\u0430\u043a\u0442\u0438\u043a - \u2705 \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u0432\u0441\u0435 \u043e\u0448\u0438\u0431\u043a\u0438 \u043b\u0438\u043d\u0442\u0435\u0440\u0430 (35 \u043e\u0448\u0438\u0431\u043e\u043a \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e)</p> <p>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438: <pre><code>result = CodeAnalyzer.check_tdd_compliance(code)\n# \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442:\n# - has_tests: bool\n# - test_count: int\n# - implementation_count: int\n# - tdd_compliant: bool\n# - test_functions: list[str]\n# - implementation_functions: list[str]\n# - recommendations: list[str]\n</code></pre></p>"},{"location":"IMPROVEMENTS_COMPLETED/#4-ui","title":"4. \u2705 \u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0435 UI \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439","text":"<p>\u0421\u0442\u0430\u0442\u0443\u0441: \u041f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043e</p> <p>\u0427\u0442\u043e \u0441\u0434\u0435\u043b\u0430\u043d\u043e: - \u2705 \u0421\u043e\u0437\u0434\u0430\u043d <code>docs/assets/css/exercise.css</code> \u0441 \u043f\u043e\u043b\u043d\u044b\u043c \u043d\u0430\u0431\u043e\u0440\u043e\u043c \u0441\u0442\u0438\u043b\u0435\u0439 - \u2705 \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0441\u0442\u0438\u043b\u0438 \u0434\u043b\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u044b\u0445 \u0438 \u043e\u0448\u0438\u0431\u043e\u0447\u043d\u044b\u0445 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 - \u2705 \u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u044b \u0430\u043d\u0438\u043c\u0430\u0446\u0438\u0438 \u0438 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u044b - \u2705 \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0442\u0435\u043c\u043d\u043e\u0439 \u0442\u0435\u043c\u044b (dark mode) - \u2705 \u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0434\u0438\u0437\u0430\u0439\u043d \u0434\u043b\u044f \u043c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0445 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432 - \u2705 \u0421\u0442\u0438\u043b\u0438 \u0434\u043b\u044f \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043e\u043a, \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0445 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432, \u043e\u0448\u0438\u0431\u043e\u043a - \u2705 \u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d \u0432 <code>mkdocs.yml</code></p> <p>\u041e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u0438: - \u0421\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0439 \u0434\u0438\u0437\u0430\u0439\u043d \u0441 \u043f\u043b\u0430\u0432\u043d\u044b\u043c\u0438 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0430\u043c\u0438 - \u0412\u0438\u0437\u0443\u0430\u043b\u044c\u043d\u0430\u044f \u043e\u0431\u0440\u0430\u0442\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u044c (\u0446\u0432\u0435\u0442\u0430 \u0434\u043b\u044f \u0443\u0441\u043f\u0435\u0445\u0430/\u043e\u0448\u0438\u0431\u043a\u0438) - \u0423\u043b\u0443\u0447\u0448\u0435\u043d\u043d\u0430\u044f \u0447\u0438\u0442\u0430\u0435\u043c\u043e\u0441\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 - \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0432\u0441\u0435\u0445 \u0442\u0435\u043c MkDocs Material</p>"},{"location":"IMPROVEMENTS_COMPLETED/#5-pyodide","title":"5. \u2705 \u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u0430\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0434\u043b\u044f Pyodide","text":"<p>\u0421\u0442\u0430\u0442\u0443\u0441: \u041f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043e</p> <p>\u0427\u0442\u043e \u0441\u0434\u0435\u043b\u0430\u043d\u043e: - \u2705 \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>isCodeSafe()</code> \u0432 <code>pyodide-exercise.js</code> - \u2705 \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043e\u043f\u0430\u0441\u043d\u044b\u0445 \u043f\u0430\u0442\u0442\u0435\u0440\u043d\u043e\u0432 (exec, eval, import sys/os \u0438 \u0442.\u0434.) - \u2705 \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0438\u043c\u043f\u043e\u0440\u0442\u043e\u0432 - \u2705 \u0411\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0430 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 - \u2705 \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0430\u0445 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 - \u2705 \u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0438 \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439</p> <p>\u0417\u0430\u0449\u0438\u0442\u0430 \u043e\u0442: - \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u043e\u0433\u043e \u043a\u043e\u0434\u0430 (exec, eval) - \u0414\u043e\u0441\u0442\u0443\u043f \u043a \u0444\u0430\u0439\u043b\u043e\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 (open, file) - \u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u0432\u044b\u0437\u043e\u0432\u044b (subprocess, os.system) - \u041e\u043f\u0430\u0441\u043d\u044b\u0435 \u0438\u043c\u043f\u043e\u0440\u0442\u044b (sys, os, ctypes) - \u041c\u0430\u043d\u0438\u043f\u0443\u043b\u044f\u0446\u0438\u0438 \u0441 builtins</p>"},{"location":"IMPROVEMENTS_COMPLETED/#6","title":"6. \u2705 \u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439","text":"<p>\u0421\u0442\u0430\u0442\u0443\u0441: \u041f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043e</p> <p>\u0427\u0442\u043e \u0441\u0434\u0435\u043b\u0430\u043d\u043e: - \u2705 \u0421\u043e\u0437\u0434\u0430\u043d\u0430 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043c\u043e\u0434\u0443\u043b\u0435\u0439:   - <code>module-01-tdd-basics/</code> - \u041e\u0441\u043d\u043e\u0432\u044b TDD   - <code>module-02-unittest/</code> - Unittest \u043c\u043e\u0434\u0443\u043b\u044c   - <code>module-03-pytest/</code> - Pytest \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a - \u2705 \u0421\u043e\u0437\u0434\u0430\u043d\u043e \u043f\u0435\u0440\u0432\u043e\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0435 \u0441 \u043f\u043e\u043b\u043d\u043e\u0439 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u043e\u0439:   - <code>exercise.md</code> - \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435   - <code>solution.py</code> - \u0440\u0435\u0448\u0435\u043d\u0438\u0435   - <code>tests.py</code> - \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0442\u0435\u0441\u0442\u044b - \u2705 \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b README \u0444\u0430\u0439\u043b\u044b \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043c\u043e\u0434\u0443\u043b\u044f - \u2705 \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u0432 <code>exercises/README.md</code></p> <p>\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430: <pre><code>docs/exercises/\n\u251c\u2500\u2500 module-01-tdd-basics/\n\u2502   \u251c\u2500\u2500 01-red-green-refactor/\n\u2502   \u2502   \u251c\u2500\u2500 exercise.md\n\u2502   \u2502   \u251c\u2500\u2500 solution.py\n\u2502   \u2502   \u2514\u2500\u2500 tests.py\n\u2502   \u2514\u2500\u2500 README.md\n\u251c\u2500\u2500 module-02-unittest/\n\u2502   \u2514\u2500\u2500 README.md\n\u2514\u2500\u2500 module-03-pytest/\n    \u2514\u2500\u2500 README.md\n</code></pre></p>"},{"location":"IMPROVEMENTS_COMPLETED/#_4","title":"\ud83d\udcca \u0418\u0442\u043e\u0433\u043e\u0432\u0430\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430","text":""},{"location":"IMPROVEMENTS_COMPLETED/#66-100","title":"\u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043e \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0439: 6/6 (100%)","text":"<ol> <li>\u2705 Pyodide \u0434\u043b\u044f \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439</li> <li>\u2705 \u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0435 CI/CD workflows</li> <li>\u2705 TDD compliance checking</li> <li>\u2705 CSS \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439</li> <li>\u2705 \u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u0430\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c</li> <li>\u2705 \u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439</li> </ol>"},{"location":"IMPROVEMENTS_COMPLETED/#_5","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b","text":"<ul> <li><code>docs/assets/js/pyodide-exercise.js</code> (276 \u0441\u0442\u0440\u043e\u043a)</li> <li><code>docs/assets/css/exercise.css</code> (250+ \u0441\u0442\u0440\u043e\u043a)</li> <li><code>.github/workflows/ci.yml</code> (\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d)</li> <li><code>docs/exercises/automated-testing/test_runner.py</code> (\u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043c\u0435\u0442\u043e\u0434)</li> <li><code>docs/exercises/module-01-tdd-basics/</code> (\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430)</li> <li><code>docs/exercises/module-02-unittest/</code> (\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430)</li> <li><code>docs/exercises/module-03-pytest/</code> (\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430)</li> </ul>"},{"location":"IMPROVEMENTS_COMPLETED/#_6","title":"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b","text":"<ul> <li><code>main.py</code> - \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 Pyodide</li> <li><code>mkdocs.yml</code> - \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 CSS \u0438 JS</li> <li><code>docs/INTERACTIVE_EXERCISES_GUIDE.md</code> - \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f</li> <li><code>docs/03_red_green_refactor.md</code> - \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u043f\u0440\u0438\u043c\u0435\u0440\u044b</li> <li><code>docs/exercises/README.md</code> - \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430</li> </ul>"},{"location":"IMPROVEMENTS_COMPLETED/#_7","title":"\ud83c\udfaf \u0414\u043e\u0441\u0442\u0438\u0433\u043d\u0443\u0442\u044b\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b","text":""},{"location":"IMPROVEMENTS_COMPLETED/#_8","title":"\u0424\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c","text":"<ul> <li>\u2705 \u041f\u043e\u043b\u043d\u043e\u0446\u0435\u043d\u043d\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439</li> <li>\u2705 \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043a\u043e\u0434\u0430 \u0432 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435</li> <li>\u2705 \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u044f TDD \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u0430\u043c</li> <li>\u2705 \u0423\u043b\u0443\u0447\u0448\u0435\u043d\u043d\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441</li> <li>\u2705 \u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043a\u043e\u0434\u0430</li> <li>\u2705 \u041e\u0440\u0433\u0430\u043d\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439</li> </ul>"},{"location":"IMPROVEMENTS_COMPLETED/#_9","title":"\u041a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u043e\u0434\u0430","text":"<ul> <li>\u2705 \u0412\u0441\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043b\u0438\u043d\u0442\u0435\u0440\u0430 \u043f\u0440\u043e\u0439\u0434\u0435\u043d\u044b</li> <li>\u2705 \u0422\u0438\u043f\u044b \u043f\u0440\u043e\u0432\u0435\u0440\u0435\u043d\u044b \u0447\u0435\u0440\u0435\u0437 mypy</li> <li>\u2705 \u041a\u043e\u0434 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u043c \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u0430\u043c Python 3.12</li> <li>\u2705 \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u044b \u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0442\u0438\u043f\u044b (dict \u0432\u043c\u0435\u0441\u0442\u043e Dict, list \u0432\u043c\u0435\u0441\u0442\u043e List)</li> </ul>"},{"location":"IMPROVEMENTS_COMPLETED/#_10","title":"\u0418\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430","text":"<ul> <li>\u2705 \u0423\u043b\u0443\u0447\u0448\u0435\u043d\u043d\u044b\u0435 CI/CD workflows</li> <li>\u2705 \u041a\u044d\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0443\u0441\u043a\u043e\u0440\u0435\u043d\u0438\u044f \u0441\u0431\u043e\u0440\u043e\u043a</li> <li>\u2705 Coverage reports \u0434\u043b\u044f \u043e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u043d\u0438\u044f \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430</li> <li>\u2705 \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0441\u0441\u044b\u043b\u043e\u043a</li> </ul>"},{"location":"IMPROVEMENTS_COMPLETED/#_11","title":"\ud83d\ude80 \u0413\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u044c \u043a \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044e","text":"<p>\u0412\u0441\u0435 \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u044b \u0438 \u0433\u043e\u0442\u043e\u0432\u044b \u043a \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044e:</p> <ol> <li>\u0421\u0442\u0443\u0434\u0435\u043d\u0442\u044b \u043c\u043e\u0433\u0443\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f \u043f\u0440\u044f\u043c\u043e \u0432 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435</li> <li>\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0438 \u043c\u043e\u0433\u0443\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c TDD compliance checking</li> <li>\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0438 \u0438\u043c\u0435\u044e\u0442 \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u043d\u0443\u044e \u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443 CI/CD</li> <li>\u041f\u0440\u043e\u0435\u043a\u0442 \u0438\u043c\u0435\u0435\u0442 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u0443\u044e \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439</li> </ol>"},{"location":"IMPROVEMENTS_COMPLETED/#_12","title":"\ud83d\udcdd \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0448\u0430\u0433\u0438 (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e)","text":"<p>\u0425\u043e\u0442\u044f \u0432\u0441\u0435 \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u044b, \u043c\u043e\u0436\u043d\u043e \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e:</p> <ol> <li>\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439 \u0432 \u043a\u0430\u0436\u0434\u044b\u0439 \u043c\u043e\u0434\u0443\u043b\u044c</li> <li>\u0420\u0430\u0441\u0448\u0438\u0440\u0438\u0442\u044c TDD compliance checking (\u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u044f, \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b)</li> <li>\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0442\u0440\u0438\u043a\u0438 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0434\u043b\u044f Pyodide</li> <li>\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d\u044b \u0434\u043b\u044f \u0431\u044b\u0441\u0442\u0440\u043e\u0433\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043d\u043e\u0432\u044b\u0445 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439</li> </ol> <p>\u0414\u0430\u0442\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f: 2024 \u0421\u0442\u0430\u0442\u0443\u0441: \u2705 \u0412\u0441\u0435 \u0437\u0430\u0434\u0430\u0447\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u0413\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u044c: Production Ready</p>"},{"location":"IMPROVEMENTS_FROM_ARCHITECTURE_REPO/","title":"\ud83d\ude80 \u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u0438\u0437 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f Architecture and Patterns","text":""},{"location":"IMPROVEMENTS_FROM_ARCHITECTURE_REPO/#_1","title":"\ud83d\udccb \u0410\u043d\u0430\u043b\u0438\u0437 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f","text":"<p>\u0418\u0437\u0443\u0447\u0435\u043d \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439 Mastery-of-Architecture-Design-patterns-Solid \u0434\u043b\u044f \u0432\u044b\u044f\u0432\u043b\u0435\u043d\u0438\u044f \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439 \u0438 \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u043a \u043f\u0440\u043e\u0435\u043a\u0442\u0443 TDD Learning.</p>"},{"location":"IMPROVEMENTS_FROM_ARCHITECTURE_REPO/#_2","title":"\u2705 \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u044b\u0435 \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f","text":""},{"location":"IMPROVEMENTS_FROM_ARCHITECTURE_REPO/#1-pyodide","title":"1. \ud83d\udd27 \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f Pyodide \u0434\u043b\u044f \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439","text":"<p>\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435: Pyodide \u0443\u043f\u043e\u043c\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438, \u043d\u043e \u043d\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d</p> <p>\u0427\u0442\u043e \u043f\u043e\u0437\u0430\u0438\u043c\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c: - \u041f\u043e\u043b\u043d\u0430\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f Python \u043a\u043e\u0434\u0430 \u0432 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435 - \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0442\u0435\u0441\u0442\u043e\u0432 \u0447\u0435\u0440\u0435\u0437 Pyodide - \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043e\u0448\u0438\u0431\u043e\u043a \u0438 \u0442\u0430\u0439\u043c\u0430\u0443\u0442\u043e\u0432</p> <p>\u041f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430: - \u2705 \u0421\u0442\u0443\u0434\u0435\u043d\u0442\u044b \u043c\u043e\u0433\u0443\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u043a\u043e\u0434 \u043f\u0440\u044f\u043c\u043e \u0432 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435 - \u2705 \u041d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u0430\u044f \u0447\u0430\u0441\u0442\u044c \u0434\u043b\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043a\u043e\u0434\u0430 - \u2705 \u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0432 \u0438\u0437\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0441\u0440\u0435\u0434\u0435</p> <p>\u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f: <pre><code>// docs/assets/js/pyodide-exercise.js\nlet pyodide = null;\n\nasync function loadPyodide() {\n    if (!pyodide) {\n        pyodide = await loadPyodide({\n            indexURL: \"https://cdn.jsdelivr.net/pyodide/v0.24.1/full/\"\n        });\n    }\n    return pyodide;\n}\n\nasync function runExerciseWithPyodide(exerciseId, testCases) {\n    const textarea = document.getElementById(`code_input_${exerciseId}`);\n    const output = document.getElementById(`output_${exerciseId}`);\n    const button = document.getElementById(`run_button_${exerciseId}`);\n\n    button.innerHTML = '\u23f3 \u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f Pyodide...';\n    button.disabled = true;\n\n    try {\n        const pyodideInstance = await loadPyodide();\n        const userCode = textarea.value;\n\n        // \u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u043a\u043e\u0434 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\n        let result;\n        try {\n            pyodideInstance.runPython(userCode);\n\n            // \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0442\u0435\u0441\u0442\u044b\n            let testsPassed = 0;\n            let totalTests = testCases.length;\n            let testDetails = [];\n\n            for (const testCase of testCases) {\n                try {\n                    pyodideInstance.runPython(testCase.code);\n                    testsPassed++;\n                    testDetails.push(`&lt;p&gt;\u2705 ${testCase.description || '\u0422\u0435\u0441\u0442 \u043f\u0440\u043e\u0439\u0434\u0435\u043d'}&lt;/p&gt;`);\n                } catch (error) {\n                    testDetails.push(`&lt;p&gt;\u274c ${testCase.description || '\u0422\u0435\u0441\u0442 \u043d\u0435 \u043f\u0440\u043e\u0439\u0434\u0435\u043d'}: ${error.message}&lt;/p&gt;`);\n                }\n            }\n\n            result = {\n                success: testsPassed === totalTests,\n                tests_passed: testsPassed,\n                total_tests: totalTests,\n                test_details: testDetails.join('')\n            };\n        } catch (error) {\n            result = {\n                success: false,\n                error: `\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f: ${error.message}`,\n                hints: ['\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441 Python', '\u0423\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u0432\u0441\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u044b']\n            };\n        }\n\n        displayResults(exerciseId, result);\n    } catch (error) {\n        displayResults(exerciseId, {\n            success: false,\n            error: `\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 Pyodide: ${error.message}`\n        });\n    } finally {\n        button.innerHTML = '\ud83d\ude80 \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c';\n        button.disabled = false;\n    }\n}\n</code></pre></p> <p>\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0432 main.py: <pre><code># \u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c Pyodide \u0441\u043a\u0440\u0438\u043f\u0442 \u0432 code_input_form\nif use_pyodide:\n    pyodide_script = \"\"\"\n&lt;script src=\"https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js\"&gt;&lt;/script&gt;\n&lt;script src=\"/assets/js/pyodide-exercise.js\"&gt;&lt;/script&gt;\n\"\"\"\n</code></pre></p>"},{"location":"IMPROVEMENTS_FROM_ARCHITECTURE_REPO/#2-cicd-workflows","title":"2. \ud83d\udce6 \u0423\u043b\u0443\u0447\u0448\u0435\u043d\u043d\u044b\u0435 CI/CD Workflows","text":"<p>\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435: \u0415\u0441\u0442\u044c \u0431\u0430\u0437\u043e\u0432\u044b\u0435 workflows, \u043d\u043e \u043c\u043e\u0436\u043d\u043e \u0443\u043b\u0443\u0447\u0448\u0438\u0442\u044c</p> <p>\u0427\u0442\u043e \u043f\u043e\u0437\u0430\u0438\u043c\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c: - \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0431\u043e\u043b\u0435\u0435 \u043d\u043e\u0432\u044b\u0445 \u0432\u0435\u0440\u0441\u0438\u0439 actions - \u0423\u043b\u0443\u0447\u0448\u0435\u043d\u043d\u0430\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043e\u0448\u0438\u0431\u043e\u043a - \u041a\u044d\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439 - \u041f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447</p> <p>\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u043d\u044b\u0439 CI workflow: <pre><code>name: CI\n\non:\n  push:\n    branches: [main, develop]\n  pull_request:\n    branches: [main, develop]\n\njobs:\n  lint:\n    name: Lint and Format Check\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Install uv\n        uses: astral-sh/setup-uv@v4\n        with:\n          version: \"latest\"\n          enable-cache: true\n\n      - name: Set up Python\n        run: uv python install 3.12\n\n      - name: Cache dependencies\n        uses: actions/cache@v4\n        with:\n          path: ~/.cache/uv\n          key: $ubuntu-latest-uv-$abc123def456\n          restore-keys: |\n            $ubuntu-latest-uv-\n\n      - name: Install dependencies\n        run: uv sync\n\n      - name: Run ruff check\n        run: uv run ruff check .\n\n      - name: Run ruff format check\n        run: uv run ruff format --check .\n\n      - name: Run mypy\n        run: uv run mypy main.py\n        continue-on-error: true\n\n  test:\n    name: Run Tests\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Install uv\n        uses: astral-sh/setup-uv@v4\n        with:\n          version: \"latest\"\n          enable-cache: true\n\n      - name: Set up Python\n        run: uv python install 3.12\n\n      - name: Install dependencies\n        run: uv sync\n\n      - name: Run pytest with coverage\n        run: |\n          uv run pytest --cov=. --cov-report=xml --cov-report=html\n        continue-on-error: true\n\n      - name: Upload coverage to Codecov\n        uses: codecov/codecov-action@v4\n        with:\n          file: ./coverage.xml\n          fail_ci_if_error: false\n\n  build-docs:\n    name: Build Documentation\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Install uv\n        uses: astral-sh/setup-uv@v4\n        with:\n          version: \"latest\"\n\n      - name: Set up Python\n        run: uv python install 3.12\n\n      - name: Install dependencies\n        run: uv sync --extra docs\n\n      - name: Build documentation\n        run: uv run mkdocs build\n\n      - name: Check for broken links\n        uses: peter-evans/link-checker@v1\n        with:\n          args: --recursive --check-external site/\n        continue-on-error: true\n\n      - name: Upload documentation artifact\n        uses: actions/upload-artifact@v4\n        with:\n          name: documentation\n          path: site/\n          retention-days: 7\n</code></pre></p>"},{"location":"IMPROVEMENTS_FROM_ARCHITECTURE_REPO/#3","title":"3. \ud83c\udfaf \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043c\u043e\u0434\u0443\u043b\u0435\u0439 \u0438 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439","text":"<p>\u0427\u0442\u043e \u043f\u043e\u0437\u0430\u0438\u043c\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c: - \u0427\u0435\u0442\u043a\u0430\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439 \u043f\u043e \u043c\u043e\u0434\u0443\u043b\u044f\u043c - \u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u0433\u0440\u0430\u0434\u0430\u0446\u0438\u0438 \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u0438 - \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u0448\u0435\u043d\u0438\u0439</p> <p>\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u0430\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430: <pre><code>docs/\n\u251c\u2500\u2500 exercises/\n\u2502   \u251c\u2500\u2500 module-01-tdd-basics/\n\u2502   \u2502   \u251c\u2500\u2500 01-red-green-refactor/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 exercise.md\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 solution.py\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 tests.py\n\u2502   \u2502   \u2514\u2500\u2500 02-first-test/\n\u2502   \u251c\u2500\u2500 module-02-unittest/\n\u2502   \u2514\u2500\u2500 module-03-pytest/\n\u251c\u2500\u2500 automated-testing/\n\u2502   \u2514\u2500\u2500 test_runner.py\n\u2514\u2500\u2500 difficulty-levels/\n    \u2514\u2500\u2500 difficulty_system.py\n</code></pre></p>"},{"location":"IMPROVEMENTS_FROM_ARCHITECTURE_REPO/#4","title":"4. \ud83d\udcca \u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f","text":"<p>\u0427\u0442\u043e \u043f\u043e\u0437\u0430\u0438\u043c\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c: - AST \u0430\u043d\u0430\u043b\u0438\u0437 \u043a\u043e\u0434\u0430 \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b - \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u0438\u0435 \u043f\u0430\u0442\u0442\u0435\u0440\u043d\u043e\u0432 TDD - \u0414\u0435\u0442\u0430\u043b\u044c\u043d\u044b\u0435 \u043e\u0442\u0447\u0435\u0442\u044b \u0441 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u044f\u043c\u0438</p> <p>\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u0434\u043b\u044f test_runner.py: <pre><code># \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 TDD compliance\ndef check_tdd_compliance(code: str) -&gt; dict:\n    \"\"\"\n    \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442, \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u043b\u0438 \u043a\u043e\u0434 \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u0430\u043c TDD\n    \"\"\"\n    tree = ast.parse(code)\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043d\u0430\u043b\u0438\u0447\u0438\u044f \u0442\u0435\u0441\u0442\u043e\u0432\n    has_tests = any(\n        isinstance(node, (ast.FunctionDef, ast.ClassDef))\n        and 'test' in node.name.lower()\n        for node in ast.walk(tree)\n    )\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b (\u0442\u0435\u0441\u0442\u044b \u043f\u0435\u0440\u0435\u0434 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0435\u0439)\n    test_functions = [\n        node for node in ast.walk(tree)\n        if isinstance(node, ast.FunctionDef) and 'test' in node.name.lower()\n    ]\n\n    implementation_functions = [\n        node for node in ast.walk(tree)\n        if isinstance(node, ast.FunctionDef) and 'test' not in node.name.lower()\n    ]\n\n    return {\n        'has_tests': has_tests,\n        'test_count': len(test_functions),\n        'implementation_count': len(implementation_functions),\n        'tdd_compliant': has_tests and len(test_functions) &gt; 0\n    }\n</code></pre></p>"},{"location":"IMPROVEMENTS_FROM_ARCHITECTURE_REPO/#5-ui","title":"5. \ud83c\udfa8 \u0423\u043b\u0443\u0447\u0448\u0435\u043d\u043d\u044b\u0439 UI \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439","text":"<p>\u0427\u0442\u043e \u043f\u043e\u0437\u0430\u0438\u043c\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c: - \u0411\u043e\u043b\u0435\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0430\u0445 - \u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0438 \u0438 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438 - \u0412\u0438\u0437\u0443\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0433\u0440\u0435\u0441\u0441\u0430</p> <p>\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f CSS: <pre><code>/* docs/assets/css/exercise.css */\n.code-exercise {\n    border: 1px solid #e0e0e0;\n    border-radius: 8px;\n    padding: 1.5rem;\n    margin: 2rem 0;\n    background: #fafafa;\n}\n\n.exercise-output.success {\n    border-left: 4px solid #4caf50;\n    background: #e8f5e9;\n}\n\n.exercise-output.error {\n    border-left: 4px solid #f44336;\n    background: #ffebee;\n}\n\n.test-details {\n    margin-top: 1rem;\n    padding: 1rem;\n    background: white;\n    border-radius: 4px;\n}\n\n.hints {\n    margin-top: 1rem;\n    padding: 1rem;\n    background: #fff3cd;\n    border-left: 4px solid #ffc107;\n    border-radius: 4px;\n}\n</code></pre></p>"},{"location":"IMPROVEMENTS_FROM_ARCHITECTURE_REPO/#6","title":"6. \ud83d\udcda \u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u0438 \u043f\u0440\u0438\u043c\u0435\u0440\u044b","text":"<p>\u0427\u0442\u043e \u043f\u043e\u0437\u0430\u0438\u043c\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c: - \u0411\u043e\u043b\u0435\u0435 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f - \u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u0430 \u043f\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044e \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439 - Best practices \u0434\u043b\u044f TDD</p> <p>\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438: - \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u043f\u0440\u0438\u043c\u0435\u0440\u043e\u0432 \u0432 \u043a\u0430\u0436\u0434\u0443\u044e \u0433\u043b\u0430\u0432\u0443 - \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d\u044b \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439 - \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0438\u0434\u0435\u043e-\u0442\u0443\u0442\u043e\u0440\u0438\u0430\u043b\u044b (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c \u0432 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0438)</p>"},{"location":"IMPROVEMENTS_FROM_ARCHITECTURE_REPO/#7","title":"7. \ud83d\udd12 \u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043a\u043e\u0434\u0430","text":"<p>\u0427\u0442\u043e \u043f\u043e\u0437\u0430\u0438\u043c\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c: - \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043a\u043e\u0434\u0430 \u043d\u0430 \u043e\u043f\u0430\u0441\u043d\u044b\u0435 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438 - \u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f - \u0418\u0437\u043e\u043b\u044f\u0446\u0438\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f</p> <p>\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f: <pre><code># \u0423\u043b\u0443\u0447\u0448\u0435\u043d\u043d\u0430\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438\ndef _is_code_safe(user_code: str) -&gt; bool:\n    \"\"\"\n    \u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u0430\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u043a\u043e\u0434\u0430\n    \"\"\"\n    dangerous_patterns = [\n        r\"__import__\",\n        r\"exec\\s*\\(\",\n        r\"eval\\s*\\(\",\n        r\"compile\\s*\\(\",\n        r\"open\\s*\\(\",\n        r\"subprocess\",\n        r\"os\\.system\",\n        r\"os\\.popen\",\n        r\"pickle\",\n        r\"marshal\",\n        r\"__builtins__\",\n        r\"__globals__\",\n        r\"__dict__\",\n        r\"import\\s+sys\",\n        r\"sys\\.exit\",\n        r\"import\\s+ctypes\",\n    ]\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043d\u0430 \u043e\u043f\u0430\u0441\u043d\u044b\u0435 \u0438\u043c\u043f\u043e\u0440\u0442\u044b\n    import re\n    for pattern in dangerous_patterns:\n        if re.search(pattern, user_code, re.IGNORECASE):\n            return False\n\n    # \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 AST \u043d\u0430 \u043e\u043f\u0430\u0441\u043d\u044b\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438\n    try:\n        tree = ast.parse(user_code)\n        for node in ast.walk(tree):\n            if isinstance(node, ast.Import):\n                for alias in node.names:\n                    if alias.name in ['sys', 'os', 'subprocess', 'ctypes']:\n                        return False\n    except SyntaxError:\n        return False\n\n    return True\n</code></pre></p>"},{"location":"IMPROVEMENTS_FROM_ARCHITECTURE_REPO/#_3","title":"\ud83c\udfaf \u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u044b \u0432\u043d\u0435\u0434\u0440\u0435\u043d\u0438\u044f","text":""},{"location":"IMPROVEMENTS_FROM_ARCHITECTURE_REPO/#_4","title":"\u0412\u044b\u0441\u043e\u043a\u0438\u0439 \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442:","text":"<ol> <li>\u2705 \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f Pyodide \u0434\u043b\u044f \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439</li> <li>\u2705 \u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0435 CI/CD workflows</li> <li>\u2705 \u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f</li> </ol>"},{"location":"IMPROVEMENTS_FROM_ARCHITECTURE_REPO/#_5","title":"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442:","text":"<ol> <li>\u2705 \u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0435 UI \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439</li> <li>\u2705 \u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438</li> <li>\u2705 \u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439</li> </ol>"},{"location":"IMPROVEMENTS_FROM_ARCHITECTURE_REPO/#_6","title":"\u041d\u0438\u0437\u043a\u0438\u0439 \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442:","text":"<ol> <li>\u2705 \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f</li> <li>\u2705 \u0412\u0438\u0434\u0435\u043e-\u0442\u0443\u0442\u043e\u0440\u0438\u0430\u043b\u044b (\u0435\u0441\u043b\u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043c\u043e)</li> </ol>"},{"location":"IMPROVEMENTS_FROM_ARCHITECTURE_REPO/#_7","title":"\ud83d\udcdd \u041f\u043b\u0430\u043d \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439","text":"<ol> <li>\u041d\u0435\u0434\u0435\u043b\u044f 1: \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f Pyodide</li> <li>\u0421\u043e\u0437\u0434\u0430\u0442\u044c <code>docs/assets/js/pyodide-exercise.js</code></li> <li>\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c <code>main.py</code> \u0434\u043b\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 Pyodide</li> <li> <p>\u041f\u0440\u043e\u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430 \u043f\u0440\u043e\u0441\u0442\u044b\u0445 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f\u0445</p> </li> <li> <p>\u041d\u0435\u0434\u0435\u043b\u044f 2: \u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0435 CI/CD</p> </li> <li>\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c workflows</li> <li>\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u044d\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435</li> <li> <p>\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c coverage reports</p> </li> <li> <p>\u041d\u0435\u0434\u0435\u043b\u044f 3: \u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f</p> </li> <li>\u0423\u043b\u0443\u0447\u0448\u0438\u0442\u044c <code>test_runner.py</code></li> <li>\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c TDD compliance checking</li> <li> <p>\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0445 \u043f\u0440\u0438\u043c\u0435\u0440\u043e\u0432</p> </li> <li> <p>\u041d\u0435\u0434\u0435\u043b\u044f 4: UI \u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f</p> </li> <li>\u0423\u043b\u0443\u0447\u0448\u0438\u0442\u044c CSS \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439</li> <li>\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u043e\u0432</li> <li>\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e</li> </ol>"},{"location":"IMPROVEMENTS_FROM_ARCHITECTURE_REPO/#_8","title":"\ud83d\udd17 \u041f\u043e\u043b\u0435\u0437\u043d\u044b\u0435 \u0441\u0441\u044b\u043b\u043a\u0438","text":"<ul> <li>Pyodide Documentation</li> <li>GitHub Actions Documentation</li> <li>MkDocs Material Theme</li> </ul> <p>\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435: \u0412\u0441\u0435 \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0430\u0434\u0430\u043f\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u044b \u043f\u043e\u0434 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442 TDD \u043a\u0443\u0440\u0441\u0430, \u0430 \u043d\u0435 \u043f\u0440\u043e\u0441\u0442\u043e \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u044b \u0438\u0437 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f \u043f\u0440\u043e \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0443.</p>"},{"location":"INTERACTIVE_EXERCISES_GUIDE/","title":"Macro Syntax Error","text":"<p>File: <code>INTERACTIVE_EXERCISES_GUIDE.md</code></p> <p>Line 120 in Markdown file: expected token ',', got 'email' <pre><code>assert validator.validate({\"email\": \"test@example.com\"}) == True\n</code></pre></p>"},{"location":"VIDEO_TUTORIALS_GUIDE/","title":"Macro Rendering Error","text":"<p>File: <code>VIDEO_TUTORIALS_GUIDE.md</code></p> <p>UndefinedError: 'video_tutorial' is undefined</p> <pre><code>Traceback (most recent call last):\n  File \"/home/runner/work/TDD-Learning/TDD-Learning/.venv/lib/python3.12/site-packages/mkdocs_macros/plugin.py\", line 703, in render\n    return md_template.render(**page_variables)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/TDD-Learning/TDD-Learning/.venv/lib/python3.12/site-packages/jinja2/environment.py\", line 1295, in render\n    self.environment.handle_exception()\n  File \"/home/runner/work/TDD-Learning/TDD-Learning/.venv/lib/python3.12/site-packages/jinja2/environment.py\", line 942, in handle_exception\n    raise rewrite_traceback_stack(source=source)\n  File \"&lt;template&gt;\", line 286, in top-level template code\n  File \"/home/runner/work/TDD-Learning/TDD-Learning/.venv/lib/python3.12/site-packages/jinja2/utils.py\", line 92, in from_obj\n    if hasattr(obj, \"jinja_pass_arg\"):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\njinja2.exceptions.UndefinedError: 'video_tutorial' is undefined\n</code></pre>"},{"location":"conclusion/","title":"\ud83c\udf89 \u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u0441 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435\u043c \u043a\u0443\u0440\u0441\u0430!","text":"<p>\u0412\u0441\u0435 \u043c\u043e\u0434\u0443\u043b\u0438 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u044b! \u041f\u043e\u043b\u043d\u044b\u0439 \u043a\u0443\u0440\u0441 \u043e\u0441\u0432\u043e\u0435\u043d! \ud83c\udf89</p> <p>\u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u0441 \u0443\u0441\u043f\u0435\u0448\u043d\u044b\u043c \u043e\u0441\u0432\u043e\u0435\u043d\u0438\u0435\u043c \u0432\u0441\u0435\u0433\u043e \u043a\u0443\u0440\u0441\u0430 \"\u041c\u0430\u0441\u0442\u0435\u0440\u0441\u0442\u0432\u043e \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u044b \u0438 \u043f\u0430\u0442\u0442\u0435\u0440\u043d\u043e\u0432 \u043f\u0440\u043e\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f\"!</p> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u0443 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c \u043f\u043e\u043b\u043d\u043e\u0435 \u043f\u043e\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u0438 \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043e\u043f\u044b\u0442: - \u2705 SOLID \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u044b - \u0444\u0443\u043d\u0434\u0430\u043c\u0435\u043d\u0442 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e \u043a\u043e\u0434\u0430 - \u2705 23 \u043f\u0430\u0442\u0442\u0435\u0440\u043d\u0430 Gang of Four - \u0440\u0435\u0448\u0435\u043d\u0438\u044f \u0442\u0438\u043f\u0438\u0447\u043d\u044b\u0445 \u0437\u0430\u0434\u0430\u0447 - \u2705 \u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0435 \u0441\u0442\u0438\u043b\u0438 - \u043c\u043e\u043d\u043e\u043b\u0438\u0442, \u043c\u0438\u043a\u0440\u043e\u0441\u0435\u0440\u0432\u0438\u0441\u044b, \u0441\u043e\u0431\u044b\u0442\u0438\u0439\u043d\u0430\u044f \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 - \u2705 DDD - \u043c\u043e\u0434\u0435\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043b\u043e\u0436\u043d\u044b\u0445 \u0431\u0438\u0437\u043d\u0435\u0441-\u0434\u043e\u043c\u0435\u043d\u043e\u0432 - \u2705 \u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 - \u0440\u0435\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430 enterprise \u0443\u0440\u043e\u0432\u043d\u044f</p> <p>\ud83c\udf93 \u0412\u044b \u0441\u0442\u0430\u043b\u0438 \u043c\u0430\u0441\u0442\u0435\u0440\u043e\u043c \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u044b!</p>"},{"location":"conclusion/#_2","title":"\ud83d\ude80 \u0412\u0430\u0448 \u043d\u043e\u0432\u044b\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c","text":"<p>\u041f\u043e\u0441\u043b\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u043a\u0443\u0440\u0441\u0430 \u0432\u0430\u0448 \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442:</p> <ul> <li>Senior Developer \u0441 \u0433\u043b\u0443\u0431\u043e\u043a\u0438\u043c \u043f\u043e\u043d\u0438\u043c\u0430\u043d\u0438\u0435\u043c \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u044b</li> <li>Software Architect \u0441 \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u043c \u043e\u043f\u044b\u0442\u043e\u043c</li> <li>Technical Lead \u0441 \u043d\u0430\u0432\u044b\u043a\u0430\u043c\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0441\u0438\u0441\u0442\u0435\u043c</li> </ul>"},{"location":"conclusion/#_3","title":"\ud83c\udfaf \u0412\u0430\u0448\u0438 \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u044f","text":"<p>\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f</p> <p>\u0412\u044b \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u043b\u0438 \u0438\u043d\u0442\u0435\u043d\u0441\u0438\u0432\u043d\u044b\u0439 \u043a\u0443\u0440\u0441, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0449\u0438\u0439: - 20+ \u0443\u0440\u043e\u043a\u043e\u0432 \u0441 \u0433\u043b\u0443\u0431\u043e\u043a\u0438\u043c \u0442\u0435\u043e\u0440\u0435\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u043c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u043e\u043c - 28+ \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u043a\u0432\u0438\u0437\u043e\u0432 \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0437\u043d\u0430\u043d\u0438\u0439 - 40+ \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439 \u0434\u043b\u044f \u0437\u0430\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u0438\u044f \u043d\u0430\u0432\u044b\u043a\u043e\u0432 - 5 \u043f\u043e\u043b\u043d\u044b\u0445 \u0440\u0435\u0448\u0435\u043d\u0438\u0439 \u043c\u043e\u0434\u0443\u043b\u0435\u0439 \u0441 \u043f\u0440\u0438\u043c\u0435\u0440\u0430\u043c\u0438 \u043a\u043e\u0434\u0430 - \u041f\u043e\u043b\u043d\u043e\u0446\u0435\u043d\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 enterprise \u0443\u0440\u043e\u0432\u043d\u044f - 2000+ \u0441\u0442\u0440\u043e\u043a \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e \u043a\u043e\u0434\u0430 \u0441 \u043f\u0440\u0438\u043c\u0435\u0440\u0430\u043c\u0438</p>"},{"location":"conclusion/#_4","title":"\ud83d\udcc8 \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0439\u0442\u0435 \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u0435!","text":"<p>\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0448\u0430\u0433\u0438 \u0432 \u043a\u0430\u0440\u044c\u0435\u0440\u0435</p> <ul> <li>\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u0439\u0442\u0435 \u0438\u0437\u0443\u0447\u0435\u043d\u043d\u044b\u0435 \u043a\u043e\u043d\u0446\u0435\u043f\u0446\u0438\u0438 \u0432 \u043d\u043e\u0432\u044b\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u0445</li> <li>\u0418\u0437\u0443\u0447\u0430\u0439\u0442\u0435 \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 \u0442\u0435\u043c\u044b (CQRS, Event Sourcing, Microservices patterns)</li> <li>\u0414\u0435\u043b\u0438\u0442\u0435\u0441\u044c \u0437\u043d\u0430\u043d\u0438\u044f\u043c\u0438 \u0441 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e\u043c</li> <li>\u0421\u043e\u0437\u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0432\u044b\u0434\u0430\u044e\u0449\u0438\u0435\u0441\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u044b</li> <li>\u041c\u0435\u043d\u0442\u043e\u0440 \u043d\u0430\u0447\u0438\u043d\u0430\u044e\u0449\u0438\u0445 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432</li> </ul>"},{"location":"conclusion/#_5","title":"\ud83d\udd17 \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f","text":""},{"location":"conclusion/#_6","title":"\u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0435 \u043f\u0430\u0442\u0442\u0435\u0440\u043d\u044b","text":"<ul> <li>CQRS + Event Sourcing - \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u043c\u0430\u043d\u0434 \u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432</li> <li>Saga Pattern - \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0435 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438</li> <li>Circuit Breaker - \u043e\u0442\u043a\u0430\u0437\u043e\u0443\u0441\u0442\u043e\u0439\u0447\u0438\u0432\u043e\u0441\u0442\u044c</li> <li>Bulkhead Pattern - \u0438\u0437\u043e\u043b\u044f\u0446\u0438\u044f \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432</li> </ul>"},{"location":"conclusion/#_7","title":"\u0421\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438","text":"<ul> <li>Kubernetes - \u043e\u0440\u043a\u0435\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u043e\u0432</li> <li>Service Mesh (Istio, Linkerd) - \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043c\u0438\u043a\u0440\u043e\u0441\u0435\u0440\u0432\u0438\u0441\u0430\u043c\u0438</li> <li>Observability - \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u0438 \u0442\u0440\u0435\u0439\u0441\u0438\u043d\u0433</li> <li>GitOps - \u0434\u0435\u043a\u043b\u0430\u0440\u0430\u0442\u0438\u0432\u043d\u0430\u044f \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430</li> </ul>"},{"location":"conclusion/#soft-skills","title":"Soft Skills \u0434\u043b\u044f \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u043e\u0440\u0430","text":"<ul> <li>Technical Leadership - \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u043c\u0438 \u0440\u0435\u0448\u0435\u043d\u0438\u044f\u043c\u0438</li> <li>Architecture Decision Records (ADR) - \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u0448\u0435\u043d\u0438\u0439</li> <li>System Design Interviews - \u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u043a \u0441\u043e\u0431\u0435\u0441\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f\u043c</li> <li>Team Communication - \u0434\u043e\u043d\u0435\u0441\u0435\u043d\u0438\u0435 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0445 \u0440\u0435\u0448\u0435\u043d\u0438\u0439</li> </ul>"},{"location":"conclusion/#_8","title":"\ud83d\udcbc \u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432","text":"<p>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0435 \u0437\u043d\u0430\u043d\u0438\u044f \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e:</p>"},{"location":"conclusion/#projects-from-the-course","title":"Projects from the course:","text":"<ol> <li>\u041c\u0438\u043a\u0440\u043e\u0441\u0435\u0440\u0432\u0438\u0441\u043d\u0430\u044f E-commerce \u0441\u0438\u0441\u0442\u0435\u043c\u0430</li> </ol>"},{"location":"conclusion/#suggested-projects","title":"Suggested projects:","text":"<ol> <li>Event-driven \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439</li> <li>DDD-based \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430</li> <li>Clean Architecture REST API</li> <li>Distributed system \u0441 CQRS</li> </ol>"},{"location":"conclusion/#_9","title":"\ud83c\udfc6 \u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f","text":"<p>\u0412\u0430\u0448 \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d</p> <p>\u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u0435\u043c! \u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u043e\u0434\u0438\u043d \u0438\u0437 \u0441\u0430\u043c\u044b\u0445 \u0441\u043b\u043e\u0436\u043d\u044b\u0445 \u0438 \u0432\u0430\u0436\u043d\u044b\u0445 \u0440\u0430\u0437\u0434\u0435\u043b\u043e\u0432 \u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u041f\u041e.</p> <p>\u0412\u0430\u0448\u0438 \u0437\u043d\u0430\u043d\u0438\u044f \u0438 \u043d\u0430\u0432\u044b\u043a\u0438 \u0442\u0435\u043f\u0435\u0440\u044c \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0442 Senior/Lead \u0443\u0440\u043e\u0432\u043d\u044e \u0432 \u043e\u0431\u043b\u0430\u0441\u0442\u0438: - Software Architecture - System Design  - Domain-Driven Design - Enterprise Patterns</p> <p>\u041f\u043e\u043c\u043d\u0438\u0442\u0435: \u043c\u0430\u0441\u0442\u0435\u0440\u0441\u0442\u0432\u043e \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u044b \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442 \u0441 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u043e\u0439. \u041a\u0430\u0436\u0434\u044b\u0439 \u0441\u043f\u0440\u043e\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441, \u043a\u0430\u0436\u0434\u043e\u0435 \u043f\u0440\u0438\u043d\u044f\u0442\u043e\u0435 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u043e\u0435 \u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u0434\u0435\u043b\u0430\u0435\u0442 \u0432\u0430\u0441 \u043b\u0443\u0447\u0448\u0438\u043c \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u043e\u0440\u043e\u043c!</p> <p>\ud83d\ude80 \u0423\u0434\u0430\u0447\u0438 \u0432 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0432\u044b\u0434\u0430\u044e\u0449\u0438\u0445\u0441\u044f \u0441\u0438\u0441\u0442\u0435\u043c!</p>"},{"location":"assets/README_ICONS/","title":"\ud83c\udfa8 \u0418\u043a\u043e\u043d\u043a\u0438 \u043a\u0443\u0440\u0441\u0430 \"\u041c\u0430\u0441\u0442\u0435\u0440\u0441\u0442\u0432\u043e \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u044b \u0438 \u043f\u0430\u0442\u0442\u0435\u0440\u043d\u043e\u0432 \u043f\u0440\u043e\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f\"","text":""},{"location":"assets/README_ICONS/#_2","title":"\ud83d\udccb \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435","text":"<p>\u0418\u043a\u043e\u043d\u043a\u0438 \u043e\u0442\u0440\u0430\u0436\u0430\u044e\u0442 \u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0443 \u043a\u0443\u0440\u0441\u0430: - \u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 - \u043c\u043d\u043e\u0433\u043e\u0441\u043b\u043e\u0439\u043d\u0430\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 (Clean Architecture) - \u041f\u0430\u0442\u0442\u0435\u0440\u043d\u044b \u043f\u0440\u043e\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f - \u0433\u0435\u043e\u043c\u0435\u0442\u0440\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0444\u0438\u0433\u0443\u0440\u044b (Singleton, Factory, Observer) - SOLID \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u044b - 5 \u0442\u043e\u0447\u0435\u043a - \u041c\u0438\u043a\u0440\u043e\u0441\u0435\u0440\u0432\u0438\u0441\u044b - \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0438\u0435 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0431\u043b\u043e\u043a\u0438 - \u0411\u0443\u043a\u0432\u0430 \"A\" - Architecture (\u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430)</p>"},{"location":"assets/README_ICONS/#_3","title":"\ud83c\udfa8 \u0426\u0432\u0435\u0442\u043e\u0432\u0430\u044f \u0441\u0445\u0435\u043c\u0430","text":"<ul> <li>\u0421\u0438\u043d\u0438\u0439 (#1e40af, #3b82f6) - \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0446\u0432\u0435\u0442, \u0441\u0438\u043c\u0432\u043e\u043b\u0438\u0437\u0438\u0440\u0443\u0435\u0442 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0443</li> <li>\u0416\u0435\u043b\u0442\u044b\u0439 (#fbbf24) - \u043f\u0430\u0442\u0442\u0435\u0440\u043d\u044b (Singleton)</li> <li>\u0417\u0435\u043b\u0435\u043d\u044b\u0439 (#10b981) - \u043f\u0430\u0442\u0442\u0435\u0440\u043d\u044b (Factory)</li> <li>\u041a\u0440\u0430\u0441\u043d\u044b\u0439 (#ef4444) - \u043f\u0430\u0442\u0442\u0435\u0440\u043d\u044b (Observer)</li> <li>\u0424\u0438\u043e\u043b\u0435\u0442\u043e\u0432\u044b\u0439 (#8b5cf6) - SOLID \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u044b</li> <li>\u0420\u043e\u0437\u043e\u0432\u044b\u0439 (#ec4899) - \u043c\u0438\u043a\u0440\u043e\u0441\u0435\u0440\u0432\u0438\u0441\u044b</li> </ul>"},{"location":"assets/README_ICONS/#_4","title":"\ud83d\udcc1 \u0424\u0430\u0439\u043b\u044b","text":""},{"location":"assets/README_ICONS/#svg","title":"SVG \u0438\u043a\u043e\u043d\u043a\u0430","text":"<ul> <li><code>favicon.svg</code> - \u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0430\u044f \u0438\u043a\u043e\u043d\u043a\u0430 \u0434\u043b\u044f \u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043e\u0432</li> </ul>"},{"location":"assets/README_ICONS/#png","title":"PNG \u0438\u043a\u043e\u043d\u043a\u0438 (\u0441\u043e\u0437\u0434\u0430\u043d\u044b \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438)","text":"<ul> <li><code>favicon-16x16.png</code> - \u0434\u043b\u044f \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0438\u0445 \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u0432</li> <li><code>favicon-32x32.png</code> - \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440</li> <li><code>favicon-48x48.png</code> - \u0434\u043b\u044f \u0441\u0440\u0435\u0434\u043d\u0438\u0445 \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u0432</li> <li><code>favicon-64x64.png</code> - \u0434\u043b\u044f \u0431\u043e\u043b\u044c\u0448\u0438\u0445 \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u0432</li> <li><code>favicon-128x128.png</code> - \u0434\u043b\u044f \u0432\u044b\u0441\u043e\u043a\u043e\u0433\u043e \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f</li> <li><code>favicon-256x256.png</code> - \u0434\u043b\u044f Apple Touch Icon \u0438 Android</li> </ul>"},{"location":"assets/README_ICONS/#ico","title":"ICO \u0444\u0430\u0439\u043b","text":"<ul> <li><code>favicon.ico</code> - \u0434\u043b\u044f \u0441\u0442\u0430\u0440\u044b\u0445 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043e\u0432 (\u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0432\u0440\u0443\u0447\u043d\u0443\u044e)</li> </ul>"},{"location":"assets/README_ICONS/#ico_1","title":"\ud83d\udd27 \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 ICO \u0444\u0430\u0439\u043b\u0430","text":""},{"location":"assets/README_ICONS/#1","title":"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 1: \u041e\u043d\u043b\u0430\u0439\u043d \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440","text":"<ol> <li>\u041f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u043d\u0430 https://convertio.co/png-ico/</li> <li>\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 <code>favicon-256x256.png</code></li> <li>\u0421\u043a\u0430\u0447\u0430\u0439\u0442\u0435 <code>favicon.ico</code></li> <li>\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0435 \u0432 <code>docs/assets/favicon.ico</code></li> </ol> <p>\u26a0\ufe0f \u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435: \u0412\u043d\u0435\u0448\u043d\u044f\u044f \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 Convertio \u043c\u043e\u0436\u0435\u0442 \u0441\u0442\u0430\u0442\u044c \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0439 \u0438\u043b\u0438 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c\u0441\u044f. \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043f\u0440\u0435\u0434\u043f\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u043c\u0435\u0442\u043e\u0434\u044b Python \u0438\u043b\u0438 ImageMagick (\u0412\u0430\u0440\u0438\u0430\u043d\u0442\u044b 2 \u0438 3), \u0442\u0430\u043a \u043a\u0430\u043a \u043e\u043d\u0438 \u043d\u0435 \u0437\u0430\u0432\u0438\u0441\u044f\u0442 \u043e\u0442 \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432. \u0415\u0441\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435 \u043e\u043d\u043b\u0430\u0439\u043d-\u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c URL \u043f\u0435\u0440\u0435\u0434 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c. \u0412 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u044b \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u0438\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u0435\u043d\u043d\u044b\u0435 \u043e\u043d\u043b\u0430\u0439\u043d-\u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440\u044b, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a CloudConvert (https://cloudconvert.com/png-to-ico) \u0438\u043b\u0438 ICO Convert (https://icoconvert.com/).</p>"},{"location":"assets/README_ICONS/#2-python","title":"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 2: Python \u0441\u043a\u0440\u0438\u043f\u0442","text":"<pre><code># \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 pillow\nuv add pillow\n\n# \u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 ICO \u0438\u0437 PNG\npython -c \"from PIL import Image; img = Image.open('favicon-256x256.png'); img.save('favicon.ico', format='ICO', sizes=[(16,16), (32,32), (48,48), (64,64), (128,128), (256,256)])\"\n</code></pre>"},{"location":"assets/README_ICONS/#3-imagemagick","title":"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 3: ImageMagick","text":"<pre><code>magick convert favicon-256x256.png -define icon:auto-resize=256,128,64,48,32,16 favicon.ico\n</code></pre>"},{"location":"assets/README_ICONS/#_5","title":"\ud83d\udd04 \u0420\u0435\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0438\u043a\u043e\u043d\u043e\u043a","text":"<p>\u0415\u0441\u043b\u0438 \u043d\u0443\u0436\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0438\u043a\u043e\u043d\u043a\u0438:</p> <ol> <li>\u041e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0439\u0442\u0435 <code>favicon.svg</code> (\u0432\u0435\u043a\u0442\u043e\u0440\u043d\u0430\u044f \u0438\u043a\u043e\u043d\u043a\u0430)</li> <li>\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440:    <pre><code>python docs/assets/icon-generator.py\n</code></pre></li> <li>\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 <code>favicon.ico</code> (\u0441\u043c. \u0432\u044b\u0448\u0435)</li> </ol>"},{"location":"assets/README_ICONS/#_6","title":"\ud83d\udcdd \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435","text":"<p>\u0418\u043a\u043e\u043d\u043a\u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u044e\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437: - <code>docs/favicon.html</code> - \u043c\u0435\u0442\u0430-\u0442\u0435\u0433\u0438 \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043e\u0432 - <code>mkdocs.yml</code> - \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 favicon \u0434\u043b\u044f MkDocs - <code>docs/site.webmanifest</code> - \u043c\u0430\u043d\u0438\u0444\u0435\u0441\u0442 \u0434\u043b\u044f PWA</p>"},{"location":"assets/README_ICONS/#_7","title":"\ud83c\udfaf \u0421\u0438\u043c\u0432\u043e\u043b\u0438\u043a\u0430 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432","text":"<ol> <li>\u041c\u043d\u043e\u0433\u043e\u0441\u043b\u043e\u0439\u043d\u0430\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 - Clean Architecture (Domain, Application, Infrastructure)</li> <li>\u041a\u0440\u0443\u0433 (Singleton) - \u043f\u0430\u0442\u0442\u0435\u0440\u043d \u041e\u0434\u0438\u043d\u043e\u0447\u043a\u0430</li> <li>\u041a\u0432\u0430\u0434\u0440\u0430\u0442 \u0441 \u043a\u0440\u0435\u0441\u0442\u043e\u043c (Factory) - \u043f\u0430\u0442\u0442\u0435\u0440\u043d \u0424\u0430\u0431\u0440\u0438\u043a\u0430</li> <li>\u0422\u0440\u0435\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a (Observer) - \u043f\u0430\u0442\u0442\u0435\u0440\u043d \u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u044c</li> <li>5 \u0442\u043e\u0447\u0435\u043a (SOLID) - \u043f\u044f\u0442\u044c \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u043e\u0432 SOLID</li> <li>\u041c\u0430\u043b\u0435\u043d\u044c\u043a\u0438\u0435 \u0431\u043b\u043e\u043a\u0438 (\u041c\u0438\u043a\u0440\u043e\u0441\u0435\u0440\u0432\u0438\u0441\u044b) - \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u0430\u044f \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430</li> <li>\u0411\u0443\u043a\u0432\u0430 \"A\" - Architecture (\u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430)</li> </ol>"},{"location":"exercises/","title":"\ud83c\udf93 \u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439 TDD","text":""},{"location":"exercises/#_1","title":"\ud83d\udcd6 \u041e\u0431\u0437\u043e\u0440","text":""},{"location":"exercises/#_2","title":"\ud83d\udca1 \u041f\u0440\u043e\u0441\u0442\u044b\u043c\u0438 \u0441\u043b\u043e\u0432\u0430\u043c\u0438","text":"<p>\u0410\u043d\u0430\u043b\u043e\u0433\u0438\u044f: \u0422\u0440\u0435\u043d\u0430\u0436\u0435\u0440\u043d\u044b\u0439 \u0437\u0430\u043b \u0434\u043b\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0441\u0442\u043e\u0432 - \u0422\u0435\u043e\u0440\u0438\u044f = \u0438\u0437\u0443\u0447\u0435\u043d\u0438\u0435 \u0442\u0435\u0445\u043d\u0438\u043a\u0438 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439 (\u0443\u0440\u043e\u043a\u0438 \u043a\u0443\u0440\u0441\u0430) - \u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 = \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439 (\u044d\u0442\u0430 \u043f\u0430\u043f\u043a\u0430) - \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 = \u0442\u0440\u0435\u043d\u0435\u0440, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f - \u0420\u0430\u0437\u043d\u044b\u0435 \u0443\u0440\u043e\u0432\u043d\u0438 \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u0438 = \u0440\u0430\u0437\u043d\u044b\u0435 \u0432\u0435\u0441\u0430 (\u043d\u0430\u0447\u0438\u043d\u0430\u044e\u0449\u0438\u0439, \u0441\u0440\u0435\u0434\u043d\u0438\u0439, \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0439)</p> <p>\u0412 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0438: - \u0423\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f = \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u044f \u0434\u043b\u044f \u0437\u0430\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u0438\u044f \u0437\u043d\u0430\u043d\u0438\u0439 TDD - \u0420\u0435\u0448\u0435\u043d\u0438\u044f = \u043f\u0440\u0438\u043c\u0435\u0440\u044b \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0445 \u043e\u0442\u0432\u0435\u0442\u043e\u0432 \u0441 \u0442\u0435\u0441\u0442\u0430\u043c\u0438 - \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 = \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0432\u0430\u0448\u0435\u0433\u043e \u043a\u043e\u0434\u0430 \u0447\u0435\u0440\u0435\u0437 \u0442\u0435\u0441\u0442\u044b - \u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u0430\u044f \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c = \u0437\u0430\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u0434 \u0432\u0430\u0448 \u0443\u0440\u043e\u0432\u0435\u043d\u044c</p>"},{"location":"exercises/#_3","title":"\ud83d\udcca \u0412\u0438\u0437\u0443\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439","text":"<pre><code>graph TB\n    A[\u0421\u0442\u0443\u0434\u0435\u043d\u0442] --&gt; B[\u0412\u044b\u0431\u043e\u0440 \u0437\u0430\u0434\u0430\u043d\u0438\u044f]\n    B --&gt; C{\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u0438}\n\n    C --&gt;|\u041d\u0430\u0447\u0438\u043d\u0430\u044e\u0449\u0438\u0439| D[Beginner&lt;br/&gt;\u041f\u043e\u0448\u0430\u0433\u043e\u0432\u044b\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438]\n    C --&gt;|\u0421\u0440\u0435\u0434\u043d\u0438\u0439| E[Intermediate&lt;br/&gt;\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0430\u044f \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c]\n    C --&gt;|\u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0439| F[Advanced&lt;br/&gt;\u041c\u0438\u043d\u0438\u043c\u0443\u043c \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043e\u043a]\n\n    D --&gt; G[\u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u0430 RED]\n    E --&gt; G\n    F --&gt; G\n\n    G --&gt; H[\u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u043e\u0434\u0430 GREEN]\n    H --&gt; I[\u0420\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433 REFACTOR]\n\n    I --&gt; J[\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430]\n    J --&gt; K{\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442}\n\n    K --&gt;|\u0423\u0441\u043f\u0435\u0448\u043d\u043e| L[\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435]\n    K --&gt;|\u041e\u0448\u0438\u0431\u043a\u0438| M[\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438&lt;br/&gt;\u043f\u043e \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044e]\n\n    M --&gt; G\n\n    style A fill:#4dabf7\n    style C fill:#51cf66\n    style J fill:#ffd43b\n    style L fill:#ff6b6b</code></pre> <p>\u042d\u0442\u043e\u0442 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u043e\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439 \u043a\u0443\u0440\u0441\u0430 \"TDD Learning\". \u0412\u0441\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0431\u044b\u043b\u0438 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u044b \u0441 \u0441\u043e\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u0435\u043c \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u043e\u0432 TDD.</p>"},{"location":"exercises/#_4","title":"\ud83c\udfaf \u0427\u0442\u043e \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439","text":""},{"location":"exercises/#1-tdd","title":"\u2705 1. \u0418\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f \u0441 TDD","text":"<p>\u0427\u0442\u043e \u044d\u0442\u043e: \u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u044f \u0434\u043b\u044f \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0446\u0438\u043a\u043b\u0430 Red-Green-Refactor</p>"},{"location":"exercises/#_5","title":"\ud83d\udca1 \u041f\u0440\u043e\u0441\u0442\u044b\u043c\u0438 \u0441\u043b\u043e\u0432\u0430\u043c\u0438","text":"<p>\u0410\u043d\u0430\u043b\u043e\u0433\u0438\u044f: \u0422\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0430 \u0441 \u0442\u0440\u0435\u043d\u0435\u0440\u043e\u043c - \u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f \u043f\u0440\u044f\u043c\u043e \u0432 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435 - \u0421\u043b\u0435\u0434\u0443\u0435\u0442\u0435 \u0446\u0438\u043a\u043b\u0443 TDD: Red \u2192 Green \u2192 Refactor - \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0435 \u043d\u0435\u043c\u0435\u0434\u043b\u0435\u043d\u043d\u0443\u044e \u043e\u0431\u0440\u0430\u0442\u043d\u0443\u044e \u0441\u0432\u044f\u0437\u044c</p> <p>\u0421\u0442\u0430\u0442\u0443\u0441: \u2705 \u0412\u042b\u041f\u041e\u041b\u041d\u0415\u041d\u041e \u041b\u043e\u043a\u0430\u0446\u0438\u044f: \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 \u043c\u0430\u043a\u0440\u043e\u0441\u044b \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438</p>"},{"location":"exercises/#_6","title":"\u041f\u0440\u0438\u043c\u0435\u0440\u044b \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439:","text":"<ul> <li>\u0411\u0430\u0437\u043e\u0432\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 - \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0441\u0442\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u0447\u0435\u0440\u0435\u0437 TDD</li> <li>\u041a\u043b\u0430\u0441\u0441\u044b \u0438 \u043e\u0431\u044a\u0435\u043a\u0442\u044b - \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 TDD \u0434\u043b\u044f \u041e\u041e\u041f</li> <li>\u0412\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f - TDD \u0432 Flask/FastAPI \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u0445</li> <li>Legacy Code - \u0440\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0433\u043e \u043a\u043e\u0434\u0430 \u0447\u0435\u0440\u0435\u0437 \u0442\u0435\u0441\u0442\u044b</li> </ul>"},{"location":"exercises/#2","title":"\u2705 2. \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u0434\u0430 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u043e\u0432","text":"<p>\u0427\u0442\u043e \u044d\u0442\u043e: \u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0432\u0430\u0448\u0435\u0433\u043e \u043a\u043e\u0434\u0430 \u0447\u0435\u0440\u0435\u0437 \u0442\u0435\u0441\u0442\u044b</p>"},{"location":"exercises/#_7","title":"\ud83d\udca1 \u041f\u0440\u043e\u0441\u0442\u044b\u043c\u0438 \u0441\u043b\u043e\u0432\u0430\u043c\u0438","text":"<p>\u0410\u043d\u0430\u043b\u043e\u0433\u0438\u044f: \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u044e\u0449\u0438\u0439 - \u0412\u044b \u043f\u0438\u0448\u0435\u0442\u0435 \u043a\u043e\u0434 \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442\u0435 \u043d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 - \u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442 \u0442\u0435\u0441\u0442\u044b - \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0435 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0447\u0435\u0442 \u0441 \u043e\u0448\u0438\u0431\u043a\u0430\u043c\u0438 \u0438 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u044f\u043c\u0438</p> <p>\u0421\u0442\u0430\u0442\u0443\u0441: \u2705 \u0412\u042b\u041f\u041e\u041b\u041d\u0415\u041d\u041e \u041b\u043e\u043a\u0430\u0446\u0438\u044f: <code>docs/exercises/automated-testing/</code></p>"},{"location":"exercises/#_8","title":"\u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f:","text":""},{"location":"exercises/#test_runnerpy-800","title":"test_runner.py (800+ \u0441\u0442\u0440\u043e\u043a)","text":"<p>Comprehensive automated testing framework \u0434\u043b\u044f TDD \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439:</p> <pre><code># Example usage\npython test_runner.py solution.py --suite tdd-basics --report\n</code></pre>"},{"location":"exercises/#_9","title":"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u044b:","text":"<ul> <li>\ud83d\udd0d Code Structure Analysis - AST parsing \u0434\u043b\u044f \u0430\u043d\u0430\u043b\u0438\u0437\u0430 \u043a\u043e\u0434\u0430</li> <li>\ud83e\uddea Test Coverage Analysis - \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f \u0442\u0435\u0441\u0442\u0430\u043c\u0438</li> <li>\ud83d\udcca TDD Compliance Checking - \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f TDD \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u0430\u043c</li> <li>\ud83d\udccb Detailed Reports - comprehensive \u043e\u0442\u0447\u0435\u0442\u044b \u0441 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u044f\u043c\u0438</li> </ul>"},{"location":"exercises/#test-suites","title":"Test Suites:","text":"<ol> <li>TDD Basics Tests</li> <li>Red-Green-Refactor cycle validation</li> <li>Test-first development checking</li> <li> <p>Test coverage analysis</p> </li> <li> <p>Unit Testing Tests</p> </li> <li>unittest framework usage</li> <li>pytest framework usage</li> <li> <p>Test organization and structure</p> </li> <li> <p>Mocking Tests</p> </li> <li>Mock object usage</li> <li>Dependency injection testing</li> <li>Isolation testing</li> </ol>"},{"location":"exercises/#features","title":"Features:","text":"<ul> <li>\u2705 Automatic test execution</li> <li>\u2705 Code quality analysis</li> <li>\u2705 Comprehensive error reporting</li> <li>\u2705 TDD best practices checking</li> </ul>"},{"location":"exercises/#3-beginnerintermediateadvanced","title":"\u2705 3. \u0413\u0440\u0430\u0434\u0430\u0446\u0438\u044f \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0437\u0430\u0434\u0430\u0447 (Beginner/Intermediate/Advanced)","text":"<p>\u0427\u0442\u043e \u044d\u0442\u043e: \u0417\u0430\u0434\u0430\u043d\u0438\u044f \u0440\u0430\u0437\u043d\u043e\u0439 \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0432\u0430\u0448\u0435\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f</p>"},{"location":"exercises/#_10","title":"\ud83d\udca1 \u041f\u0440\u043e\u0441\u0442\u044b\u043c\u0438 \u0441\u043b\u043e\u0432\u0430\u043c\u0438","text":"<p>\u0410\u043d\u0430\u043b\u043e\u0433\u0438\u044f: \u0420\u0430\u0437\u043d\u044b\u0435 \u0443\u0440\u043e\u0432\u043d\u0438 \u0432 \u0438\u0433\u0440\u0435 - Beginner = \u043b\u0435\u0433\u043a\u0438\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c (\u043c\u043d\u043e\u0433\u043e \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043e\u043a, \u0433\u043e\u0442\u043e\u0432\u044b\u0435 \u0442\u0435\u0441\u0442\u044b) - Intermediate = \u0441\u0440\u0435\u0434\u043d\u0438\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c (\u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0430\u044f \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c) - Advanced = \u0441\u043b\u043e\u0436\u043d\u044b\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c (\u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043e\u043a, \u043f\u043e\u043b\u043d\u044b\u0439 TDD \u0446\u0438\u043a\u043b)</p> <p>\u0421\u0442\u0430\u0442\u0443\u0441: \u2705 \u0412\u042b\u041f\u041e\u041b\u041d\u0415\u041d\u041e \u041b\u043e\u043a\u0430\u0446\u0438\u044f: <code>docs/exercises/difficulty-levels/</code></p>"},{"location":"exercises/#adaptive-learning-system","title":"Adaptive Learning System:","text":""},{"location":"exercises/#difficulty_systempy-1000","title":"difficulty_system.py (1,000+ \u0441\u0442\u0440\u043e\u043a)","text":"<p>Comprehensive adaptive learning system \u0441 \u0442\u0440\u0435\u043c\u044f \u0443\u0440\u043e\u0432\u043d\u044f\u043c\u0438 \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u0438:</p>"},{"location":"exercises/#_11","title":"\u0423\u0440\u043e\u0432\u043d\u0438 \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u0438:","text":""},{"location":"exercises/#beginner-level","title":"\ud83d\udfe2 Beginner Level (\u041d\u0430\u0447\u0438\u043d\u0430\u044e\u0449\u0438\u0439)","text":"<p>\u0410\u043d\u0430\u043b\u043e\u0433\u0438\u044f: \u041e\u0431\u0443\u0447\u0435\u043d\u0438\u0435 \u0432\u043e\u0436\u0434\u0435\u043d\u0438\u044e \u0441 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440\u043e\u043c - \u0413\u043e\u0442\u043e\u0432\u044b\u0435 \u0442\u0435\u0441\u0442\u044b - \u0442\u0435\u0441\u0442\u044b \u0443\u0436\u0435 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u044b, \u043d\u0443\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u0434 - \u041f\u043e\u0448\u0430\u0433\u043e\u0432\u044b\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438 - \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u0435 \u0448\u0430\u0433\u0438 TDD \u0446\u0438\u043a\u043b\u0430 - \u041f\u0440\u043e\u0441\u0442\u044b\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f - \u0431\u0430\u0437\u043e\u0432\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c - \u0412\u0440\u0435\u043c\u044f: \u043d\u0430 30-50% \u0431\u043e\u043b\u044c\u0448\u0435, \u0447\u0435\u043c \u0441\u0440\u0435\u0434\u043d\u0438\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c - \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430: \u0432\u0438\u0434\u0435\u043e-\u0442\u0443\u0442\u043e\u0440\u0438\u0430\u043b\u044b, \u043f\u0440\u043e\u0441\u0442\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b</p>"},{"location":"exercises/#intermediate-level","title":"\ud83d\udfe1 Intermediate Level (\u0421\u0440\u0435\u0434\u043d\u0438\u0439)","text":"<p>\u0410\u043d\u0430\u043b\u043e\u0433\u0438\u044f: \u0412\u043e\u0436\u0434\u0435\u043d\u0438\u0435 \u0441 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u043c\u0438 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430\u043c\u0438 - \u0427\u0430\u0441\u0442\u0438\u0447\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b - \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0442\u0435\u0441\u0442\u044b \u0434\u0430\u043d\u044b, \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c - \u0423\u043c\u0435\u0440\u0435\u043d\u043d\u0430\u044f \u043f\u043e\u043c\u043e\u0449\u044c - \u0431\u0430\u043b\u0430\u043d\u0441 \u043c\u0435\u0436\u0434\u0443 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430\u043c\u0438 \u0438 \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c\u044e - \u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0430\u044f \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c - \u0442\u0438\u043f\u0438\u0447\u043d\u0430\u044f \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0434\u043b\u044f \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438 - \u0412\u0440\u0435\u043c\u044f: \u0431\u0430\u0437\u043e\u0432\u044b\u0435 \u043e\u0446\u0435\u043d\u043a\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 - \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430: \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f, \u043f\u0440\u0438\u043c\u0435\u0440\u044b \u0438\u0437 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438</p>"},{"location":"exercises/#advanced-level","title":"\ud83d\udd34 Advanced Level (\u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0439)","text":"<p>\u0410\u043d\u0430\u043b\u043e\u0433\u0438\u044f: \u042d\u043a\u0437\u0430\u043c\u0435\u043d \u043f\u043e \u0432\u043e\u0436\u0434\u0435\u043d\u0438\u044e - \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043f\u043e\u043c\u043e\u0449\u0438 - \u0422\u043e\u043b\u044c\u043a\u043e \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f - \u043d\u0443\u0436\u043d\u043e \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0432\u0441\u0435 \u0442\u0435\u0441\u0442\u044b \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e - \u041c\u0438\u043d\u0438\u043c\u0443\u043c \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043e\u043a - \u0432\u044b\u0441\u043e\u043a\u0430\u044f \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c - \u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u044b\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f - \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 - Production-ready - \u043a\u043e\u0434 \u0443\u0440\u043e\u0432\u043d\u044f enterprise - \u0412\u0440\u0435\u043c\u044f: \u043d\u0430 60-100% \u0431\u043e\u043b\u044c\u0448\u0435, \u0447\u0435\u043c \u0441\u0440\u0435\u0434\u043d\u0438\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c - \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430: \u043d\u0430\u0443\u0447\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u044c\u0438, \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 \u043f\u0430\u0442\u0442\u0435\u0440\u043d\u044b</p>"},{"location":"exercises/#adaptive-features","title":"Adaptive Features:","text":"<ul> <li>\ud83e\udde0 Progress Tracking - monitors student performance</li> <li>\ud83d\udcc8 Skill Level Assessment - tracks TDD expertise</li> <li>\ud83c\udfaf Automatic Recommendations - suggests appropriate difficulty</li> <li>\ud83d\udcca Performance Analytics - detailed progress metrics</li> <li>\ud83d\udd04 Dynamic Adjustment - adapts based on results</li> </ul>"},{"location":"exercises/#example-task-generation","title":"Example Task Generation:","text":"<pre><code># Beginner: Tests provided\ndef test_add():\n    assert add(2, 3) == 5\n    assert add(-1, 1) == 0\n\n# TODO: Implement add function to pass tests\ndef add(a, b):\n    pass\n\n# Intermediate: Some tests provided\ndef test_multiply():\n    # Write your test here\n    pass\n\n# Advanced: Only requirements\n\"\"\"\nRequirements:\n1. Implement calculator with add, subtract, multiply, divide\n2. Write comprehensive tests first (TDD)\n3. Handle edge cases (division by zero, etc.)\n4. Refactor for maintainability\n\"\"\"\n</code></pre>"},{"location":"exercises/#_12","title":"\ud83c\udfd7\ufe0f \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439","text":""},{"location":"exercises/#_13","title":"\ud83d\udcca \u0412\u0438\u0437\u0443\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b","text":"<pre><code>graph TB\n    A[exercises/] --&gt; B[automated-testing/]\n    A --&gt; C[difficulty-levels/]\n\n    B --&gt; D[test_runner.py]\n    C --&gt; E[difficulty_system.py]\n\n    style A fill:#4dabf7\n    style B fill:#51cf66\n    style C fill:#ffd43b</code></pre>"},{"location":"exercises/#_14","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0444\u0430\u0439\u043b\u043e\u0432:","text":"<pre><code>docs/exercises/\n\u251c\u2500\u2500 module-01-tdd-basics/\n\u2502   \u251c\u2500\u2500 01-red-green-refactor/\n\u2502   \u2502   \u251c\u2500\u2500 exercise.md              # \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f\n\u2502   \u2502   \u251c\u2500\u2500 solution.py              # \u0420\u0435\u0448\u0435\u043d\u0438\u0435\n\u2502   \u2502   \u2514\u2500\u2500 tests.py                 # \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0442\u0435\u0441\u0442\u044b\n\u2502   \u251c\u2500\u2500 02-first-test/\n\u2502   \u2514\u2500\u2500 README.md\n\u251c\u2500\u2500 module-02-unittest/\n\u2502   \u251c\u2500\u2500 01-basic-tests/\n\u2502   \u251c\u2500\u2500 02-test-fixtures/\n\u2502   \u2514\u2500\u2500 README.md\n\u251c\u2500\u2500 module-03-pytest/\n\u2502   \u251c\u2500\u2500 01-pytest-basics/\n\u2502   \u251c\u2500\u2500 02-pytest-fixtures/\n\u2502   \u2514\u2500\u2500 README.md\n\u251c\u2500\u2500 automated-testing/\n\u2502   \u2514\u2500\u2500 test_runner.py              # Testing framework with TDD compliance\n\u251c\u2500\u2500 difficulty-levels/\n\u2502   \u2514\u2500\u2500 difficulty_system.py        # Adaptive learning\n\u2514\u2500\u2500 README.md                         # This documentation\n</code></pre>"},{"location":"exercises/#_15","title":"\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0441 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0439 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u043e\u0439:","text":"<ul> <li>\u2705 \u0421\u043e\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u0435 TDD \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u043e\u0432 - \u0432\u0441\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0442 Red-Green-Refactor</li> <li>\u2705 \u0421\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c - \u043d\u0435 \u043d\u0430\u0440\u0443\u0448\u0430\u0435\u0442 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u0444\u0430\u0439\u043b\u044b</li> <li>\u2705 \u0420\u0430\u0441\u0448\u0438\u0440\u044f\u0435\u043c\u043e\u0441\u0442\u044c - \u043b\u0435\u0433\u043a\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u043d\u043e\u0432\u044b\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f</li> <li>\u2705 Maintainability - clean, well-documented code</li> </ul>"},{"location":"exercises/#_16","title":"\ud83d\ude80 \u041a\u0430\u043a \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u0438\u0441\u0442\u0435\u043c\u0443","text":""},{"location":"exercises/#_17","title":"\ud83d\udca1 \u041f\u0440\u043e\u0441\u0442\u044b\u043c\u0438 \u0441\u043b\u043e\u0432\u0430\u043c\u0438","text":"<p>\u0410\u043d\u0430\u043b\u043e\u0433\u0438\u044f: \u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u0439 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439 \u043a\u0430\u043a \u0441 \u0444\u0438\u0442\u043d\u0435\u0441-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435\u043c 1. \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u0442\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0435 (\u0437\u0430\u0434\u0430\u043d\u0438\u0435) 2. \u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u043f\u043e\u0434\u0431\u0438\u0440\u0430\u0435\u0442 \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u0434 \u0432\u0430\u0448 \u0443\u0440\u043e\u0432\u0435\u043d\u044c 3. \u0421\u043b\u0435\u0434\u0443\u0435\u0442\u0435 TDD \u0446\u0438\u043a\u043b\u0443: Red \u2192 Green \u2192 Refactor 4. \u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442\u0435 \u043d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 5. \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0435 \u043e\u0431\u0440\u0430\u0442\u043d\u0443\u044e \u0441\u0432\u044f\u0437\u044c \u0438 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438</p>"},{"location":"exercises/#_18","title":"\u0414\u043b\u044f \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u043e\u0432:","text":""},{"location":"exercises/#1","title":"1. \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u044f \u0430\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u043e\u0439 \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u0438:","text":"<p><pre><code>python difficulty_system.py --student student_001 --task tdd_basics\n</code></pre> \u0427\u0442\u043e \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442: \u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u0430\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u0435\u0442 \u0432\u0430\u0448 \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0438 \u0432\u044b\u0434\u0430\u0435\u0442 \u0437\u0430\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0435\u0439 \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u0438</p>"},{"location":"exercises/#2_1","title":"2. \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u0448\u0435\u043d\u0438\u044f:","text":"<p><pre><code>python test_runner.py my_solution.py --suite tdd-basics --report\n</code></pre> \u0427\u0442\u043e \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442: \u0412\u0430\u0448 \u043a\u043e\u0434 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438, \u0432\u044b \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0435 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0447\u0435\u0442</p>"},{"location":"exercises/#3","title":"3. \u041e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0433\u0440\u0435\u0441\u0441\u0430:","text":"<p><pre><code>python difficulty_system.py --student student_001\n</code></pre> \u0427\u0442\u043e \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442: \u0412\u0438\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u043f\u0440\u043e\u0433\u0440\u0435\u0441\u0441, \u043a\u0430\u043a\u0438\u0435 \u0442\u0435\u043c\u044b \u043e\u0441\u0432\u043e\u0435\u043d\u044b, \u0447\u0442\u043e \u043d\u0443\u0436\u043d\u043e \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c</p>"},{"location":"exercises/#_19","title":"\u0414\u043b\u044f \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0435\u0439:","text":""},{"location":"exercises/#1_1","title":"1. \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0434\u0430\u043d\u0438\u0439 \u0440\u0430\u0437\u043d\u043e\u0439 \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u0438:","text":"<pre><code># \u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0443\u0440\u043e\u0432\u0435\u043d\u044c\npython difficulty_system.py --student student_001 --task tdd_basics --level advanced\n</code></pre>"},{"location":"exercises/#2-batch-testing","title":"2. Batch testing \u0432\u0441\u0435\u0445 \u0440\u0435\u0448\u0435\u043d\u0438\u0439:","text":"<pre><code>for solution in solutions/*.py; do\n    python test_runner.py \"$solution\" --report\ndone\n</code></pre>"},{"location":"exercises/#3_1","title":"3. \u0410\u043d\u0430\u043b\u0438\u0437 \u0443\u0441\u043f\u0435\u0432\u0430\u0435\u043c\u043e\u0441\u0442\u0438 \u043a\u043b\u0430\u0441\u0441\u0430:","text":"<pre><code># Custom analytics script\nfor student in students:\n    dashboard = system.get_student_dashboard(student.id)\n    print(f\"{student.name}: {dashboard['average_recent_performance']}%\")\n</code></pre>"},{"location":"exercises/#_20","title":"\ud83d\udcca \u041c\u0435\u0442\u0440\u0438\u043a\u0438 \u0438 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b","text":""},{"location":"exercises/#_21","title":"\u041f\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f:","text":"<ul> <li>TDD Basics: 15 test cases, 20 points max</li> <li>Unit Testing: 18 test cases, 18 points max  </li> <li>Mocking: 12 test cases, 15 points max</li> </ul>"},{"location":"exercises/#_22","title":"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430:","text":"<ul> <li>Skill Domains: 5 tracked domains (TDD, unittest, pytest, mocking, integration)</li> <li>Difficulty Adaptation: Dynamic based on performance</li> <li>Progress Tracking: Comprehensive analytics</li> <li>Recommendation Engine: ML-based suggestions</li> </ul>"},{"location":"exercises/#_23","title":"\u0412\u0440\u0435\u043c\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u043d\u0438\u0439:","text":"Task Beginner Intermediate Advanced TDD Basics 60 min 45 min 90 min Unit Testing 120 min 90 min 180 min Mocking 180 min 150 min 240 min"},{"location":"exercises/#_24","title":"\ud83c\udfaf \u0414\u043e\u0441\u0442\u0438\u0433\u043d\u0443\u0442\u044b\u0435 \u0446\u0435\u043b\u0438","text":""},{"location":"exercises/#_25","title":"\u2705 \u0412\u0441\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u044b:","text":"<ol> <li>\u0418\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f - \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0447\u0435\u0440\u0435\u0437 \u043c\u0430\u043a\u0440\u043e\u0441\u044b MkDocs</li> <li>\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 - full-featured testing framework  </li> <li>\u0413\u0440\u0430\u0434\u0430\u0446\u0438\u044f \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u0438 - adaptive learning system</li> </ol>"},{"location":"exercises/#_26","title":"\ud83c\udfc6 \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u044f:","text":"<ul> <li>TDD Compliance: \u0412\u0441\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0442 TDD \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u0430\u043c</li> <li>Code Quality: Production-ready implementations</li> <li>Documentation: Extensive technical documentation</li> <li>Testing: Comprehensive automated testing</li> <li>Analytics: Advanced progress tracking</li> <li>Scalability: Easy to extend with new exercises</li> </ul>"},{"location":"exercises/#_27","title":"\ud83d\udd27 \u0422\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f","text":""},{"location":"exercises/#_28","title":"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0441\u0442\u0435\u043a:","text":"<ul> <li>Python 3.12+ - \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u044f\u0437\u044b\u043a</li> <li>pytest - \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f</li> <li>unittest - \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u0439 \u043c\u043e\u0434\u0443\u043b\u044c \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f</li> <li>AST - code analysis</li> <li>dataclasses - modern Python patterns</li> </ul>"},{"location":"exercises/#_29","title":"\u0417\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438:","text":"<pre><code>pytest&gt;=7.0.0\npytest-cov&gt;=4.0.0\npytest-mock&gt;=3.10.0\n</code></pre>"},{"location":"exercises/#_30","title":"\ud83d\udcc8 \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0438 \u0432\u044b\u0432\u043e\u0434\u044b","text":""},{"location":"exercises/#_31","title":"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b:","text":"<ul> <li>1,800+ \u0441\u0442\u0440\u043e\u043a \u043a\u043e\u0434\u0430 \u0432 \u0440\u0435\u0448\u0435\u043d\u0438\u044f\u0445 \u0438 \u0442\u0435\u0441\u0442\u0430\u0445</li> <li>45 test cases \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438</li> <li>3 \u0443\u0440\u043e\u0432\u043d\u044f \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0437\u0430\u0434\u0430\u043d\u0438\u044f</li> <li>100% \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c \u0441 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0439 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u043e\u0439</li> </ul>"},{"location":"exercises/#_32","title":"\u041a\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f:","text":"<ul> <li>\ud83d\ude80 \u0417\u043d\u0430\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043f\u043e\u0432\u044b\u0448\u0435\u043d\u043e \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439</li> <li>\ud83d\udcca \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u043e\u0431\u044a\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0439 \u043e\u0446\u0435\u043d\u043a\u0438 \u0441\u0442\u0443\u0434\u0435\u043d\u0447\u0435\u0441\u043a\u0438\u0445 \u0440\u0435\u0448\u0435\u043d\u0438\u0439</li> <li>\ud83c\udfaf \u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u0430 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f \u0447\u0435\u0440\u0435\u0437 \u0430\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u0443\u044e \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c</li> <li>\ud83d\udca1 \u0421\u043e\u0437\u0434\u0430\u043d\u044b comprehensive examples \u0434\u043b\u044f \u0438\u0437\u0443\u0447\u0435\u043d\u0438\u044f TDD best practices</li> </ul>"},{"location":"exercises/#_33","title":"\u041f\u0435\u0434\u0430\u0433\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0446\u0435\u043d\u043d\u043e\u0441\u0442\u044c:","text":"<ul> <li>\u041f\u0440\u043e\u0433\u0440\u0435\u0441\u0441\u0438\u0432\u043d\u043e\u0435 \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435 - \u043e\u0442 \u043f\u0440\u043e\u0441\u0442\u043e\u0433\u043e \u043a \u0441\u043b\u043e\u0436\u043d\u043e\u043c\u0443</li> <li>\u041d\u0435\u043c\u0435\u0434\u043b\u0435\u043d\u043d\u0430\u044f \u043e\u0431\u0440\u0430\u0442\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u044c - automated testing</li> <li>\u0418\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u0442\u0440\u0435\u043a\u0438 - adaptive difficulty</li> <li>\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043e\u0440\u0438\u0435\u043d\u0442\u0430\u0446\u0438\u044f - real-world TDD examples</li> </ul>"},{"location":"exercises/#_34","title":"\ud83c\udf89 \u0417\u0430\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435","text":""},{"location":"exercises/#_35","title":"\u2705 \u0427\u0442\u043e \u0432\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438","text":"<p>\u0412\u0441\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u044b \u0438 \u0433\u043e\u0442\u043e\u0432\u044b \u043a \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044e:</p> <ul> <li>\u2705 \u0418\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f - \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 TDD \u0432 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435</li> <li>\u2705 \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 - \u0431\u044b\u0441\u0442\u0440\u0430\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0432\u0430\u0448\u0435\u0433\u043e \u043a\u043e\u0434\u0430</li> <li>\u2705 \u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u0430\u044f \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c - \u0437\u0430\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u0434 \u0432\u0430\u0448 \u0443\u0440\u043e\u0432\u0435\u043d\u044c</li> </ul>"},{"location":"exercises/#_36","title":"\ud83d\udca1 \u0418\u0442\u043e\u0433\u043e\u0432\u0430\u044f \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u044f","text":"<p>\u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439 = \u043f\u043e\u043b\u043d\u043e\u0446\u0435\u043d\u043d\u044b\u0439 \u0442\u0440\u0435\u043d\u0430\u0436\u0435\u0440\u043d\u044b\u0439 \u0437\u0430\u043b \u0434\u043b\u044f TDD: - \u0415\u0441\u0442\u044c \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f \u0440\u0430\u0437\u043d\u043e\u0439 \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u0438 (Beginner/Intermediate/Advanced) - \u0415\u0441\u0442\u044c \u0442\u0440\u0435\u043d\u0435\u0440 (\u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435), \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442 \u0442\u0435\u0445\u043d\u0438\u043a\u0443 - \u0415\u0441\u0442\u044c \u043f\u0440\u0438\u043c\u0435\u0440\u044b \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0433\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f (TDD \u0440\u0435\u0448\u0435\u043d\u0438\u044f) - \u0415\u0441\u0442\u044c \u043e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0433\u0440\u0435\u0441\u0441\u0430 (\u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430)</p>"},{"location":"exercises/#_37","title":"\ud83d\ude80 \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0448\u0430\u0433\u0438","text":"<ol> <li>\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0441 \u043f\u0440\u043e\u0441\u0442\u044b\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439 - \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 Beginner \u0443\u0440\u043e\u0432\u0435\u043d\u044c</li> <li>\u0418\u0437\u0443\u0447\u0438\u0442\u0435 TDD \u0446\u0438\u043a\u043b - Red \u2192 Green \u2192 Refactor</li> <li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0443\u044e \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 - \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0439\u0442\u0435 \u043a\u043e\u0434 \u043d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443</li> <li>\u041e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u0439\u0442\u0435 \u043f\u0440\u043e\u0433\u0440\u0435\u0441\u0441 - \u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435, \u043a\u0430\u043a \u0440\u0430\u0441\u0442\u0435\u0442 \u0432\u0430\u0448 \u0443\u0440\u043e\u0432\u0435\u043d\u044c</li> </ol> <p>\u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u0433\u043e\u0442\u043e\u0432\u0430 \u043a \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044e \u0438 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043b\u0435\u0433\u043a\u043e \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0430 \u0434\u043b\u044f \u0434\u0440\u0443\u0433\u0438\u0445 \u043c\u043e\u0434\u0443\u043b\u0435\u0439 \u043a\u0443\u0440\u0441\u0430!</p> <p>\u0421\u043e\u0437\u0434\u0430\u043d\u043e: 2024 \u0412\u0435\u0440\u0441\u0438\u044f: 1.0.0 \u0421\u0442\u0430\u0442\u0443\u0441: Production Ready \u2705</p>"},{"location":"exercises/module-01-tdd-basics/","title":"\u041c\u043e\u0434\u0443\u043b\u044c 1: \u041e\u0441\u043d\u043e\u0432\u044b TDD - \u0423\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f","text":""},{"location":"exercises/module-01-tdd-basics/#_1","title":"\ud83d\udcda \u041e\u0431\u0437\u043e\u0440 \u043c\u043e\u0434\u0443\u043b\u044f","text":"<p>\u042d\u0442\u043e\u0442 \u043c\u043e\u0434\u0443\u043b\u044c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u0438\u0437\u0443\u0447\u0435\u043d\u0438\u044f \u043e\u0441\u043d\u043e\u0432 Test-Driven Development.</p>"},{"location":"exercises/module-01-tdd-basics/#_2","title":"\ud83c\udfaf \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439","text":""},{"location":"exercises/module-01-tdd-basics/#01-red-green-refactor","title":"01-red-green-refactor","text":"<p>\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 \u0446\u0438\u043a\u043b\u0430 Red-Green-Refactor \u043d\u0430 \u043f\u0440\u043e\u0441\u0442\u044b\u0445 \u043f\u0440\u0438\u043c\u0435\u0440\u0430\u0445.</p>"},{"location":"exercises/module-01-tdd-basics/#02-first-test","title":"02-first-test","text":"<p>\u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430 \u0438 \u043f\u043e\u043d\u0438\u043c\u0430\u043d\u0438\u0435 TDD \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430.</p>"},{"location":"exercises/module-01-tdd-basics/#_3","title":"\ud83d\ude80 \u041a\u0430\u043a \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c","text":"<ol> <li>\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0435 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430</li> <li>\u0421\u043b\u0435\u0434\u0443\u0439\u0442\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f\u043c \u0432 \u0444\u0430\u0439\u043b\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f</li> <li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0444\u043e\u0440\u043c\u044b \u0434\u043b\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043a\u043e\u0434\u0430</li> <li>\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u0447\u0435\u0440\u0435\u0437 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435</li> </ol>"},{"location":"exercises/module-01-tdd-basics/#_4","title":"\ud83d\udcdd \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438","text":"<ul> <li>\u041d\u0430\u0447\u0438\u043d\u0430\u0439\u0442\u0435 \u0441 \u043f\u0440\u043e\u0441\u0442\u044b\u0445 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439</li> <li>\u0421\u043b\u0435\u0434\u0443\u0439\u0442\u0435 \u0446\u0438\u043a\u043b\u0443 Red-Green-Refactor \u0441\u0442\u0440\u043e\u0433\u043e</li> <li>\u041d\u0435 \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u0439\u0442\u0435 \u0444\u0430\u0437\u044b</li> <li>\u041a\u043e\u043c\u043c\u0438\u0442\u044c\u0442\u0435 \u043f\u043e\u0441\u043b\u0435 \u043a\u0430\u0436\u0434\u043e\u0433\u043e GREEN</li> </ul>"},{"location":"exercises/module-01-tdd-basics/01-red-green-refactor/exercise/","title":"\u0423\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0435: \u0426\u0438\u043a\u043b Red-Green-Refactor","text":""},{"location":"exercises/module-01-tdd-basics/01-red-green-refactor/exercise/#_1","title":"\ud83c\udfaf \u0426\u0435\u043b\u044c","text":"<p>\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0446\u0438\u043a\u043b\u0430 Red-Green-Refactor \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0441\u043b\u043e\u0436\u0435\u043d\u0438\u044f.</p>"},{"location":"exercises/module-01-tdd-basics/01-red-green-refactor/exercise/#_2","title":"\ud83d\udccb \u0417\u0430\u0434\u0430\u043d\u0438\u0435","text":"<p>\u0420\u0435\u0430\u043b\u0438\u0437\u0443\u0439\u0442\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u044e <code>add(a, b)</code>, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0441\u043a\u043b\u0430\u0434\u044b\u0432\u0430\u0435\u0442 \u0434\u0432\u0430 \u0447\u0438\u0441\u043b\u0430, \u0441\u043b\u0435\u0434\u0443\u044f \u0446\u0438\u043a\u043b\u0443 TDD.</p>"},{"location":"exercises/module-01-tdd-basics/01-red-green-refactor/exercise/#1-red-","title":"\ud83d\udd34 \u0428\u0430\u0433 1: RED - \u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0442\u0435\u0441\u0442","text":"<p>\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0442\u0435\u0441\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442, \u0447\u0442\u043e <code>add(2, 3)</code> \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 <code>5</code>.</p> <pre><code>def test_add():\n    # \u0412\u0430\u0448 \u0442\u0435\u0441\u0442 \u0437\u0434\u0435\u0441\u044c\n    pass\n</code></pre>"},{"location":"exercises/module-01-tdd-basics/01-red-green-refactor/exercise/#2-green-","title":"\ud83d\udfe2 \u0428\u0430\u0433 2: GREEN - \u0420\u0435\u0430\u043b\u0438\u0437\u0443\u0439\u0442\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u044e","text":"<p>\u0420\u0435\u0430\u043b\u0438\u0437\u0443\u0439\u0442\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u044e <code>add</code>, \u0447\u0442\u043e\u0431\u044b \u0442\u0435\u0441\u0442 \u043f\u0440\u043e\u0448\u0435\u043b. \u041c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0445\u0430\u0440\u0434\u043a\u043e\u0434!</p> <pre><code>def add(a, b):\n    # \u0412\u0430\u0448\u0430 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f\n    pass\n</code></pre>"},{"location":"exercises/module-01-tdd-basics/01-red-green-refactor/exercise/#3-refactor-","title":"\ud83d\udd35 \u0428\u0430\u0433 3: REFACTOR - \u0423\u043b\u0443\u0447\u0448\u0438\u0442\u0435 \u043a\u043e\u0434","text":"<p>\u0415\u0441\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u0438 \u0445\u0430\u0440\u0434\u043a\u043e\u0434, \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0432\u0442\u043e\u0440\u043e\u0439 \u0442\u0435\u0441\u0442 \u0438 \u0443\u043b\u0443\u0447\u0448\u0438\u0442\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e.</p>"},{"location":"exercises/module-01-tdd-basics/01-red-green-refactor/exercise/#_3","title":"\u2705 \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430","text":"<p>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u0443\u044e \u0444\u043e\u0440\u043c\u0443 \u043d\u0438\u0436\u0435 \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0432\u0430\u0448\u0435\u0433\u043e \u0440\u0435\u0448\u0435\u043d\u0438\u044f.</p>"},{"location":"exercises/module-02-unittest/","title":"\u041c\u043e\u0434\u0443\u043b\u044c 2: Unittest - \u0423\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f","text":""},{"location":"exercises/module-02-unittest/#_1","title":"\ud83d\udcda \u041e\u0431\u0437\u043e\u0440 \u043c\u043e\u0434\u0443\u043b\u044f","text":"<p>\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u0438\u0437\u0443\u0447\u0435\u043d\u0438\u044f \u043c\u043e\u0434\u0443\u043b\u044f unittest \u0432 Python.</p>"},{"location":"exercises/module-02-unittest/#_2","title":"\ud83c\udfaf \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439","text":""},{"location":"exercises/module-02-unittest/#01-basic-tests","title":"01-basic-tests","text":"<p>\u0411\u0430\u0437\u043e\u0432\u044b\u0435 \u0442\u0435\u0441\u0442\u044b \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c unittest.TestCase.</p>"},{"location":"exercises/module-02-unittest/#02-test-fixtures","title":"02-test-fixtures","text":"<p>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 setUp \u0438 tearDown \u0434\u043b\u044f \u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0438 \u0442\u0435\u0441\u0442\u043e\u0432.</p>"},{"location":"exercises/module-02-unittest/#_3","title":"\ud83d\ude80 \u041a\u0430\u043a \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c","text":"<ol> <li>\u0418\u0437\u0443\u0447\u0438\u0442\u0435 \u0442\u0435\u043e\u0440\u0438\u044e \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0439 \u0433\u043b\u0430\u0432\u0435 \u043a\u0443\u0440\u0441\u0430</li> <li>\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f \u043f\u043e \u043f\u043e\u0440\u044f\u0434\u043a\u0443</li> <li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438</li> </ol>"},{"location":"exercises/module-03-pytest/","title":"\u041c\u043e\u0434\u0443\u043b\u044c 3: Pytest - \u0423\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f","text":""},{"location":"exercises/module-03-pytest/#_1","title":"\ud83d\udcda \u041e\u0431\u0437\u043e\u0440 \u043c\u043e\u0434\u0443\u043b\u044f","text":"<p>\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u0438\u0437\u0443\u0447\u0435\u043d\u0438\u044f \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0430 pytest.</p>"},{"location":"exercises/module-03-pytest/#_2","title":"\ud83c\udfaf \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439","text":""},{"location":"exercises/module-03-pytest/#01-pytest-basics","title":"01-pytest-basics","text":"<p>\u0411\u0430\u0437\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 pytest: \u0444\u0438\u043a\u0441\u0442\u0443\u0440\u044b, \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438\u0437\u0430\u0446\u0438\u044f.</p>"},{"location":"exercises/module-03-pytest/#02-pytest-fixtures","title":"02-pytest-fixtures","text":"<p>\u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u043e\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043a\u0441\u0442\u0443\u0440 \u0438 \u043f\u043b\u0430\u0433\u0438\u043d\u043e\u0432.</p>"},{"location":"exercises/module-03-pytest/#_3","title":"\ud83d\ude80 \u041a\u0430\u043a \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c","text":"<ol> <li>\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 pytest: <code>uv add pytest</code></li> <li>\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f</li> <li>\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0442\u0435\u0441\u0442\u044b: <code>uv run pytest</code></li> </ol>"}]}