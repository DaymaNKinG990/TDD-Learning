# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –≤ TDD

## üéØ –í–≤–µ–¥–µ–Ω–∏–µ

–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ ‚Äî —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–∞—è —á–∞—Å—Ç—å TDD, –∫–æ—Ç–æ—Ä–∞—è —á–∞—Å—Ç–æ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏. –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–µ —Ç–æ–ª—å–∫–æ –≤ "—Å—á–∞—Å—Ç–ª–∏–≤—ã—Ö" —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö, –Ω–æ –∏ –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –æ—à–∏–±–æ–∫.

## üß† –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–Ω—è—Ç–∏—è

### –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è

- **–û—à–∏–±–∫–∞ (Error)** ‚Äî –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –∏–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –Ω–∞—Ä—É—à–∞—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- **–ò—Å–∫–ª—é—á–µ–Ω–∏–µ (Exception)** ‚Äî –º–µ—Ö–∞–Ω–∏–∑–º –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** ‚Äî –≤—ã—è–≤–ª–µ–Ω–∏–µ, –ø–µ—Ä–µ—Ö–≤–∞—Ç –∏ —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –æ—à–∏–±–∫–∏/–∏—Å–∫–ª—é—á–µ–Ω–∏—è
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Ä–µ–∞–∫—Ü–∏–∏ –∫–æ–¥–∞ –Ω–∞ –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏

### –¶–µ–ª–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

1. **–ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ø–µ—Ä–µ—Ö–≤–∞—Ç –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É** –æ—à–∏–±–æ–∫
3. **–û–±–µ—Å–ø–µ—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ—Å—Ç—å** —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö
4. **–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –Ω–µ–æ—Ç–ª–æ–≤–ª–µ–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è** –∏ –∞–≤–∞—Ä–∏–π–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ

## üè∑ –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—à–∏–±–æ–∫

### 1. –ü–æ –≤—Ä–µ–º–µ–Ω–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è

```python
# –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ (–Ω–∞ —ç—Ç–∞–ø–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏)
def invalid_syntax():
    return "missing quote  # SyntaxError

# –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
def calculate_age(birth_year):
    return 2024 + birth_year  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: 2024 - birth_year

# –û—à–∏–±–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
def divide_numbers(a, b):
    return a / b  # ZeroDivisionError –ø—Ä–∏ b=0
```

### 2. –ü–æ –∏—Å—Ç–æ—á–Ω–∏–∫—É

```python
# –°–∏—Å—Ç–µ–º–Ω—ã–µ –æ—à–∏–±–∫–∏
def read_config_file():
    with open('config.txt', 'r') as f:  # FileNotFoundError
        return f.read()

# –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
def create_user(email, age):
    if not email or '@' not in email:
        raise ValueError("Invalid email format")
    if age < 0 or age > 150:
        raise ValueError("Invalid age")

# –û—à–∏–±–∫–∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
def withdraw_money(account, amount):
    if amount > account.balance:
        raise InsufficientFundsError("Not enough money")
```

### 3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è

```python
# –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π
class BankAccountError(Exception):
    """Base exception for bank account operations."""
    pass

class InsufficientFundsError(BankAccountError):
    """Raised when account has insufficient funds."""
    pass

class InvalidAmountError(BankAccountError):
    """Raised when amount is invalid."""
    pass

class AccountNotFoundError(BankAccountError):
    """Raised when account doesn't exist."""
    pass
```

## üî¥ TDD –ø–æ–¥—Ö–æ–¥ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –æ—à–∏–±–æ–∫

### –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –≤ TDD

1. **–¢–µ—Å—Ç—ã –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –ø–∏—à—É—Ç—Å—è –î–û —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏** —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
2. **–û—Ö–≤–∞—Ç –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –æ—à–∏–±–æ—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤**, –≤–∫–ª—é—á–∞—è –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏
3. **–Ø–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –æ–∂–∏–¥–∞–µ–º–æ–≥–æ —Ç–∏–ø–∞ –∏ —Å–æ–æ–±—â–µ–Ω–∏—è** –∏—Å–∫–ª—é—á–µ–Ω–∏—è
4. **–ê—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å –∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å** —Ç–µ—Å—Ç–æ–≤

### RED-GREEN-REFACTOR –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

#### üî¥ RED: –¢–µ—Å—Ç –Ω–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ

```python
# test_bank_account.py
import pytest
from bank_account import BankAccount, InsufficientFundsError

def test_withdraw_more_than_balance_raises_error():
    """–°–Ω—è—Ç–∏–µ —Å—É–º–º—ã –±–æ–ª—å—à–µ –±–∞–ª–∞–Ω—Å–∞ –¥–æ–ª–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ."""
    account = BankAccount(100)
    
    with pytest.raises(InsufficientFundsError) as exc_info:
        account.withdraw(150)
    
    assert "insufficient funds" in str(exc_info.value).lower()
    assert account.balance == 100  # –ë–∞–ª–∞–Ω—Å –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è
```

#### üü¢ GREEN: –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

```python
# bank_account.py
class InsufficientFundsError(Exception):
    pass

class BankAccount:
    def __init__(self, initial_balance=0):
        self.balance = initial_balance
    
    def withdraw(self, amount):
        if amount > self.balance:
            raise InsufficientFundsError("Insufficient funds")
        self.balance -= amount
```

#### üîµ REFACTOR: –£–ª—É—á—à–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏

```python
class BankAccount:
    def __init__(self, initial_balance=0):
        self._validate_amount(initial_balance)
        self.balance = initial_balance
    
    def withdraw(self, amount):
        self._validate_amount(amount)
        if amount > self.balance:
            raise InsufficientFundsError(
                f"Cannot withdraw {amount}. Available balance: {self.balance}"
            )
        self.balance -= amount
    
    def _validate_amount(self, amount):
        if amount < 0:
            raise ValueError("Amount cannot be negative")
        if not isinstance(amount, (int, float)):
            raise TypeError("Amount must be a number")
```

## üß™ –¢–µ—Ö–Ω–∏–∫–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏–π

### 1. pytest.raises

```python
import pytest

def test_division_by_zero():
    """–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–ª–µ–Ω–∏—è –Ω–∞ –Ω–æ–ª—å."""
    with pytest.raises(ZeroDivisionError):
        result = 10 / 0

def test_division_by_zero_with_message():
    """–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ."""
    with pytest.raises(ZeroDivisionError) as exc_info:
        result = 10 / 0
    
    assert "division by zero" in str(exc_info.value)

def test_specific_exception_type():
    """–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è."""
    with pytest.raises(ValueError, match=r"invalid literal.*"):
        int("not_a_number")
```

### 2. unittest.TestCase

```python
import unittest

class TestErrorHandling(unittest.TestCase):
    
    def test_value_error_raised(self):
        """–¢–µ—Å—Ç —Å unittest assertRaises."""
        with self.assertRaises(ValueError) as context:
            int("not_a_number")
        
        self.assertIn("invalid literal", str(context.exception))
    
    def test_exception_message(self):
        """–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è."""
        with self.assertRaisesRegex(ValueError, r"invalid literal.*"):
            int("not_a_number")
    
    def test_no_exception_raised(self):
        """–ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –ù–ï –≤–æ–∑–Ω–∏–∫–∞–µ—Ç."""
        try:
            result = int("42")
            self.assertEqual(result, 42)
        except ValueError:
            self.fail("ValueError raised unexpectedly")
```

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π

```python
def test_user_validation_errors():
    """–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏."""
    
    # –¢–µ—Å—Ç 1: –ü—É—Å—Ç–æ–π email
    with pytest.raises(ValueError, match="Email cannot be empty"):
        create_user("", "password123")
    
    # –¢–µ—Å—Ç 2: –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π email
    with pytest.raises(ValueError, match="Invalid email format"):
        create_user("invalid-email", "password123")
    
    # –¢–µ—Å—Ç 3: –°–ª–∞–±—ã–π –ø–∞—Ä–æ–ª—å
    with pytest.raises(ValueError, match="Password too weak"):
        create_user("user@example.com", "123")

@pytest.mark.parametrize("invalid_input,expected_error", [
    ("", "Email cannot be empty"),
    ("invalid-email", "Invalid email format"),
    ("user@domain", "Invalid domain"),
])
def test_email_validation_errors(invalid_input, expected_error):
    """–ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ç–µ—Å—Ç –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏."""
    with pytest.raises(ValueError, match=expected_error):
        validate_email(invalid_input)
```

## üé≠ –ü–æ–¥—Ö–æ–¥—ã –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

### 1. –ü–æ–∑–∏—Ç–∏–≤–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```python
def test_successful_user_creation():
    """–¢–µ—Å—Ç —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è."""
    user = create_user("john@example.com", "StrongP@ssw0rd!")
    
    assert user.email == "john@example.com"
    assert user.is_active is True
    assert user.created_at is not None
```

### 2. –ù–µ–≥–∞—Ç–∏–≤–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```python
def test_user_creation_with_invalid_data():
    """–¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏."""
    
    # –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π email
    with pytest.raises(ValueError):
        create_user("invalid-email", "password")
    
    # –ü—É—Å—Ç–æ–π –ø–∞—Ä–æ–ª—å
    with pytest.raises(ValueError):
        create_user("user@example.com", "")
    
    # None –∑–Ω–∞—á–µ–Ω–∏—è
    with pytest.raises(TypeError):
        create_user(None, None)
```

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π

```python
def test_boundary_conditions():
    """–¢–µ—Å—Ç –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π."""
    
    # –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –≤–∞–ª–∏–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
    user = create_user("a@b.co", "1234567890")  # –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞
    assert user is not None
    
    # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –≤–∞–ª–∏–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
    long_email = "a" * 50 + "@" + "b" * 50 + ".com"
    user = create_user(long_email, "x" * 100)
    assert user is not None
    
    # –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –≥—Ä–∞–Ω–∏—Ü
    with pytest.raises(ValueError):
        create_user("a" * 300 + "@example.com", "password")  # –°–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π email
```

## üõ° –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

### 1. Fail Fast (–ë—ã—Å—Ç—Ä—ã–π –æ—Ç–∫–∞–∑)

```python
def process_payment(amount, card_number, cvv):
    """–ë—ã—Å—Ç—Ä–æ –ø–∞–¥–∞–µ–º –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∂–µ –æ—à–∏–±–∫–µ."""
    
    # –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
    if amount <= 0:
        raise ValueError("Amount must be positive")
    
    if not card_number or len(card_number) != 16:
        raise ValueError("Invalid card number")
    
    if not cvv or len(cvv) != 3:
        raise ValueError("Invalid CVV")
    
    # –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–∞...
    return process_transaction(amount, card_number, cvv)

def test_payment_fail_fast():
    """–¢–µ—Å—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ Fail Fast."""
    
    # –¢–µ—Å—Ç –ø–∞–¥–∞–µ—Ç —Å—Ä–∞–∑—É –Ω–∞ –ø–µ—Ä–≤–æ–π –æ—à–∏–±–∫–µ
    with pytest.raises(ValueError, match="Amount must be positive"):
        process_payment(-100, "1234567890123456", "123")
    
    # –ù–µ –¥–æ—Ö–æ–¥–∏–º –¥–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—Ä—Ç—ã –ø—Ä–∏ –Ω–µ–≤–µ—Ä–Ω–æ–π —Å—É–º–º–µ
    with pytest.raises(ValueError, match="Amount must be positive"):
        process_payment(0, "invalid", "bad")  # –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ amount
```

### 2. Graceful Degradation (–ò–∑—è—â–Ω–∞—è –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è)

```python
def get_user_profile(user_id):
    """–í–æ–∑–≤—Ä–∞—â–∞–µ–º —á–∞—Å—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö."""
    profile = {"id": user_id}
    
    try:
        profile["basic_info"] = get_basic_info(user_id)
    except DatabaseError:
        profile["basic_info"] = {"name": "Unknown", "email": "N/A"}
    
    try:
        profile["preferences"] = get_user_preferences(user_id)
    except ServiceUnavailableError:
        profile["preferences"] = get_default_preferences()
    
    return profile

def test_graceful_degradation(mocker):
    """–¢–µ—Å—Ç –∏–∑—è—â–Ω–æ–π –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏."""
    # –ú–æ–∫–∏—Ä—É–µ–º –æ—à–∏–±–∫—É –ø–æ–ª—É—á–µ–Ω–∏—è –±–∞–∑–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
    mocker.patch('myapp.get_basic_info', side_effect=DatabaseError())
    mocker.patch('myapp.get_user_preferences', return_value={"theme": "dark"})
    
    profile = get_user_profile(123)
    
    assert profile["id"] == 123
    assert profile["basic_info"]["name"] == "Unknown"  # Fallback –∑–Ω–∞—á–µ–Ω–∏—è
    assert profile["preferences"]["theme"] == "dark"   # –£—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–µ–Ω–æ
```

### 3. Retry –∏ Circuit Breaker

```python
import time
from functools import wraps

def retry(max_attempts=3, delay=1):
    """–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫."""
    def decorator(func):
        @wraps(func)
        def wrapper(*args, **kwargs):
            last_exception = None
            
            for attempt in range(max_attempts):
                try:
                    return func(*args, **kwargs)
                except (ConnectionError, TimeoutError) as e:
                    last_exception = e
                    if attempt < max_attempts - 1:
                        time.sleep(delay)
                    continue
                except Exception as e:
                    # –ù–µ –ø–æ–≤—Ç–æ—Ä—è–µ–º –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫
                    raise e
            
            raise last_exception
        return wrapper
    return decorator

@retry(max_attempts=3, delay=0.1)
def unreliable_api_call():
    """–ù–µ–Ω–∞–¥–µ–∂–Ω—ã–π API –≤—ã–∑–æ–≤."""
    if random.random() < 0.7:  # 70% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ—à–∏–±–∫–∏
        raise ConnectionError("Network error")
    return {"status": "success"}

def test_retry_mechanism(mocker):
    """–¢–µ—Å—Ç –º–µ—Ö–∞–Ω–∏–∑–º–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫."""
    mock_func = mocker.Mock()
    mock_func.side_effect = [
        ConnectionError("First failure"),
        ConnectionError("Second failure"),
        {"status": "success"}  # –¢—Ä–µ—Ç—å—è –ø–æ–ø—ã—Ç–∫–∞ —É—Å–ø–µ—à–Ω–∞
    ]
    
    # –ü—Ä–∏–º–µ–Ω—è–µ–º –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –∫ mock —Ñ—É–Ω–∫—Ü–∏–∏
    retried_func = retry(max_attempts=3, delay=0)(mock_func)
    
    result = retried_func()
    
    assert result == {"status": "success"}
    assert mock_func.call_count == 3  # –ë—ã–ª–æ 3 –ø–æ–ø—ã—Ç–∫–∏
```

## üî¨ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏

### 1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫

```python
import logging
import pytest

def risky_operation(data):
    """–û–ø–µ—Ä–∞—Ü–∏—è —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –æ—à–∏–±–æ–∫."""
    logger = logging.getLogger(__name__)
    
    try:
        if not data:
            raise ValueError("Data cannot be empty")
        
        result = process_data(data)
        logger.info(f"Successfully processed {len(data)} items")
        return result
        
    except ValueError as e:
        logger.error(f"Validation error: {e}")
        raise
    except Exception as e:
        logger.critical(f"Unexpected error: {e}")
        raise

def test_error_logging(caplog):
    """–¢–µ—Å—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫."""
    with caplog.at_level(logging.ERROR):
        with pytest.raises(ValueError):
            risky_operation(None)
    
    assert "Validation error: Data cannot be empty" in caplog.text
    assert len(caplog.records) == 1
    assert caplog.records[0].levelname == "ERROR"
```

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è

```python
class DatabaseTransaction:
    def __init__(self, db):
        self.db = db
        self.in_transaction = False
    
    def execute(self, operations):
        """–í—ã–ø–æ–ª–Ω—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏."""
        try:
            self.db.begin_transaction()
            self.in_transaction = True
            
            for operation in operations:
                operation.execute(self.db)
            
            self.db.commit()
            self.in_transaction = False
            
        except Exception as e:
            if self.in_transaction:
                self.db.rollback()
                self.in_transaction = False
            raise e

def test_transaction_rollback_on_error(mocker):
    """–¢–µ—Å—Ç –æ—Ç–∫–∞—Ç–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø—Ä–∏ –æ—à–∏–±–∫–µ."""
    mock_db = mocker.Mock()
    failing_operation = mocker.Mock()
    failing_operation.execute.side_effect = RuntimeError("Operation failed")
    
    transaction = DatabaseTransaction(mock_db)
    
    with pytest.raises(RuntimeError):
        transaction.execute([failing_operation])
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –±—ã–ª–∞ –Ω–∞—á–∞—Ç–∞ –∏ –æ—Ç–∫–∞—á–µ–Ω–∞
    mock_db.begin_transaction.assert_called_once()
    mock_db.rollback.assert_called_once()
    mock_db.commit.assert_not_called()
    assert transaction.in_transaction is False
```

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫

```python
import asyncio
import pytest

async def async_operation(url):
    """–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫."""
    try:
        async with aiohttp.ClientSession() as session:
            async with session.get(url) as response:
                if response.status >= 400:
                    raise HTTPError(f"HTTP {response.status}")
                return await response.json()
    except asyncio.TimeoutError:
        raise TimeoutError(f"Timeout while accessing {url}")
    except aiohttp.ClientError as e:
        raise ConnectionError(f"Connection failed: {e}")

@pytest.mark.asyncio
async def test_async_timeout_error(mocker):
    """–¢–µ—Å—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ—à–∏–±–∫–∏ —Ç–∞–π–º–∞—É—Ç–∞."""
    # –ú–æ–∫–∏—Ä—É–µ–º aiohttp –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ —Ç–∞–π–º–∞—É—Ç–∞
    mock_session = mocker.patch('aiohttp.ClientSession')
    mock_session.return_value.__aenter__.return_value.get.side_effect = asyncio.TimeoutError()
    
    with pytest.raises(TimeoutError, match="Timeout while accessing"):
        await async_operation("http://example.com")

@pytest.mark.asyncio
async def test_async_http_error(mocker):
    """–¢–µ—Å—Ç HTTP –æ—à–∏–±–∫–∏ –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏."""
    mock_response = mocker.Mock()
    mock_response.status = 404
    
    mock_session = mocker.patch('aiohttp.ClientSession')
    mock_session.return_value.__aenter__.return_value.get.return_value.__aenter__.return_value = mock_response
    
    with pytest.raises(HTTPError, match="HTTP 404"):
        await async_operation("http://example.com/not-found")
```

## üö® –ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏ –æ—à–∏–±–∫–∏

### ‚ùå –ß—Ç–æ –ù–ï –¥–µ–ª–∞—Ç—å

#### 1. –ü–æ–≥–ª–æ—â–µ–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

```python
# ‚ùå –ü–ª–æ—Ö–æ: –º–æ–ª—á–∞–ª–∏–≤–æ–µ –ø–æ–≥–ª–æ—â–µ–Ω–∏–µ –æ—à–∏–±–æ–∫
def bad_error_handling(data):
    try:
        return process_data(data)
    except:  # –°–ª–∏—à–∫–æ–º —à–∏—Ä–æ–∫–∏–π except
        return None  # –¢–µ—Ä—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ—à–∏–±–∫–µ

# ‚úÖ –•–æ—Ä–æ—à–æ: —è–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
def good_error_handling(data):
    try:
        return process_data(data)
    except ValueError as e:
        logger.warning(f"Invalid data provided: {e}")
        raise
    except ConnectionError as e:
        logger.error(f"Connection failed: {e}")
        raise ServiceUnavailableError("Service temporarily unavailable")
```

#### 2. –ù–µ–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

```python
# ‚ùå –ü–ª–æ—Ö–æ: –Ω–µ–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
def validate_age(age):
    if age < 0:
        raise ValueError("Bad age")  # –ß—Ç–æ –∏–º–µ–Ω–Ω–æ –ø–ª–æ—Ö–æ–≥–æ?

# ‚úÖ –•–æ—Ä–æ—à–æ: –ø–æ–¥—Ä–æ–±–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
def validate_age(age):
    if not isinstance(age, int):
        raise TypeError(f"Age must be an integer, got {type(age).__name__}")
    if age < 0:
        raise ValueError(f"Age cannot be negative, got {age}")
    if age > 150:
        raise ValueError(f"Age cannot exceed 150, got {age}")
```

#### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –ø–æ–∑–∏—Ç–∏–≤–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

```python
# ‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ: —Ç–æ–ª—å–∫–æ –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã
def test_calculator_add():
    assert add(2, 3) == 5

# ‚úÖ –ü–æ–ª–Ω–æ: –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–µ –∏ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã
def test_calculator_add_positive():
    assert add(2, 3) == 5

def test_calculator_add_with_zero():
    assert add(0, 5) == 5
    assert add(5, 0) == 5

def test_calculator_add_negative():
    assert add(-2, 3) == 1
    assert add(2, -3) == -1

def test_calculator_add_invalid_types():
    with pytest.raises(TypeError):
        add("2", 3)
    
    with pytest.raises(TypeError):
        add(2, None)
```

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

### 1. –ü–æ–∫—Ä—ã—Ç–∏–µ –æ—à–∏–±–æ—á–Ω—ã—Ö –ø—É—Ç–µ–π

```python
# –ò—Å–ø–æ–ª—å–∑—É–µ–º coverage.py –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è –ø–æ–∫—Ä—ã—Ç–∏—è
# –ó–∞–ø—É—Å–∫: uv run pytest --cov=myapp --cov-branch --cov-report=html

def calculate_discount(price, discount_percent):
    if price < 0:                    # –û—à–∏–±–æ—á–Ω—ã–π –ø—É—Ç—å 1
        raise ValueError("Price cannot be negative")
    
    if discount_percent < 0:         # –û—à–∏–±–æ—á–Ω—ã–π –ø—É—Ç—å 2
        raise ValueError("Discount cannot be negative")
    
    if discount_percent > 100:       # –û—à–∏–±–æ—á–Ω—ã–π –ø—É—Ç—å 3
        raise ValueError("Discount cannot exceed 100%")
    
    return price * (1 - discount_percent / 100)  # –£—Å–ø–µ—à–Ω—ã–π –ø—É—Ç—å

# –¢–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –ø–æ–∫—Ä—ã—Ç—å –í–°–ï –ø—É—Ç–∏
def test_calculate_discount_coverage():
    # –£—Å–ø–µ—à–Ω—ã–π –ø—É—Ç—å
    assert calculate_discount(100, 10) == 90
    
    # –í—Å–µ –æ—à–∏–±–æ—á–Ω—ã–µ –ø—É—Ç–∏
    with pytest.raises(ValueError, match="Price cannot be negative"):
        calculate_discount(-100, 10)
    
    with pytest.raises(ValueError, match="Discount cannot be negative"):
        calculate_discount(100, -10)
    
    with pytest.raises(ValueError, match="Discount cannot exceed 100%"):
        calculate_discount(100, 110)
```

### 2. –í—Ä–µ–º—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ –æ—à–∏–±–∫–∏

```python
import time

def test_error_recovery_time():
    """–¢–µ—Å—Ç –≤—Ä–µ–º–µ–Ω–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ –æ—à–∏–±–∫–∏."""
    service = ResilientService()
    
    # –ò–º–∏—Ç–∏—Ä—É–µ–º –æ—à–∏–±–∫—É
    start_time = time.time()
    
    try:
        service.failing_operation()
    except ServiceError:
        pass
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –±—ã—Å—Ç—Ä–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
    recovery_time = time.time() - start_time
    assert recovery_time < 1.0  # –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ–Ω–µ–µ —á–µ–º –∑–∞ 1 —Å–µ–∫—É–Ω–¥—É
    
    # –°–µ—Ä–≤–∏—Å –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ—Å–ª–µ –æ—à–∏–±–∫–∏
    result = service.normal_operation()
    assert result is not None
```

## üéØ –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ü–æ–∫—Ä—ã–≤–∞–π—Ç–µ —Ç–µ—Å—Ç–∞–º–∏ –≤—Å–µ –≤–µ—Ç–≤–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫**
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Ç–∏–ø—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–π**
3. **–ü–∏—à–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö**
4. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ—Å–ª–µ –æ—à–∏–±–æ–∫**
5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ pytest.mark.parametrize –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫**
6. **–õ–æ–≥–∏—Ä—É–π—Ç–µ –æ—à–∏–±–∫–∏ —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º —É—Ä–æ–≤–Ω–µ–º –≤–∞–∂–Ω–æ—Å—Ç–∏**
7. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤ docstring**

### üìù –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è code review

- [ ] –í—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ø–æ–∫—Ä—ã—Ç—ã —Ç–µ—Å—Ç–∞–º–∏?
- [ ] –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã?
- [ ] –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Ç–∏–ø—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–π?
- [ ] –°–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –æ—à–∏–±–æ–∫?
- [ ] –û—à–∏–±–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è?
- [ ] –ù–µ—Ç –º–æ–ª—á–∞–ª–∏–≤–æ–≥–æ –ø–æ–≥–ª–æ—â–µ–Ω–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏–π?
- [ ] –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã?

## üîÆ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–í —Å–ª–µ–¥—É—é—â–µ–π –≥–ª–∞–≤–µ –º—ã –∏–∑—É—á–∏–º **–º–µ—Ç—Ä–∏–∫–∏ –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–¥–∞**, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥—É—Ç –∏–∑–º–µ—Ä–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –Ω–∞—à–∏—Ö —Ç–µ—Å—Ç–æ–≤ –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –ø—É—Ç–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–≤–∫–ª—é—á–∞—è –æ—à–∏–±–æ—á–Ω—ã–µ) –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã.

## üß™ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è

<div class="quiz-container" id="error-handling-tdd-quiz">
<script type="application/json">
{
  "title": "–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫",
  "description": "–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–Ω–∞–Ω–∏–µ —Ç–µ—Ö–Ω–∏–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏–π –∏ –æ—à–∏–±–æ–∫",
  "icon": "‚ö†Ô∏è",
  "questions": [
    {
      "question": "–ö–∞–∫–∏–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ—à–∏–±–æ–∫ –Ω—É–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å? (–≤—ã–±–µ—Ä–∏—Ç–µ –≤—Å–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ)",
      "type": "multiple",
      "options": [
        {"text": "–í–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ (–Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)", "correct": true},
        {"text": "–°–∏—Å—Ç–µ–º–Ω—ã–µ –æ—à–∏–±–∫–∏ (–Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ä–µ—Å—É—Ä—Å–æ–≤)", "correct": true},
        {"text": "–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ (–Ω–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª)", "correct": true},
        {"text": "–ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ (–Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏)", "correct": true},
        {"text": "–°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ Python", "correct": false}
      ],
      "explanation": "–í TDD —Ç–µ—Å—Ç–∏—Ä—É—é—Ç—Å—è: –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω—ã–µ, —Å–∏—Å—Ç–µ–º–Ω—ã–µ, –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∏ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏. –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—é—Ç—Å—è –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏.",
      "points": 2
    },
    {
      "question": "–ö–∞–∫–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ?",
      "type": "single",
      "options": [
        {"text": "Graceful Degradation", "correct": false},
        {"text": "Fail Fast", "correct": true},
        {"text": "Error Recovery", "correct": false},
        {"text": "Silent Failure", "correct": false}
      ],
      "explanation": "Fail Fast - —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –æ—à–∏–±–∫–∏, —á—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –±—ã—Å—Ç—Ä–æ –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É.",
      "points": 1
    },
    {
      "question": "–ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è?",
      "type": "single",
      "options": [
        {"text": "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ try/except –±–ª–æ–∫–∏", "correct": false},
        {"text": "pytest.raises + @pytest.mark.asyncio", "correct": true},
        {"text": "–¢–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ unittest.TestCase", "correct": false},
        {"text": "–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –Ω–µ–ª—å–∑—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å", "correct": false}
      ],
      "explanation": "–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è pytest.raises –≤ —Å–æ—á–µ—Ç–∞–Ω–∏–∏ —Å @pytest.mark.asyncio –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è async/await –∫–æ–¥–∞.",
      "points": 1
    },
    {
      "question": "–ß—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è?",
      "type": "multiple",
      "options": [
        {"text": "–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–∫–∞—Ç–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π", "correct": true},
        {"text": "–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ (—Ñ–∞–π–ª—ã, —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è)", "correct": true},
        {"text": "–û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö", "correct": true},
        {"text": "–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤", "correct": true},
        {"text": "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫", "correct": false}
      ],
      "explanation": "–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –≤–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –æ—Ç–∫–∞—Ç–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤, –æ—á–∏—Å—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ - –æ—Ç–¥–µ–ª—å–Ω–∞—è —Ç–µ–º–∞.",
      "points": 2
    },
    {
      "question": "–ö–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –ª—É—á—à–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π?",
      "type": "single",
      "options": [
        {"text": "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è Python", "correct": false},
        {"text": "–°–æ–∑–¥–∞—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—é —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π –¥–ª—è –¥–æ–º–µ–Ω–∞", "correct": true},
        {"text": "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ Exception", "correct": false},
        {"text": "–°–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏", "correct": false}
      ],
      "explanation": "–õ—É—á—à–∏–π –ø–æ–¥—Ö–æ–¥ - —Å–æ–∑–¥–∞—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—é –¥–æ–º–µ–Ω–Ω–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è –æ—Ç –±–∞–∑–æ–≤—ã—Ö –∏ –Ω–µ—Å—É—Ç —Å–º—ã—Å–ª–æ–≤—É—é –Ω–∞–≥—Ä—É–∑–∫—É –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏.",
      "points": 1
    },
    {
      "question": "–ß—Ç–æ –ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—à–∏–±–æ–∫ –≤ —Ç–µ—Å—Ç–∞—Ö?",
      "type": "single",
      "options": [
        {"text": "–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö", "correct": false},
        {"text": "–ü—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–∏–ø—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–π", "correct": false},
        {"text": "–ú–æ–ª—á–∞–ª–∏–≤–æ –ø–æ–≥–ª–æ—â–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è (except: pass)", "correct": true},
        {"text": "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å pytest.raises", "correct": false}
      ],
      "explanation": "–ú–æ–ª—á–∞–ª–∏–≤–æ–µ –ø–æ–≥–ª–æ—â–µ–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π (bare except: pass) —è–≤–ª—è–µ—Ç—Å—è –∞–Ω—Ç–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–º, —Ç–∞–∫ –∫–∞–∫ —Å–∫—Ä—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –¥–µ–ª–∞–µ—Ç –æ—Ç–ª–∞–¥–∫—É –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ–π.",
      "points": 1
    }
  ]
}
</script>
</div>

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ–º—ã

- **[–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã](07_practical_examples.md)** - –ø—Ä–∏–º–µ—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- **[Mock –æ–±—ä–µ–∫—Ç—ã](08_mocking.md)** - –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- **[CI/CD –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è](14_ci_cd_automation.md)** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ CI/CD
- **[–ú–µ—Ç—Ä–∏–∫–∏ –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–¥–∞](16_code_coverage_metrics.md)** - –ø–æ–∫—Ä—ã—Ç–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- **[–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ä–∞–±–æ—Ç—ã —Å Legacy Code](17_legacy_code_strategies.md)** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ legacy –∫–æ–¥–µ
- **[–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏](12_best_practices.md)** - –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

**–ü—Ä–µ–¥—ã–¥—É—â–∞—è –≥–ª–∞–≤–∞:** [CI/CD –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è](14_ci_cd_automation.md)  
**–°–ª–µ–¥—É—é—â–∞—è –≥–ª–∞–≤–∞:** [–ú–µ—Ç—Ä–∏–∫–∏ –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–¥–∞](16_code_coverage_metrics.md)

*‚ö†Ô∏è –ü–æ–º–Ω–∏—Ç–µ: –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ ‚Äî —ç—Ç–æ –Ω–µ —Ç–æ–ª—å–∫–æ –ø—Ä–æ –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –Ω–æ –∏ –ø—Ä–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç!*
