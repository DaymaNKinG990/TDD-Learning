# üîß –£—Ä–æ–∫ 9: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏ - —É–ª—É—á—à–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞

## üéØ –¶–µ–ª–∏ —É—Ä–æ–∫–∞

–ü–æ—Å–ª–µ –∏–∑—É—á–µ–Ω–∏—è —ç—Ç–æ–≥–æ —É—Ä–æ–∫–∞ –≤—ã —Å–º–æ–∂–µ—Ç–µ:
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª—è—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –∫–æ–¥–µ, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ—à–∞—é—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø–æ—ç—Ç–∞–ø–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ –≤–Ω–µ–¥—Ä—è—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤ legacy –∫–æ–¥
- ‚úÖ –ò–∑–º–µ—Ä—è—Ç—å —É–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞ –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

## üîç –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–∞–∫ –ø—Ä–æ—Ü–µ—Å—Å —É–ª—É—á—à–µ–Ω–∏—è

–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ - —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–æ–¥–∞ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –µ–≥–æ –≤–Ω–µ—à–Ω–µ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è. –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è - –æ—Ç–ª–∏—á–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–ª—É—á—à–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

### üí° –ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏

**–ê–Ω–∞–ª–æ–≥–∏—è**: –†–µ–º–æ–Ω—Ç —Å—Ç–∞—Ä–æ–≥–æ –¥–æ–º–∞
- –°—Ç–∞—Ä—ã–π –¥–æ–º (legacy –∫–æ–¥) —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω–µ—É–¥–æ–±–µ–Ω
- –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ = —É–ª—É—á—à–µ–Ω–∏–µ –±–µ–∑ —Å–Ω–æ—Å–∞
- –ü–∞—Ç—Ç–µ—Ä–Ω—ã = —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

**–í –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏:**
- –£–ª—É—á—à–∞–µ–º –∫–æ–¥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- –ü—Ä–∏–º–µ–Ω—è–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º
- –î–µ–ª–∞–µ–º –∫–æ–¥ –±–æ–ª–µ–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–º

### üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

```mermaid
graph LR
    A[–ü—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–¥] --> B{–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º}
    B --> C[–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ]
    B --> D[–ñ–µ—Å—Ç–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏]
    B --> E[–î–ª–∏–Ω–Ω—ã–µ if-elif]
    
    C --> F[Factory<br/>Template Method]
    D --> G[Dependency Injection<br/>Abstract Factory]
    E --> H[Strategy<br/>State]
    
    F --> I[–£–ª—É—á—à–µ–Ω–Ω—ã–π –∫–æ–¥]
    G --> I
    H --> I
    
    style A fill:#ff6b6b
    style I fill:#51cf66
```

### üö© –ü—Ä–∏–∑–Ω–∞–∫–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

1. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞** ‚Üí Factory, Template Method
2. **–î–ª–∏–Ω–Ω—ã–µ —É—Å–ª–æ–≤–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏** ‚Üí Strategy, State
3. **–ñ–µ—Å—Ç–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** ‚Üí Dependency Injection, Abstract Factory
4. **–°–ª–æ–∂–Ω—ã–µ –∫–ª–∞—Å—Å—ã —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π** ‚Üí Single Responsibility + –ø–∞—Ç—Ç–µ—Ä–Ω—ã
5. **–¢—Ä—É–¥–Ω–æ—Å—Ç–∏ –≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏** ‚Üí Dependency Injection, Mock Object

---

## üè• –ü—Ä–∏–º–µ—Ä 1: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –î–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞: –ü—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–¥
```python
class NotificationService:
    def __init__(self):
        # ‚ùå –ñ–µ—Å—Ç–∫–æ –∑–∞—à–∏—Ç—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
        self.email_server = "smtp.gmail.com"
        self.sms_api_key = "abc123"
        self.push_service_url = "https://push-api.com"
        
    def send_notification(self, user_id: int, message: str, notification_type: str):
        # ‚ùå –ù–∞—Ä—É—à–µ–Ω–∏–µ Open/Closed Principle
        # ‚ùå –î–ª–∏–Ω–Ω–∞—è —É—Å–ª–æ–≤–Ω–∞—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
        if notification_type == "email":
            # ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤
            print(f"Connecting to {self.email_server}")
            print(f"Sending email to user {user_id}: {message}")
            print("Email sent successfully")
            
            # ‚ùå –ñ–µ—Å—Ç–∫–æ –∑–∞—à–∏—Ç–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
            with open("email_log.txt", "a") as f:
                f.write(f"Email sent to {user_id} at {time.time()}\\n")
                
        elif notification_type == "sms":
            print(f"Using SMS API key: {self.sms_api_key}")
            print(f"Sending SMS to user {user_id}: {message}")
            print("SMS sent successfully")
            
            with open("sms_log.txt", "a") as f:
                f.write(f"SMS sent to {user_id} at {time.time()}\\n")
                
        elif notification_type == "push":
            print(f"Connecting to {self.push_service_url}")
            print(f"Sending push to user {user_id}: {message}")
            print("Push notification sent successfully")
            
            with open("push_log.txt", "a") as f:
                f.write(f"Push sent to {user_id} at {time.time()}\\n")
        else:
            # ‚ùå –ú–æ–ª—á–∞–ª–∏–≤–∞—è –æ—à–∏–±–∫–∞
            pass
    
    def send_bulk_notifications(self, user_ids: List[int], message: str, notification_type: str):
        # ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏
        for user_id in user_ids:
            self.send_notification(user_id, message, notification_type)
    
    def send_priority_notification(self, user_id: int, message: str):
        # ‚ùå –•–∞—Ä–¥–∫–æ–¥ –ª–æ–≥–∏–∫–∏ –¥–ª—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∏ email, –∏ SMS, –∏ push
        self.send_notification(user_id, message, "email")
        self.send_notification(user_id, message, "sms")
        self.send_notification(user_id, message, "push")

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º–Ω–æ–≥–æ –∫–æ–¥–∞
service = NotificationService()
service.send_notification(123, "Hello!", "email")
service.send_priority_notification(456, "Urgent!")
```

### –ü—Ä–æ–±–ª–µ–º—ã –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞:
1. **–ù–∞—Ä—É—à–µ–Ω–∏–µ SRP** - –∫–ª–∞—Å—Å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ—Ç–ø—Ä–∞–≤–∫—É, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
2. **–ù–∞—Ä—É—à–µ–Ω–∏–µ OCP** - –Ω–µ–ª—å–∑—è –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–∏–ø –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞
3. **–ñ–µ—Å—Ç–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** - —Å–ª–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
4. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞** - –ª–æ–≥–∏–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è
5. **–ù–∏–∑–∫–∞—è –≥–∏–±–∫–æ—Å—Ç—å** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞—à–∏—Ç—ã –≤ –∫–æ–¥–µ

---

### –ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞: –° –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

#### –®–∞–≥ 1: Strategy –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
```python
from abc import ABC, abstractmethod
from typing import List, Dict, Optional
import time
from datetime import datetime

# === STRATEGY PATTERN ===
class NotificationChannel(ABC):
    @abstractmethod
    def send(self, user_id: int, message: str) -> bool:
        """–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç True –ø—Ä–∏ —É—Å–ø–µ—Ö–µ."""
        pass
    
    @abstractmethod
    def get_channel_name(self) -> str:
        """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞."""
        pass

class EmailChannel(NotificationChannel):
    def __init__(self, smtp_server: str):
        self.smtp_server = smtp_server
    
    def send(self, user_id: int, message: str) -> bool:
        print(f"üìß Connecting to {self.smtp_server}")
        print(f"üìß Sending email to user {user_id}: {message}")
        # –ó–¥–µ—Å—å –±—ã–ª–∞ –±—ã —Ä–µ–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ email
        return True
    
    def get_channel_name(self) -> str:
        return "email"

class SMSChannel(NotificationChannel):
    def __init__(self, api_key: str):
        self.api_key = api_key
    
    def send(self, user_id: int, message: str) -> bool:
        print(f"üì± Using SMS API key: {self.api_key[:6]}...")
        print(f"üì± Sending SMS to user {user_id}: {message}")
        # –ó–¥–µ—Å—å –±—ã–ª–∞ –±—ã —Ä–µ–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ SMS
        return True
    
    def get_channel_name(self) -> str:
        return "sms"

class PushChannel(NotificationChannel):
    def __init__(self, service_url: str):
        self.service_url = service_url
    
    def send(self, user_id: int, message: str) -> bool:
        print(f"üîî Connecting to {self.service_url}")
        print(f"üîî Sending push to user {user_id}: {message}")
        # –ó–¥–µ—Å—å –±—ã–ª–∞ –±—ã —Ä–µ–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ push
        return True
    
    def get_channel_name(self) -> str:
        return "push"
```

#### –®–∞–≥ 2: Observer –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
```python
# === OBSERVER PATTERN ===
class NotificationObserver(ABC):
    @abstractmethod
    def on_notification_sent(self, user_id: int, message: str, channel: str, success: bool):
        pass

class FileLogger(NotificationObserver):
    def __init__(self, log_directory: str):
        self.log_directory = log_directory
        import os
        os.makedirs(log_directory, exist_ok=True)
    
    def on_notification_sent(self, user_id: int, message: str, channel: str, success: bool):
        status = "SUCCESS" if success else "FAILED"
        timestamp = datetime.now().isoformat()
        log_entry = f"[{timestamp}] {channel.upper()}: {status} - User {user_id} - {message}\\n"
        
        log_file = f"{self.log_directory}/{channel}_log.txt"
        with open(log_file, "a", encoding="utf-8") as f:
            f.write(log_entry)

class MetricsCollector(NotificationObserver):
    def __init__(self):
        self.stats = {}
    
    def on_notification_sent(self, user_id: int, message: str, channel: str, success: bool):
        if channel not in self.stats:
            self.stats[channel] = {"sent": 0, "failed": 0}
        
        if success:
            self.stats[channel]["sent"] += 1
        else:
            self.stats[channel]["failed"] += 1
        
        print(f"üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ {channel}: {self.stats[channel]}")
    
    def get_stats(self) -> Dict:
        return self.stats.copy()

class DatabaseLogger(NotificationObserver):
    def on_notification_sent(self, user_id: int, message: str, channel: str, success: bool):
        # –ó–¥–µ—Å—å –±—ã–ª–∞ –±—ã –∑–∞–ø–∏—Å—å –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
        print(f"üíæ DB: –ó–∞–ø–∏—Å—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ {channel} –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {user_id}")
```

#### –®–∞–≥ 3: Command –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
```python
# === COMMAND PATTERN ===
class NotificationCommand(ABC):
    @abstractmethod
    def execute(self) -> bool:
        pass
    
    @abstractmethod
    def undo(self) -> bool:
        """–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–º–µ–Ω–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ç–∏–ø–æ–≤)"""
        pass
    
    @abstractmethod
    def get_description(self) -> str:
        pass

class SingleNotificationCommand(NotificationCommand):
    def __init__(self, service: 'NotificationService', user_id: int, 
                 message: str, channel: NotificationChannel):
        self.service = service
        self.user_id = user_id
        self.message = message
        self.channel = channel
        self.executed = False
    
    def execute(self) -> bool:
        if not self.executed:
            success = self.service._send_via_channel(self.user_id, self.message, self.channel)
            self.executed = success
            return success
        return True
    
    def undo(self) -> bool:
        if self.executed:
            print(f"‚è™ –û—Ç–º–µ–Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {self.user_id} —á–µ—Ä–µ–∑ {self.channel.get_channel_name()}")
            # –ó–¥–µ—Å—å –±—ã–ª–∞ –±—ã –ª–æ–≥–∏–∫–∞ –æ—Ç–º–µ–Ω—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç–∑—ã–≤ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
            self.executed = False
            return True
        return False
    
    def get_description(self) -> str:
        return f"–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –¥–ª—è {self.user_id} —á–µ—Ä–µ–∑ {self.channel.get_channel_name()}"

class BulkNotificationCommand(NotificationCommand):
    def __init__(self, service: 'NotificationService', user_ids: List[int], 
                 message: str, channel: NotificationChannel):
        self.service = service
        self.user_ids = user_ids
        self.message = message
        self.channel = channel
        self.executed_users = []
    
    def execute(self) -> bool:
        success_count = 0
        for user_id in self.user_ids:
            if self.service._send_via_channel(user_id, self.message, self.channel):
                self.executed_users.append(user_id)
                success_count += 1
        
        return success_count == len(self.user_ids)
    
    def undo(self) -> bool:
        for user_id in self.executed_users:
            print(f"‚è™ –û—Ç–º–µ–Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {user_id}")
        self.executed_users.clear()
        return True
    
    def get_description(self) -> str:
        return f"–ú–∞—Å—Å–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –¥–ª—è {len(self.user_ids)} –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ {self.channel.get_channel_name()}"

class PriorityNotificationCommand(NotificationCommand):
    def __init__(self, service: 'NotificationService', user_id: int, 
                 message: str, channels: List[NotificationChannel]):
        self.service = service
        self.user_id = user_id
        self.message = message
        self.channels = channels
        self.executed_channels = []
    
    def execute(self) -> bool:
        success_count = 0
        for channel in self.channels:
            if self.service._send_via_channel(self.user_id, self.message, channel):
                self.executed_channels.append(channel)
                success_count += 1
        
        return success_count > 0  # –•–æ—Ç—è –±—ã –æ–¥–∏–Ω –∫–∞–Ω–∞–ª –¥–æ–ª–∂–µ–Ω —Å—Ä–∞–±–æ—Ç–∞—Ç—å
    
    def undo(self) -> bool:
        for channel in self.executed_channels:
            print(f"‚è™ –û—Ç–º–µ–Ω–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ {channel.get_channel_name()}")
        self.executed_channels.clear()
        return True
    
    def get_description(self) -> str:
        channel_names = [ch.get_channel_name() for ch in self.channels]
        return f"–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –¥–ª—è {self.user_id} —á–µ—Ä–µ–∑ {', '.join(channel_names)}"
```

#### –®–∞–≥ 4: Factory –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞–Ω–∞–ª–æ–≤
```python
# === FACTORY PATTERN ===
class ChannelFactory:
    @staticmethod
    def create_email_channel(smtp_server: str = "smtp.gmail.com") -> EmailChannel:
        return EmailChannel(smtp_server)
    
    @staticmethod
    def create_sms_channel(api_key: str) -> SMSChannel:
        return SMSChannel(api_key)
    
    @staticmethod
    def create_push_channel(service_url: str = "https://push-api.com") -> PushChannel:
        return PushChannel(service_url)
    
    @staticmethod
    def create_channel(channel_type: str, **kwargs) -> NotificationChannel:
        """–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞–Ω–∞–ª–æ–≤"""
        channel_map = {
            "email": lambda: ChannelFactory.create_email_channel(
                kwargs.get("smtp_server", "smtp.gmail.com")
            ),
            "sms": lambda: ChannelFactory.create_sms_channel(
                kwargs.get("api_key", "default_key")
            ),
            "push": lambda: ChannelFactory.create_push_channel(
                kwargs.get("service_url", "https://push-api.com")
            )
        }
        
        if channel_type not in channel_map:
            raise ValueError(f"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ç–∏–ø –∫–∞–Ω–∞–ª–∞: {channel_type}")
        
        return channel_map[channel_type]()
```

#### –®–∞–≥ 5: Refactored NotificationService
```python
# === –ì–õ–ê–í–ù–´–ô –°–ï–†–í–ò–° (–ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞) ===
class NotificationService:
    def __init__(self):
        self.channels: Dict[str, NotificationChannel] = {}
        self.observers: List[NotificationObserver] = []
        self.command_history: List[NotificationCommand] = []
    
    def register_channel(self, channel: NotificationChannel):
        """–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–∞–Ω–∞–ª–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π"""
        self.channels[channel.get_channel_name()] = channel
        print(f"‚úÖ –ö–∞–Ω–∞–ª {channel.get_channel_name()} –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω")
    
    def add_observer(self, observer: NotificationObserver):
        """–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è"""
        self.observers.append(observer)
    
    def remove_observer(self, observer: NotificationObserver):
        """–£–¥–∞–ª–µ–Ω–∏–µ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è"""
        if observer in self.observers:
            self.observers.remove(observer)
    
    def _notify_observers(self, user_id: int, message: str, channel: str, success: bool):
        """–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π"""
        for observer in self.observers:
            try:
                observer.on_notification_sent(user_id, message, channel, success)
            except Exception as e:
                print(f"‚ö†Ô∏è –û—à–∏–±–∫–∞ –≤ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ: {e}")
    
    def _send_via_channel(self, user_id: int, message: str, channel: NotificationChannel) -> bool:
        """–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –º–µ—Ç–æ–¥ –æ—Ç–ø—Ä–∞–≤–∫–∏ —á–µ—Ä–µ–∑ –∫–∞–Ω–∞–ª"""
        try:
            success = channel.send(user_id, message)
            self._notify_observers(user_id, message, channel.get_channel_name(), success)
            return success
        except Exception as e:
            print(f"‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —á–µ—Ä–µ–∑ {channel.get_channel_name()}: {e}")
            self._notify_observers(user_id, message, channel.get_channel_name(), False)
            return False
    
    def execute_command(self, command: NotificationCommand) -> bool:
        """–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"""
        print(f"üöÄ –í—ã–ø–æ–ª–Ω—è–µ–º: {command.get_description()}")
        success = command.execute()
        self.command_history.append(command)
        
        if success:
            print(f"‚úÖ –ö–æ–º–∞–Ω–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ")
        else:
            print(f"‚ùå –ö–æ–º–∞–Ω–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —Å –æ—à–∏–±–∫–∞–º–∏")
        
        return success
    
    def undo_last_command(self) -> bool:
        """–û—Ç–º–µ–Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∫–æ–º–∞–Ω–¥—ã"""
        if self.command_history:
            command = self.command_history.pop()
            return command.undo()
        return False
    
    def send_notification(self, user_id: int, message: str, channel_name: str) -> bool:
        """–ü—Ä–æ—Å—Ç–æ–π –º–µ—Ç–æ–¥ –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"""
        if channel_name not in self.channels:
            print(f"‚ùå –ö–∞–Ω–∞–ª {channel_name} –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω")
            return False
        
        channel = self.channels[channel_name]
        command = SingleNotificationCommand(self, user_id, message, channel)
        return self.execute_command(command)
    
    def send_bulk_notifications(self, user_ids: List[int], message: str, channel_name: str) -> bool:
        """–ú–∞—Å—Å–æ–≤–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π"""
        if channel_name not in self.channels:
            print(f"‚ùå –ö–∞–Ω–∞–ª {channel_name} –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω")
            return False
        
        channel = self.channels[channel_name]
        command = BulkNotificationCommand(self, user_ids, message, channel)
        return self.execute_command(command)
    
    def send_priority_notification(self, user_id: int, message: str, 
                                 channel_names: List[str] = None) -> bool:
        """–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞–Ω–∞–ª–æ–≤"""
        if channel_names is None:
            channel_names = list(self.channels.keys())  # –í—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–∞–Ω–∞–ª—ã
        
        channels = []
        for name in channel_names:
            if name in self.channels:
                channels.append(self.channels[name])
            else:
                print(f"‚ö†Ô∏è –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –Ω–µ–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–∞–Ω–∞–ª: {name}")
        
        if not channels:
            print("‚ùå –ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤ –¥–ª—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è")
            return False
        
        command = PriorityNotificationCommand(self, user_id, message, channels)
        return self.execute_command(command)
    
    def get_available_channels(self) -> List[str]:
        """–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤"""
        return list(self.channels.keys())
    
    def get_command_history(self) -> List[str]:
        """–ò—Å—Ç–æ—Ä–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥"""
        return [cmd.get_description() for cmd in self.command_history]

# === –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –ò –ù–ê–°–¢–†–û–ô–ö–ê ===
class NotificationServiceBuilder:
    """Builder –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–∏—Å–∞"""
    
    def __init__(self):
        self.service = NotificationService()
    
    def with_email_channel(self, smtp_server: str = "smtp.gmail.com"):
        """Registers an email notification channel with the specified SMTP server.
        
        Returns self for chaining.
        """
        channel = ChannelFactory.create_email_channel(smtp_server)
        self.service.register_channel(channel)
        return self
    
    def with_sms_channel(self, api_key: str):
        """Registers an SMS notification channel with the provided API key.
        
        Returns self for chaining.
        """
        channel = ChannelFactory.create_sms_channel(api_key)
        self.service.register_channel(channel)
        return self
    
    def with_push_channel(self, service_url: str = "https://push-api.com"):
        """Registers a push notification channel with the specified service URL.
        
        Returns self for chaining.
        """
        channel = ChannelFactory.create_push_channel(service_url)
        self.service.register_channel(channel)
        return self
    
    def with_file_logging(self, log_directory: str = "./logs"):
        """Configures file-based logging to the specified directory.
        
        Returns self for chaining.
        """
        logger = FileLogger(log_directory)
        self.service.add_observer(logger)
        return self
    
    def with_metrics_collection(self):
        """Configures metrics collection for the notification service.
        
        Returns self for chaining.
        """
        collector = MetricsCollector()
        self.service.add_observer(collector)
        return self
    
    def with_database_logging(self):
        """Configures database logging for the notification service.
        
        Returns self for chaining.
        """
        db_logger = DatabaseLogger()
        self.service.add_observer(db_logger)
        return self
    
    def build(self) -> NotificationService:
        """Returns the configured NotificationService instance.
        
        Returns:
            The fully configured NotificationService ready for use.
        """
        return self.service
```

### –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞
```python
def main():
    print("üîß === –†–ï–§–ê–ö–¢–û–†–ò–ù–ì –°–ò–°–¢–ï–ú–´ –£–í–ï–î–û–ú–õ–ï–ù–ò–ô ===\\n")
    
    # –°–æ–∑–¥–∞–µ–º —Å–µ—Ä–≤–∏—Å —Å –ø–æ–º–æ—â—å—é Builder
    service = (NotificationServiceBuilder()
               .with_email_channel("smtp.custom.com")
               .with_sms_channel("secret_api_key_123")
               .with_push_channel("https://custom-push.com")
               .with_file_logging("./notification_logs")
               .with_metrics_collection()
               .build())
    
    print("=== –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–∞–Ω–∞–ª—ã ===")
    for channel in service.get_available_channels():
        print(f"üì¢ {channel}")
    
    print("\\n=== –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π ===")
    
    # –ü—Ä–æ—Å—Ç–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
    service.send_notification(123, "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!", "email")
    
    # –ú–∞—Å—Å–æ–≤–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞
    service.send_bulk_notifications([100, 101, 102], "–ù–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ!", "push")
    
    # –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
    service.send_priority_notification(456, "–°–†–û–ß–ù–û: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–∫–∫–∞—É–Ω—Ç!", ["email", "sms"])
    
    print("\\n=== –ò—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥ ===")
    for i, command in enumerate(service.get_command_history(), 1):
        print(f"{i}. {command}")
    
    print("\\n=== –û—Ç–º–µ–Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∫–æ–º–∞–Ω–¥—ã ===")
    service.undo_last_command()
    
    print("\\n‚úÖ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ!")
    print("\\nüéâ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ –∫–æ–¥–∞:")
    print("‚Ä¢ –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∫–∞–Ω–∞–ª—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π")
    print("‚Ä¢ –ì–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞") 
    print("‚Ä¢ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–º–µ–Ω—ã –æ–ø–µ—Ä–∞—Ü–∏–π")
    print("‚Ä¢ –ü—Ä–æ—Å—Ç–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤")
    print("‚Ä¢ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Builder –ø–∞—Ç—Ç–µ—Ä–Ω")

if __name__ == "__main__":
    main()
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:

#### ‚úÖ **–ß—Ç–æ —É–ª—É—á—à–∏–ª–æ—Å—å:**
1. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∫–∞–Ω–∞–ª—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–¥–∞
2. **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** - –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ
3. **–ì–∏–±–∫–æ—Å—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ Builder
4. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π** - –∫–∞–∂–¥—ã–π –∫–ª–∞—Å—Å —Ä–µ—à–∞–µ—Ç —Å–≤–æ—é –∑–∞–¥–∞—á—É
5. **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–º–µ–Ω—ã –æ–ø–µ—Ä–∞—Ü–∏–π** - —á–µ—Ä–µ–∑ Command –ø–∞—Ç—Ç–µ—Ä–Ω
6. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - —á–µ—Ä–µ–∑ Observer –ø–∞—Ç—Ç–µ—Ä–Ω

#### üìä **–ú–µ—Ç—Ä–∏–∫–∏ —É–ª—É—á—à–µ–Ω–∏—è:**
- **–¶–∏–∫–ª–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: 15 ‚Üí 3 (–≤ —Å—Ä–µ–¥–Ω–µ–º –Ω–∞ –º–µ—Ç–æ–¥)
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –≤ –æ–¥–Ω–æ–º –º–µ—Ç–æ–¥–µ**: 25 ‚Üí 8 (–≤ —Å—Ä–µ–¥–Ω–µ–º)
- **–°–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å**: –í—ã—Å–æ–∫–∞—è ‚Üí –°–ª–∞–±–∞—è
- **–ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏**: 30% ‚Üí 85%

---

## üè≠ –ü—Ä–∏–º–µ—Ä 2: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã –æ—Ç—á–µ—Ç–æ–≤

### –î–æ: –ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –æ—Ç—á–µ—Ç–æ–≤
```python
class ReportGenerator:
    def generate_report(self, data: List[Dict], report_type: str, format: str) -> str:
        # ‚ùå –û–≥—Ä–æ–º–Ω—ã–π –º–µ—Ç–æ–¥ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—è–º–∏
        result = ""
        
        if format == "html":
            result += "<html><body>"
        elif format == "pdf":
            result += "PDF_HEADER"
        elif format == "csv":
            pass
        else:
            raise ValueError("Unknown format")
        
        if report_type == "sales":
            # ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏
            total_sales = 0
            sales_by_month = {}
            for item in data:
                if item.get('type') == 'sale':
                    total_sales += item.get('amount', 0)
                    month = item.get('date', '')[:7]  # YYYY-MM
                    if month not in sales_by_month:
                        sales_by_month[month] = 0
                    sales_by_month[month] += item.get('amount', 0)
            
            if format == "html":
                result += f"<h1>Sales Report</h1>"
                result += f"<p>Total: {total_sales}</p>"
                result += "<table>"
                for month, amount in sales_by_month.items():
                    result += f"<tr><td>{month}</td><td>{amount}</td></tr>"
                result += "</table>"
            elif format == "pdf":
                result += f"SALES_REPORT\\nTotal: {total_sales}\\n"
                for month, amount in sales_by_month.items():
                    result += f"{month}: {amount}\\n"
            elif format == "csv":
                result += "Month,Amount\\n"
                for month, amount in sales_by_month.items():
                    result += f"{month},{amount}\\n"
        
        elif report_type == "users":
            # ‚ùå –ï—â–µ –±–æ–ª—å—à–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏
            total_users = len([item for item in data if item.get('type') == 'user'])
            active_users = len([item for item in data if item.get('type') == 'user' and item.get('active')])
            
            if format == "html":
                result += f"<h1>User Report</h1>"
                result += f"<p>Total Users: {total_users}</p>"
                result += f"<p>Active Users: {active_users}</p>"
            # ... –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –±–ª–æ–∫–∏ –¥–ª—è pdf –∏ csv
        
        # ‚ùå –ï—â–µ –º–Ω–æ–≥–æ —É—Å–ª–æ–≤–∏–π –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ –æ—Ç—á–µ—Ç–æ–≤...
        
        if format == "html":
            result += "</body></html>"
        elif format == "pdf":
            result += "PDF_FOOTER"
        
        return result

# ‚ùå –ü—Ä–æ–±–ª–µ–º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
generator = ReportGenerator()
sales_html = generator.generate_report(data, "sales", "html")
user_pdf = generator.generate_report(data, "users", "pdf")
```

### –ü–æ—Å–ª–µ: –° –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

#### Strategy + Template Method + Abstract Factory
```python
from abc import ABC, abstractmethod
from typing import Dict, List, Any
from datetime import datetime

# === DATA PROCESSING STRATEGIES ===
class DataProcessor(ABC):
    @abstractmethod
    def process(self, data: List[Dict]) -> Dict[str, Any]:
        """–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç—á–µ—Ç–∞"""
        pass
    
    @abstractmethod
    def get_report_title(self) -> str:
        pass

class SalesDataProcessor(DataProcessor):
    def process(self, data: List[Dict]) -> Dict[str, Any]:
        sales_data = [item for item in data if item.get('type') == 'sale']
        
        total_sales = sum(item.get('amount', 0) for item in sales_data)
        
        sales_by_month = {}
        for item in sales_data:
            month = item.get('date', '')[:7]  # YYYY-MM
            sales_by_month[month] = sales_by_month.get(month, 0) + item.get('amount', 0)
        
        return {
            'total_sales': total_sales,
            'sales_by_month': sales_by_month,
            'period': f"{min(sales_by_month.keys())} - {max(sales_by_month.keys())}" if sales_by_month else "N/A"
        }
    
    def get_report_title(self) -> str:
        return "Sales Report"

class UserDataProcessor(DataProcessor):
    def process(self, data: List[Dict]) -> Dict[str, Any]:
        users_data = [item for item in data if item.get('type') == 'user']
        
        total_users = len(users_data)
        active_users = len([user for user in users_data if user.get('active')])
        
        # –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
        registrations_by_month = {}
        for user in users_data:
            month = user.get('registration_date', '')[:7]
            registrations_by_month[month] = registrations_by_month.get(month, 0) + 1
        
        return {
            'total_users': total_users,
            'active_users': active_users,
            'inactive_users': total_users - active_users,
            'registrations_by_month': registrations_by_month,
            'activity_rate': round(active_users / total_users * 100, 2) if total_users > 0 else 0
        }
    
    def get_report_title(self) -> str:
        return "User Statistics Report"

class InventoryDataProcessor(DataProcessor):
    def process(self, data: List[Dict]) -> Dict[str, Any]:
        inventory_data = [item for item in data if item.get('type') == 'product']
        
        total_products = len(inventory_data)
        low_stock_products = [p for p in inventory_data if p.get('stock', 0) < p.get('min_stock', 10)]
        out_of_stock = [p for p in inventory_data if p.get('stock', 0) == 0]
        
        categories = {}
        for product in inventory_data:
            category = product.get('category', 'Unknown')
            categories[category] = categories.get(category, 0) + 1
        
        return {
            'total_products': total_products,
            'low_stock_count': len(low_stock_products),
            'out_of_stock_count': len(out_of_stock),
            'low_stock_products': low_stock_products,
            'categories': categories
        }
    
    def get_report_title(self) -> str:
        return "Inventory Report"

# === REPORT FORMATTERS (STRATEGY) ===
class ReportFormatter(ABC):
    @abstractmethod
    def format_report(self, title: str, processed_data: Dict[str, Any]) -> str:
        """–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç"""
        pass
    
    @abstractmethod
    def get_file_extension(self) -> str:
        pass

class HTMLFormatter(ReportFormatter):
    def format_report(self, title: str, processed_data: Dict[str, Any]) -> str:
        html = f"""
        <!DOCTYPE html>
        <html>
        <head>
            <title>{title}</title>
            <style>
                body {{ font-family: Arial, sans-serif; margin: 20px; }}
                table {{ border-collapse: collapse; width: 100%; }}
                th, td {{ border: 1px solid #ddd; padding: 8px; text-align: left; }}
                th {{ background-color: #f2f2f2; }}
                .metric {{ margin: 10px 0; padding: 10px; background: #f9f9f9; border-left: 4px solid #007cba; }}
            </style>
        </head>
        <body>
            <h1>{title}</h1>
            <p><strong>Generated:</strong> {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}</p>
        """
        
        # –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –æ—Ç—á–µ—Ç–∞
        if 'total_sales' in processed_data:
            html += f"""
            <div class="metric">
                <h3>Total Sales: ${processed_data['total_sales']:,.2f}</h3>
                <p>Period: {processed_data['period']}</p>
            </div>
            <h3>Sales by Month</h3>
            <table>
                <tr><th>Month</th><th>Amount</th></tr>
            """
            for month, amount in processed_data['sales_by_month'].items():
                html += f"<tr><td>{month}</td><td>${amount:,.2f}</td></tr>"
            html += "</table>"
        
        elif 'total_users' in processed_data:
            html += f"""
            <div class="metric">
                <h3>User Statistics</h3>
                <p>Total Users: {processed_data['total_users']}</p>
                <p>Active Users: {processed_data['active_users']}</p>
                <p>Inactive Users: {processed_data['inactive_users']}</p>
                <p>Activity Rate: {processed_data['activity_rate']}%</p>
            </div>
            <h3>Registrations by Month</h3>
            <table>
                <tr><th>Month</th><th>New Users</th></tr>
            """
            for month, count in processed_data['registrations_by_month'].items():
                html += f"<tr><td>{month}</td><td>{count}</td></tr>"
            html += "</table>"
        
        elif 'total_products' in processed_data:
            html += f"""
            <div class="metric">
                <h3>Inventory Overview</h3>
                <p>Total Products: {processed_data['total_products']}</p>
                <p>Low Stock: {processed_data['low_stock_count']}</p>
                <p>Out of Stock: {processed_data['out_of_stock_count']}</p>
            </div>
            """
        
        html += """
        </body>
        </html>
        """
        return html
    
    def get_file_extension(self) -> str:
        return "html"

class CSVFormatter(ReportFormatter):
    def format_report(self, title: str, processed_data: Dict[str, Any]) -> str:
        csv_lines = [f"# {title}", f"# Generated: {datetime.now().isoformat()}", ""]
        
        if 'total_sales' in processed_data:
            csv_lines.extend([
                "Summary",
                f"Total Sales,{processed_data['total_sales']}",
                f"Period,{processed_data['period']}",
                "",
                "Month,Sales Amount"
            ])
            for month, amount in processed_data['sales_by_month'].items():
                csv_lines.append(f"{month},{amount}")
        
        elif 'total_users' in processed_data:
            csv_lines.extend([
                "Summary",
                f"Total Users,{processed_data['total_users']}",
                f"Active Users,{processed_data['active_users']}",
                f"Activity Rate,{processed_data['activity_rate']}%",
                "",
                "Month,New Registrations"
            ])
            for month, count in processed_data['registrations_by_month'].items():
                csv_lines.append(f"{month},{count}")
        
        elif 'total_products' in processed_data:
            csv_lines.extend([
                "Summary",
                f"Total Products,{processed_data['total_products']}",
                f"Low Stock,{processed_data['low_stock_count']}",
                f"Out of Stock,{processed_data['out_of_stock_count']}",
                "",
                "Category,Product Count"
            ])
            for category, count in processed_data['categories'].items():
                csv_lines.append(f"{category},{count}")
        
        return "\\n".join(csv_lines)
    
    def get_file_extension(self) -> str:
        return "csv"

class JSONFormatter(ReportFormatter):
    def format_report(self, title: str, processed_data: Dict[str, Any]) -> str:
        import json
        report_data = {
            'title': title,
            'generated_at': datetime.now().isoformat(),
            'data': processed_data
        }
        return json.dumps(report_data, indent=2, ensure_ascii=False)
    
    def get_file_extension(self) -> str:
        return "json"

# === ABSTRACT FACTORY –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ ===
class ReportComponentFactory(ABC):
    @abstractmethod
    def create_data_processor(self, report_type: str) -> DataProcessor:
        pass
    
    @abstractmethod
    def create_formatter(self, format_type: str) -> ReportFormatter:
        pass

class StandardReportFactory(ReportComponentFactory):
    def create_data_processor(self, report_type: str) -> DataProcessor:
        processors = {
            'sales': SalesDataProcessor,
            'users': UserDataProcessor,
            'inventory': InventoryDataProcessor
        }
        
        if report_type not in processors:
            raise ValueError(f"Unknown report type: {report_type}")
        
        return processors[report_type]()
    
    def create_formatter(self, format_type: str) -> ReportFormatter:
        formatters = {
            'html': HTMLFormatter,
            'csv': CSVFormatter,
            'json': JSONFormatter
        }
        
        if format_type not in formatters:
            raise ValueError(f"Unknown format type: {format_type}")
        
        return formatters[format_type]()

# PremiumReportFactory extends ReportComponentFactory to provide enhanced processors and formatters for premium features
class PremiumReportFactory(ReportComponentFactory):
    """Extends ReportComponentFactory to add premium report types and enhanced formatting options.
    
    NOTE: The premium processors and formatters (analytics, forecast, pdf, excel) are currently
    implemented as stubs/placeholders that map to standard implementations. These should be
    extended by learners with real premium implementations or replaced with actual premium
    processor/formatter classes.
    """
    def create_data_processor(self, report_type: str) -> DataProcessor:
        # Support all standard processors plus premium ones
        processors = {
            'sales': SalesDataProcessor,
            'users': UserDataProcessor,
            'inventory': InventoryDataProcessor,
            'analytics': SalesDataProcessor,  # Premium: enhanced analytics processor (STUB - replace with real implementation)
            'forecast': SalesDataProcessor     # Premium: forecasting processor (STUB - replace with real implementation)
        }
        
        if report_type not in processors:
            raise ValueError(f"Unknown report type: {report_type}")
        
        return processors[report_type]()
    
    def create_formatter(self, format_type: str) -> ReportFormatter:
        # Support all standard formatters plus premium ones
        formatters = {
            'html': HTMLFormatter,
            'csv': CSVFormatter,
            'json': JSONFormatter,
            'pdf': JSONFormatter,  # Premium: PDF formatter (STUB - using JSON as placeholder, replace with real implementation)
            'excel': CSVFormatter   # Premium: Excel formatter (STUB - using CSV as placeholder, replace with real implementation)
        }
        
        if format_type not in formatters:
            raise ValueError(f"Unknown format type: {format_type}")
        
        return formatters[format_type]()

# === TEMPLATE METHOD –¥–ª—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ ===
class ReportGenerator:
    def __init__(self, factory: ReportComponentFactory):
        self.factory = factory
    
    def generate_report(self, data: List[Dict], report_type: str, format_type: str) -> str:
        """Template Method –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–∞"""
        print(f"üîÑ Generating {report_type} report in {format_type} format...")
        
        # –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
        processor = self.factory.create_data_processor(report_type)
        
        # –®–∞–≥ 2: –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
        processed_data = processor.process(data)
        print(f"üìä Processed {len(data)} records")
        
        # –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä–∞
        formatter = self.factory.create_formatter(format_type)
        
        # –®–∞–≥ 4: –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–∞
        report_content = formatter.format_report(processor.get_report_title(), processed_data)
        
        # –®–∞–≥ 5: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
        report_with_meta = self._add_metadata(report_content, report_type, format_type)
        
        print(f"‚úÖ Report generated successfully")
        return report_with_meta
    
    def _add_metadata(self, content: str, report_type: str, format_type: str) -> str:
        """–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∫ –æ—Ç—á–µ—Ç—É"""
        metadata = f"\\n\\n<!-- Report metadata: type={report_type}, format={format_type}, timestamp={datetime.now().isoformat()} -->"
        return content + metadata
    
    def get_supported_report_types(self) -> List[str]:
        """–ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —Ç–∏–ø–æ–≤ –æ—Ç—á–µ—Ç–æ–≤"""
        return ['sales', 'users', 'inventory']
    
    def get_supported_formats(self) -> List[str]:
        """–ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤"""
        return ['html', 'csv', 'json']

# === COMMAND –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –æ—Ç—á–µ—Ç–∞–º–∏ ===
class GenerateReportCommand:
    def __init__(self, generator: ReportGenerator, data: List[Dict], 
                 report_type: str, format_type: str):
        self.generator = generator
        self.data = data
        self.report_type = report_type
        self.format_type = format_type
        self.result = None
        self.executed = False
    
    def execute(self) -> str:
        if not self.executed:
            self.result = self.generator.generate_report(
                self.data, self.report_type, self.format_type
            )
            self.executed = True
        return self.result
    
    def get_filename(self) -> str:
        factory = StandardReportFactory()
        formatter = factory.create_formatter(self.format_type)
        timestamp = datetime.now().strftime('%Y%m%d_%H%M%S')
        return f"{self.report_type}_report_{timestamp}.{formatter.get_file_extension()}"

class BatchReportCommand:
    def __init__(self, generator: ReportGenerator, data: List[Dict], 
                 report_configs: List[tuple]):
        self.generator = generator
        self.data = data
        self.report_configs = report_configs  # [(report_type, format_type), ...]
        self.results = {}
    
    def execute(self) -> Dict[str, str]:
        print(f"üîÑ Generating {len(self.report_configs)} reports in batch...")
        
        for report_type, format_type in self.report_configs:
            try:
                command = GenerateReportCommand(self.generator, self.data, report_type, format_type)
                result = command.execute()
                filename = command.get_filename()
                self.results[filename] = result
                print(f"‚úÖ Generated: {filename}")
            except Exception as e:
                print(f"‚ùå Failed to generate {report_type}.{format_type}: {e}")
        
        return self.results
```

### –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –æ—Ç—á–µ—Ç–æ–≤
```python
def demo_improved_report_system():
    print("üîß === –†–ï–§–ê–ö–¢–û–†–ò–ù–ì –°–ò–°–¢–ï–ú–´ –û–¢–ß–ï–¢–û–í ===\\n")
    
    # –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
    test_data = [
        {'type': 'sale', 'amount': 1500, 'date': '2024-01-15'},
        {'type': 'sale', 'amount': 2300, 'date': '2024-01-20'},
        {'type': 'sale', 'amount': 1800, 'date': '2024-02-10'},
        {'type': 'user', 'active': True, 'registration_date': '2024-01-10'},
        {'type': 'user', 'active': False, 'registration_date': '2024-01-15'},
        {'type': 'user', 'active': True, 'registration_date': '2024-02-05'},
        {'type': 'product', 'category': 'Electronics', 'stock': 5, 'min_stock': 10},
        {'type': 'product', 'category': 'Books', 'stock': 0, 'min_stock': 5},
        {'type': 'product', 'category': 'Electronics', 'stock': 25, 'min_stock': 10},
    ]
    
    # –°–æ–∑–¥–∞–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ —Å —Ñ–∞–±—Ä–∏–∫–æ–π
    factory = StandardReportFactory()
    generator = ReportGenerator(factory)
    
    print("=== –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã –æ—Ç—á–µ—Ç–æ–≤ ===")
    for report_type in generator.get_supported_report_types():
        print(f"üìä {report_type}")
    
    print("\\n=== –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã ===")
    for format_type in generator.get_supported_formats():
        print(f"üìÑ {format_type}")
    
    print("\\n=== –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤ ===")
    
    # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞ –ø–æ –ø—Ä–æ–¥–∞–∂–∞–º –≤ HTML
    sales_html = generator.generate_report(test_data, 'sales', 'html')
    print(f"üìÑ Sales report HTML generated ({len(sales_html)} characters)")
    
    # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –≤ CSV
    users_csv = generator.generate_report(test_data, 'users', 'csv')
    print(f"üìÑ Users report CSV generated ({len(users_csv.splitlines())} lines)")
    
    print("\\n=== –ü–∞–∫–µ—Ç–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤ ===")
    
    # –ü–∞–∫–µ—Ç–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –æ—Ç—á–µ—Ç–æ–≤ –≤–æ –≤—Å–µ—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö
    batch_command = BatchReportCommand(
        generator, 
        test_data,
        [
            ('sales', 'html'),
            ('sales', 'csv'),
            ('users', 'json'),
            ('inventory', 'html')
        ]
    )
    
    batch_results = batch_command.execute()
    
    print(f"\\n=== –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–∞–∫–µ—Ç–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ ===")
    for filename, content in batch_results.items():
        print(f"üìÅ {filename}: {len(content)} characters")
    
    print("\\n‚úÖ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã –æ—Ç—á–µ—Ç–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω!")
    print("\\nüéâ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:")
    print("‚Ä¢ –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã –æ—Ç—á–µ—Ç–æ–≤")
    print("‚Ä¢ –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –≤—ã–≤–æ–¥–∞")
    print("‚Ä¢ –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ")
    print("‚Ä¢ –ü–∞–∫–µ—Ç–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤")
    print("‚Ä¢ –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è")

if __name__ == "__main__":
    demo_improved_report_system()
```

---

## üéØ –ü–ª–∞–Ω —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

### 1. **–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º (Code Smells)**
```python
# –ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–æ–±–ª–µ–º –≤ –∫–æ–¥–µ:
CODE_SMELLS_CHECKLIST = {
    "–î–ª–∏–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã": "–ë–æ–ª—å—à–µ 20 —Å—Ç—Ä–æ–∫ ‚Üí Template Method, Strategy",
    "–ë–æ–ª—å—à–∏–µ –∫–ª–∞—Å—Å—ã": "–ú–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π ‚Üí Single Responsibility + –ø–∞—Ç—Ç–µ—Ä–Ω—ã",
    "–î–ª–∏–Ω–Ω—ã–µ —Å–ø–∏—Å–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤": "–ë–æ–ª—å—à–µ 3-4 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ ‚Üí Builder, Parameter Object",
    "–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞": "–û–¥–∏–Ω–∞–∫–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ ‚Üí Template Method, Strategy",
    "–î–ª–∏–Ω–Ω—ã–µ —É—Å–ª–æ–≤–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏": "–ú–Ω–æ–≥–æ if/elif ‚Üí Strategy, State, Polymorphism",
    "–ñ–µ—Å—Ç–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏": "new –∫–ª–∞—Å—Å() –≤ –∫–æ–¥–µ ‚Üí Factory, Dependency Injection",
    "–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ": "–ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ ‚Üí Singleton (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!), Registry",
    "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ–±—ä—è—Å–Ω—è—é—â–∏–µ —Å–ª–æ–∂–Ω—ã–π –∫–æ–¥": "–ù—É–∂–µ–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ ‚Üí Extract Method + –ø–∞—Ç—Ç–µ—Ä–Ω—ã"
}
```

### 2. **–ü–æ—ç—Ç–∞–ø–Ω—ã–π –ø–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞**

#### –§–∞–∑–∞ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (Safety Net)
```python
# 1. –ù–∞–ø–∏—à–∏—Ç–µ —Ç–µ—Å—Ç—ã –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è
def test_current_behavior():
    # –ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ —Ç–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
    pass

# 2. –°–æ–∑–¥–∞–π—Ç–µ –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
def measure_code_quality():
    return {
        'cyclomatic_complexity': calculate_complexity(),
        'lines_of_code': count_lines(),
        'code_duplication': find_duplicates(),
        'test_coverage': get_coverage()
    }
```

#### –§–∞–∑–∞ 2: –í—ã–¥–µ–ª–µ–Ω–∏–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π
```python
# 1. –ù–∞–π–¥–∏—Ç–µ –º–µ—Å—Ç–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
def identify_pattern_opportunities():
    return {
        'strategy_candidates': find_conditional_logic(),
        'observer_candidates': find_notification_code(),
        'command_candidates': find_operation_code(),
        'factory_candidates': find_object_creation()
    }

# 2. –ù–∞—á–Ω–∏—Ç–µ —Å —Å–∞–º—ã—Ö –±–æ–ª–µ–∑–Ω–µ–Ω–Ω—ã—Ö –º–µ—Å—Ç
def prioritize_refactoring():
    return sorted_by_impact_and_effort()
```

#### –§–∞–∑–∞ 3: –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
```python
# 1. –ü—Ä–∏–º–µ–Ω—è–π—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø–æ –æ–¥–Ω–æ–º—É
def apply_pattern_incrementally(pattern_type):
    # –®–∞–≥ –∑–∞ —à–∞–≥–æ–º –≤–≤–æ–¥–∏—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω
    # –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ç–µ—Å—Ç—ã –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è
    pass

# 2. –ò–∑–º–µ—Ä—è–π—Ç–µ —É–ª—É—á—à–µ–Ω–∏—è
def measure_improvements():
    before = measure_code_quality()
    # ... apply refactoring ...
    after = measure_code_quality()
    return compare_metrics(before, after)
```

---

## üß™ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

### 1. **–ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞**
```python
# –°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞
import ast
import radon.complexity as complexity

def analyze_code_complexity(file_path):
    with open(file_path, 'r') as f:
        code = f.read()
    
    # –¶–∏–∫–ª–∏—á–µ—Å–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å
    complexity_results = complexity.cc_visit(code)
    
    # –ê–Ω–∞–ª–∏–∑ AST
    tree = ast.parse(code)
    
    stats = {
        'total_functions': len([node for node in ast.walk(tree) if isinstance(node, ast.FunctionDef)]),
        'total_classes': len([node for node in ast.walk(tree) if isinstance(node, ast.ClassDef)]),
        'max_complexity': max([item.complexity for item in complexity_results]) if complexity_results else 0,
        'avg_complexity': sum([item.complexity for item in complexity_results]) / len(complexity_results) if complexity_results else 0
    }
    
    return stats
```

### 2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤**
```python
def detect_pattern_opportunities(code_file):
    """
    Heuristic detection of pattern application opportunities using AST analysis.
    
    WARNING: This function uses approximate heuristic checks and results are NOT definitive.
    Suggestions are hints to investigate and require developer review.
    These are not definitive diagnoses - manual code review is essential.
    """
    opportunities = []
    
    with open(code_file, 'r') as f:
        code = f.read()
    
    tree = ast.parse(code)
    
    for node in ast.walk(tree):
        # –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –¥–ª—è Strategy
        if isinstance(node, ast.If) and len(node.orelse) > 2:
            opportunities.append({
                'pattern': 'Strategy',
                'line': node.lineno,
                'reason': 'Multiple conditional branches'
            })
        
        # –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –¥–ª—è Factory
        if isinstance(node, ast.Call) and isinstance(node.func, ast.Name):
            if node.func.id.endswith('()') and len(node.args) > 3:
                opportunities.append({
                    'pattern': 'Builder',
                    'line': node.lineno,
                    'reason': 'Constructor with many parameters'
                })
    
    return opportunities
```

### 3. **–ú–µ—Ç—Ä–∏–∫–∏ —É–ª—É—á—à–µ–Ω–∏—è**
```python
class RefactoringMetrics:
    def __init__(self):
        self.before = None
        self.after = None
    
    def measure_before(self, code_paths):
        self.before = self._collect_metrics(code_paths)
    
    def measure_after(self, code_paths):
        self.after = self._collect_metrics(code_paths)
    
    def _collect_metrics(self, code_paths):
        return {
            'total_lines': sum(self._count_lines(path) for path in code_paths),
            'complexity': sum(self._get_complexity(path) for path in code_paths),
            'duplication': self._find_duplication(code_paths),
            'maintainability': self._calculate_maintainability(code_paths)
        }
    
    def get_improvement_report(self):
        if not self.before or not self.after:
            return "Measurements not complete"
        
        improvements = {}
        for metric in self.before:
            before_val = self.before[metric]
            after_val = self.after[metric]
            
            if before_val != 0:
                improvement = ((before_val - after_val) / before_val) * 100
                improvements[metric] = f"{improvement:.1f}%"
        
        return improvements
```

---

## üéÆ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è

### –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 1: –ê–Ω–∞–ª–∏–∑ legacy –∫–æ–¥–∞
**–ó–∞–¥–∞–Ω–∏–µ:** –í–æ–∑—å–º–∏—Ç–µ –∫–æ–¥ –∏–∑ —Å–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ (–∏–ª–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä) –∏:
1. –ù–∞–π–¥–∏—Ç–µ 3 –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
2. –ü—Ä–µ–¥–ª–æ–∂–∏—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è –∏—Ö —Ä–µ—à–µ–Ω–∏—è
3. –°–æ–∑–¥–∞–π—Ç–µ –ø–ª–∞–Ω –ø–æ—ç—Ç–∞–ø–Ω–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

### –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 2: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
```python
# –ò—Å—Ö–æ–¥–Ω—ã–π –ø—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–¥ –¥–ª—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
class Calculator:
    def calculate(self, operation, a, b):
        if operation == "add":
            return a + b
        elif operation == "subtract":  
            return a - b
        elif operation == "multiply":
            return a * b
        elif operation == "divide":
            if b == 0:
                return "Error: Division by zero"
            return a / b
        elif operation == "power":
            return a ** b
        elif operation == "sqrt":
            if a < 0:
                return "Error: Square root of negative number"
            return a ** 0.5
        else:
            return "Error: Unknown operation"

# –ó–∞–¥–∞–Ω–∏–µ: –ü—Ä–∏–º–µ–Ω–∏—Ç—å Strategy + Command + –≤–æ–∑–º–æ–∂–Ω–æ –¥—Ä—É–≥–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
```

### –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 3: –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
**–ó–∞–¥–∞–Ω–∏–µ:** –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º Observer + Strategy + Builder

---

## üéØ –ß–µ–∫-–ª–∏—Å—Ç —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

### ‚úÖ **–ü–µ—Ä–µ–¥ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–æ–º:**
- [ ] –ï—Å—Ç—å –ª–∏ —Ç–µ—Å—Ç—ã –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è?
- [ ] –ò–∑–º–µ—Ä–µ–Ω—ã –ª–∏ —Ç–µ–∫—É—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞?
- [ ] –ü–æ–Ω—è—Ç–µ–Ω –ª–∏ –ø–ª–∞–Ω –ø–æ—ç—Ç–∞–ø–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π?
- [ ] –ï—Å—Ç—å –ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π?

### ‚úÖ **–í–æ –≤—Ä–µ–º—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:**
- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏—è –¥–µ–ª–∞—é—Ç—Å—è –Ω–µ–±–æ–ª—å—à–∏–º–∏ —à–∞–≥–∞–º–∏?
- [ ] –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è?
- [ ] –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω–æ–π?
- [ ] –ö–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–º?

### ‚úÖ **–ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:**
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç?
- [ ] –£–ª—É—á—à–∏–ª–∏—Å—å –ª–∏ –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞?
- [ ] –õ–µ–≥—á–µ –ª–∏ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å?
- [ ] –ü–æ–Ω—è—Ç–µ–Ω –ª–∏ –∫–æ–¥ –¥—Ä—É–≥–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º?

---

## üöÄ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è - —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞. –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:

1. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–µ–≤—ã—à–µ –≤—Å–µ–≥–æ** - –≤—Å–µ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–π—Ç–µ —Å —Ç–µ—Å—Ç–æ–≤
2. **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ—Å—Ç—å** - –ø—Ä–∏–º–µ–Ω—è–π—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø–æ –æ–¥–Ω–æ–º—É
3. **–ò–∑–º–µ—Ä–∏–º–æ—Å—Ç—å** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —É–ª—É—á—à–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫
4. **–ü—Ä–∞–≥–º–∞—Ç–∏–∑–º** - –Ω–µ –ø—Ä–∏–º–µ–Ω—è–π—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã —Ä–∞–¥–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

!!! success "–ß—Ç–æ –≤—ã —É–∑–Ω–∞–ª–∏"
    - ‚úÖ –°–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥ –∫ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É
    - ‚úÖ –ö–∞–∫ –ø—Ä–∏–º–µ–Ω—è—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º
    - ‚úÖ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∞–Ω–∞–ª–∏–∑–∞ –∏ –∏–∑–º–µ—Ä–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
    - ‚úÖ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ legacy –∫–æ–¥–∞

!!! tip "–ü—Ä–∞–∫—Ç–∏–∫–∞"
    –ù–∞–π–¥–∏—Ç–µ –≤ —Å–≤–æ–µ–º –ø—Ä–æ–µ–∫—Ç–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–¥ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏. –ù–∞—á–Ω–∏—Ç–µ —Å –º–∞–ª–æ–≥–æ - –æ–¥–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏–∏.

!!! success "–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º —Å –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º –ú–æ–¥—É–ª—è 2! üéâ"
    –í—ã –∏–∑—É—á–∏–ª–∏ –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –Ω–∞—É—á–∏–ª–∏—Å—å –ø—Ä–∏–º–µ–Ω—è—Ç—å –∏—Ö –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ. –≠—Ç–∏ –∑–Ω–∞–Ω–∏—è –ø–æ–º–æ–≥—É—Ç –≤–∞–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –≥–∏–±–∫–∏–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Å–∏—Å—Ç–µ–º—ã.

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ **[–ú–æ–¥—É–ª—é 3: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ü–æ–¥—Ö–æ–¥—ã](../module-03-architecture/)** - –∏–∑—É—á–µ–Ω–∏–µ –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π!

---

!!! tip "–ü–æ–º–Ω–∏—Ç–µ"
    –õ—É—á—à–∏–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ - —ç—Ç–æ —Ç–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –ø—Ä–æ—â–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ, –∞ –Ω–µ —Å–ª–æ–∂–Ω–µ–µ. –ü–∞—Ç—Ç–µ—Ä–Ω—ã –¥–æ–ª–∂–Ω—ã —Ä–µ—à–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã, –∞ –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏—Ö.

!!! warning "–í–∞–∂–Ω–æ"
    –í—Å–µ–≥–¥–∞ –∏–º–µ–π—Ç–µ –ø–ª–∞–Ω –æ—Ç–∫–∞—Ç–∞. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –±–µ–∑ —Ç–µ—Å—Ç–æ–≤ –∏ —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Å–µ—Ä—å–µ–∑–Ω—ã–º –ø—Ä–æ–±–ª–µ–º–∞–º.

## üí≠ –§–∏–Ω–∞–ª—å–Ω–∞—è —Ä–µ—Ñ–ª–µ–∫—Å–∏—è

1. –ö–∞–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ –≤–∞—à–µ–º –∫–æ–¥–µ –º–æ–∂–Ω–æ —Ä–µ—à–∏—Ç—å —Å –ø–æ–º–æ—â—å—é –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤?
2. –ö–∞–∫–æ–π –ø–∞—Ç—Ç–µ—Ä–Ω –∫–∞–∂–µ—Ç—Å—è –≤–∞–º –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–ª–µ–∑–Ω—ã–º –¥–ª—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞?
3. –ö–∞–∫ –≤—ã –±—É–¥–µ—Ç–µ –∏–∑–º–µ—Ä—è—Ç—å —É—Å–ø–µ—à–Ω–æ—Å—Ç—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –≤ —Å–≤–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö?

–£–¥–∞—á–∏ –≤ —É–ª—É—á—à–µ–Ω–∏–∏ –≤–∞—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤! üöÄ








